(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function Eb(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var vm={exports:{}},Zl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lv;function Tb(){if(Lv)return Zl;Lv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:a,key:f,ref:o!==void 0?o:null,props:u}}return Zl.Fragment=e,Zl.jsx=n,Zl.jsxs=n,Zl}var kv;function Sb(){return kv||(kv=1,vm.exports=Tb()),vm.exports}var he=Sb(),Em={exports:{}},Fe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uv;function wb(){if(Uv)return Fe;Uv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),S=Symbol.iterator;function w(O){return O===null||typeof O!="object"?null:(O=S&&O[S]||O["@@iterator"],typeof O=="function"?O:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,W={};function q(O,ee,fe){this.props=O,this.context=ee,this.refs=W,this.updater=fe||D}q.prototype.isReactComponent={},q.prototype.setState=function(O,ee){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,ee,"setState")},q.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function J(){}J.prototype=q.prototype;function se(O,ee,fe){this.props=O,this.context=ee,this.refs=W,this.updater=fe||D}var ue=se.prototype=new J;ue.constructor=se,U(ue,q.prototype),ue.isPureReactComponent=!0;var Ce=Array.isArray,me={H:null,A:null,T:null,S:null,V:null},H=Object.prototype.hasOwnProperty;function M(O,ee,fe,oe,Ae,je){return fe=je.ref,{$$typeof:r,type:O,key:ee,ref:fe!==void 0?fe:null,props:je}}function b(O,ee){return M(O.type,ee,void 0,void 0,void 0,O.props)}function R(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function x(O){var ee={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(fe){return ee[fe]})}var P=/\/+/g;function L(O,ee){return typeof O=="object"&&O!==null&&O.key!=null?x(""+O.key):ee.toString(36)}function I(){}function qe(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(I,I):(O.status="pending",O.then(function(ee){O.status==="pending"&&(O.status="fulfilled",O.value=ee)},function(ee){O.status==="pending"&&(O.status="rejected",O.reason=ee)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function et(O,ee,fe,oe,Ae){var je=typeof O;(je==="undefined"||je==="boolean")&&(O=null);var Ne=!1;if(O===null)Ne=!0;else switch(je){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch(O.$$typeof){case r:case e:Ne=!0;break;case v:return Ne=O._init,et(Ne(O._payload),ee,fe,oe,Ae)}}if(Ne)return Ae=Ae(O),Ne=oe===""?"."+L(O,0):oe,Ce(Ae)?(fe="",Ne!=null&&(fe=Ne.replace(P,"$&/")+"/"),et(Ae,ee,fe,"",function($n){return $n})):Ae!=null&&(R(Ae)&&(Ae=b(Ae,fe+(Ae.key==null||O&&O.key===Ae.key?"":(""+Ae.key).replace(P,"$&/")+"/")+Ne)),ee.push(Ae)),1;Ne=0;var Ut=oe===""?".":oe+":";if(Ce(O))for(var gt=0;gt<O.length;gt++)oe=O[gt],je=Ut+L(oe,gt),Ne+=et(oe,ee,fe,je,Ae);else if(gt=w(O),typeof gt=="function")for(O=gt.call(O),gt=0;!(oe=O.next()).done;)oe=oe.value,je=Ut+L(oe,gt++),Ne+=et(oe,ee,fe,je,Ae);else if(je==="object"){if(typeof O.then=="function")return et(qe(O),ee,fe,oe,Ae);throw ee=String(O),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function K(O,ee,fe){if(O==null)return O;var oe=[],Ae=0;return et(O,oe,"","",function(je){return ee.call(fe,je,Ae++)}),oe}function ce(O){if(O._status===-1){var ee=O._result;ee=ee(),ee.then(function(fe){(O._status===0||O._status===-1)&&(O._status=1,O._result=fe)},function(fe){(O._status===0||O._status===-1)&&(O._status=2,O._result=fe)}),O._status===-1&&(O._status=0,O._result=ee)}if(O._status===1)return O._result.default;throw O._result}var ge=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function Be(){}return Fe.Children={map:K,forEach:function(O,ee,fe){K(O,function(){ee.apply(this,arguments)},fe)},count:function(O){var ee=0;return K(O,function(){ee++}),ee},toArray:function(O){return K(O,function(ee){return ee})||[]},only:function(O){if(!R(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Fe.Component=q,Fe.Fragment=n,Fe.Profiler=o,Fe.PureComponent=se,Fe.StrictMode=a,Fe.Suspense=p,Fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=me,Fe.__COMPILER_RUNTIME={__proto__:null,c:function(O){return me.H.useMemoCache(O)}},Fe.cache=function(O){return function(){return O.apply(null,arguments)}},Fe.cloneElement=function(O,ee,fe){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var oe=U({},O.props),Ae=O.key,je=void 0;if(ee!=null)for(Ne in ee.ref!==void 0&&(je=void 0),ee.key!==void 0&&(Ae=""+ee.key),ee)!H.call(ee,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&ee.ref===void 0||(oe[Ne]=ee[Ne]);var Ne=arguments.length-2;if(Ne===1)oe.children=fe;else if(1<Ne){for(var Ut=Array(Ne),gt=0;gt<Ne;gt++)Ut[gt]=arguments[gt+2];oe.children=Ut}return M(O.type,Ae,void 0,void 0,je,oe)},Fe.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},Fe.createElement=function(O,ee,fe){var oe,Ae={},je=null;if(ee!=null)for(oe in ee.key!==void 0&&(je=""+ee.key),ee)H.call(ee,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(Ae[oe]=ee[oe]);var Ne=arguments.length-2;if(Ne===1)Ae.children=fe;else if(1<Ne){for(var Ut=Array(Ne),gt=0;gt<Ne;gt++)Ut[gt]=arguments[gt+2];Ae.children=Ut}if(O&&O.defaultProps)for(oe in Ne=O.defaultProps,Ne)Ae[oe]===void 0&&(Ae[oe]=Ne[oe]);return M(O,je,void 0,void 0,null,Ae)},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(O){return{$$typeof:m,render:O}},Fe.isValidElement=R,Fe.lazy=function(O){return{$$typeof:v,_payload:{_status:-1,_result:O},_init:ce}},Fe.memo=function(O,ee){return{$$typeof:g,type:O,compare:ee===void 0?null:ee}},Fe.startTransition=function(O){var ee=me.T,fe={};me.T=fe;try{var oe=O(),Ae=me.S;Ae!==null&&Ae(fe,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(Be,ge)}catch(je){ge(je)}finally{me.T=ee}},Fe.unstable_useCacheRefresh=function(){return me.H.useCacheRefresh()},Fe.use=function(O){return me.H.use(O)},Fe.useActionState=function(O,ee,fe){return me.H.useActionState(O,ee,fe)},Fe.useCallback=function(O,ee){return me.H.useCallback(O,ee)},Fe.useContext=function(O){return me.H.useContext(O)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(O,ee){return me.H.useDeferredValue(O,ee)},Fe.useEffect=function(O,ee,fe){var oe=me.H;if(typeof fe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return oe.useEffect(O,ee)},Fe.useId=function(){return me.H.useId()},Fe.useImperativeHandle=function(O,ee,fe){return me.H.useImperativeHandle(O,ee,fe)},Fe.useInsertionEffect=function(O,ee){return me.H.useInsertionEffect(O,ee)},Fe.useLayoutEffect=function(O,ee){return me.H.useLayoutEffect(O,ee)},Fe.useMemo=function(O,ee){return me.H.useMemo(O,ee)},Fe.useOptimistic=function(O,ee){return me.H.useOptimistic(O,ee)},Fe.useReducer=function(O,ee,fe){return me.H.useReducer(O,ee,fe)},Fe.useRef=function(O){return me.H.useRef(O)},Fe.useState=function(O){return me.H.useState(O)},Fe.useSyncExternalStore=function(O,ee,fe){return me.H.useSyncExternalStore(O,ee,fe)},Fe.useTransition=function(){return me.H.useTransition()},Fe.version="19.1.0",Fe}var zv;function _p(){return zv||(zv=1,Em.exports=wb()),Em.exports}var Y=_p();const Ts=Eb(Y);var Tm={exports:{}},Jl={},Sm={exports:{}},wm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bv;function Ab(){return Bv||(Bv=1,function(r){function e(K,ce){var ge=K.length;K.push(ce);e:for(;0<ge;){var Be=ge-1>>>1,O=K[Be];if(0<o(O,ce))K[Be]=ce,K[ge]=O,ge=Be;else break e}}function n(K){return K.length===0?null:K[0]}function a(K){if(K.length===0)return null;var ce=K[0],ge=K.pop();if(ge!==ce){K[0]=ge;e:for(var Be=0,O=K.length,ee=O>>>1;Be<ee;){var fe=2*(Be+1)-1,oe=K[fe],Ae=fe+1,je=K[Ae];if(0>o(oe,ge))Ae<O&&0>o(je,oe)?(K[Be]=je,K[Ae]=ge,Be=Ae):(K[Be]=oe,K[fe]=ge,Be=fe);else if(Ae<O&&0>o(je,ge))K[Be]=je,K[Ae]=ge,Be=Ae;else break e}}return ce}function o(K,ce){var ge=K.sortIndex-ce.sortIndex;return ge!==0?ge:K.id-ce.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],g=[],v=1,S=null,w=3,D=!1,U=!1,W=!1,q=!1,J=typeof setTimeout=="function"?setTimeout:null,se=typeof clearTimeout=="function"?clearTimeout:null,ue=typeof setImmediate<"u"?setImmediate:null;function Ce(K){for(var ce=n(g);ce!==null;){if(ce.callback===null)a(g);else if(ce.startTime<=K)a(g),ce.sortIndex=ce.expirationTime,e(p,ce);else break;ce=n(g)}}function me(K){if(W=!1,Ce(K),!U)if(n(p)!==null)U=!0,H||(H=!0,L());else{var ce=n(g);ce!==null&&et(me,ce.startTime-K)}}var H=!1,M=-1,b=5,R=-1;function x(){return q?!0:!(r.unstable_now()-R<b)}function P(){if(q=!1,H){var K=r.unstable_now();R=K;var ce=!0;try{e:{U=!1,W&&(W=!1,se(M),M=-1),D=!0;var ge=w;try{t:{for(Ce(K),S=n(p);S!==null&&!(S.expirationTime>K&&x());){var Be=S.callback;if(typeof Be=="function"){S.callback=null,w=S.priorityLevel;var O=Be(S.expirationTime<=K);if(K=r.unstable_now(),typeof O=="function"){S.callback=O,Ce(K),ce=!0;break t}S===n(p)&&a(p),Ce(K)}else a(p);S=n(p)}if(S!==null)ce=!0;else{var ee=n(g);ee!==null&&et(me,ee.startTime-K),ce=!1}}break e}finally{S=null,w=ge,D=!1}ce=void 0}}finally{ce?L():H=!1}}}var L;if(typeof ue=="function")L=function(){ue(P)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,qe=I.port2;I.port1.onmessage=P,L=function(){qe.postMessage(null)}}else L=function(){J(P,0)};function et(K,ce){M=J(function(){K(r.unstable_now())},ce)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(K){switch(w){case 1:case 2:case 3:var ce=3;break;default:ce=w}var ge=w;w=ce;try{return K()}finally{w=ge}},r.unstable_requestPaint=function(){q=!0},r.unstable_runWithPriority=function(K,ce){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ge=w;w=K;try{return ce()}finally{w=ge}},r.unstable_scheduleCallback=function(K,ce,ge){var Be=r.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Be+ge:Be):ge=Be,K){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=ge+O,K={id:v++,callback:ce,priorityLevel:K,startTime:ge,expirationTime:O,sortIndex:-1},ge>Be?(K.sortIndex=ge,e(g,K),n(p)===null&&K===n(g)&&(W?(se(M),M=-1):W=!0,et(me,ge-Be))):(K.sortIndex=O,e(p,K),U||D||(U=!0,H||(H=!0,L()))),K},r.unstable_shouldYield=x,r.unstable_wrapCallback=function(K){var ce=w;return function(){var ge=w;w=ce;try{return K.apply(this,arguments)}finally{w=ge}}}}(wm)),wm}var jv;function bb(){return jv||(jv=1,Sm.exports=Ab()),Sm.exports}var Am={exports:{}},yn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hv;function Rb(){if(Hv)return yn;Hv=1;var r=_p();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,v){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:p,containerInfo:g,implementation:v}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return yn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,yn.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,v)},yn.flushSync=function(p){var g=f.T,v=a.p;try{if(f.T=null,a.p=2,p)return p()}finally{f.T=g,a.p=v,a.d.f()}},yn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(p,g))},yn.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},yn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,S=m(v,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,D=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?a.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:w,fetchPriority:D}):v==="script"&&a.d.X(p,{crossOrigin:S,integrity:w,fetchPriority:D,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},yn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=m(g.as,g.crossOrigin);a.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(p)},yn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,S=m(v,g.crossOrigin);a.d.L(p,v,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},yn.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=m(g.as,g.crossOrigin);a.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(p)},yn.requestFormReset=function(p){a.d.r(p)},yn.unstable_batchedUpdates=function(p,g){return p(g)},yn.useFormState=function(p,g,v){return f.H.useFormState(p,g,v)},yn.useFormStatus=function(){return f.H.useHostTransitionStatus()},yn.version="19.1.0",yn}var qv;function YT(){if(qv)return Am.exports;qv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Am.exports=Rb(),Am.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fv;function Ib(){if(Fv)return Jl;Fv=1;var r=bb(),e=_p(),n=YT();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,s=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(s=i.return),t=i.return;while(t)}return i.tag===3?s:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(a(188))}function p(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(a(188));return i!==t?null:t}for(var s=t,l=i;;){var h=s.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===s)return m(h),t;if(d===l)return m(h),i;d=d.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=d;else{for(var E=!1,T=h.child;T;){if(T===s){E=!0,s=h,l=d;break}if(T===l){E=!0,l=h,s=d;break}T=T.sibling}if(!E){for(T=d.child;T;){if(T===s){E=!0,s=d,l=h;break}if(T===l){E=!0,l=d,s=h;break}T=T.sibling}if(!E)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:i}function g(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=g(t),i!==null)return i;t=t.sibling}return null}var v=Object.assign,S=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),J=Symbol.for("react.provider"),se=Symbol.for("react.consumer"),ue=Symbol.for("react.context"),Ce=Symbol.for("react.forward_ref"),me=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=P&&t[P]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function qe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case U:return"Fragment";case q:return"Profiler";case W:return"StrictMode";case me:return"Suspense";case H:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case D:return"Portal";case ue:return(t.displayName||"Context")+".Provider";case se:return(t._context.displayName||"Context")+".Consumer";case Ce:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case M:return i=t.displayName||null,i!==null?i:qe(t.type)||"Memo";case b:i=t._payload,t=t._init;try{return qe(t(i))}catch{}}return null}var et=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},Be=[],O=-1;function ee(t){return{current:t}}function fe(t){0>O||(t.current=Be[O],Be[O]=null,O--)}function oe(t,i){O++,Be[O]=t.current,t.current=i}var Ae=ee(null),je=ee(null),Ne=ee(null),Ut=ee(null);function gt(t,i){switch(oe(Ne,i),oe(je,t),oe(Ae,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?cv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=cv(i),t=hv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}fe(Ae),oe(Ae,t)}function $n(){fe(Ae),fe(je),fe(Ne)}function bt(t){t.memoizedState!==null&&oe(Ut,t);var i=Ae.current,s=hv(i,t.type);i!==s&&(oe(je,t),oe(Ae,s))}function mn(t){je.current===t&&(fe(Ae),fe(je)),Ut.current===t&&(fe(Ut),Ql._currentValue=ge)}var Mr=Object.prototype.hasOwnProperty,si=r.unstable_scheduleCallback,wn=r.unstable_cancelCallback,qa=r.unstable_shouldYield,ks=r.unstable_requestPaint,An=r.unstable_now,el=r.unstable_getCurrentPriorityLevel,Fa=r.unstable_ImmediatePriority,Ui=r.unstable_UserBlockingPriority,oi=r.unstable_NormalPriority,yr=r.unstable_LowPriority,Xn=r.unstable_IdlePriority,zi=r.log,Bi=r.unstable_setDisableYieldValue,ot=null,Ge=null;function pn(t){if(typeof zi=="function"&&Bi(t),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(ot,t)}catch{}}var zt=Math.clz32?Math.clz32:xr,Us=Math.log,Wn=Math.LN2;function xr(t){return t>>>=0,t===0?32:31-(Us(t)/Wn|0)|0}var Vr=256,Pr=4194304;function kn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function li(t,i,s){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,E=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=kn(l):(E&=T,E!==0?h=kn(E):s||(s=T&~t,s!==0&&(h=kn(s))))):(T=l&~d,T!==0?h=kn(T):E!==0?h=kn(E):s||(s=l&~t,s!==0&&(h=kn(s)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,s=i&-i,d>=s||d===32&&(s&4194048)!==0)?i:h}function Zn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function ji(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ui(){var t=Vr;return Vr<<=1,(Vr&4194048)===0&&(Vr=256),t}function Ga(){var t=Pr;return Pr<<=1,(Pr&62914560)===0&&(Pr=4194304),t}function Jn(t){for(var i=[],s=0;31>s;s++)i.push(t);return i}function _r(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Hi(t,i,s,l,h,d){var E=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var T=t.entanglements,C=t.expirationTimes,F=t.hiddenUpdates;for(s=E&~s;0<s;){var Z=31-zt(s),re=1<<Z;T[Z]=0,C[Z]=-1;var Q=F[Z];if(Q!==null)for(F[Z]=null,Z=0;Z<Q.length;Z++){var $=Q[Z];$!==null&&($.lane&=-536870913)}s&=~re}l!==0&&bn(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(E&~i))}function bn(t,i,s){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-zt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|s&4194090}function Lr(t,i){var s=t.entangledLanes|=i;for(t=t.entanglements;s;){var l=31-zt(s),h=1<<l;h&i|t[l]&i&&(t[l]|=i),s&=~h}}function kr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function qi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function N(){var t=ce.p;return t!==0?t:(t=window.event,t===void 0?32:Nv(t.type))}function z(t,i){var s=ce.p;try{return ce.p=t,i()}finally{ce.p=s}}var G=Math.random().toString(36).slice(2),ie="__reactFiber$"+G,le="__reactProps$"+G,ye="__reactContainer$"+G,be="__reactEvents$"+G,Te="__reactListeners$"+G,Se="__reactHandles$"+G,De="__reactResources$"+G,we="__reactMarker$"+G;function ve(t){delete t[ie],delete t[le],delete t[be],delete t[Te],delete t[Se]}function He(t){var i=t[ie];if(i)return i;for(var s=t.parentNode;s;){if(i=s[ye]||s[ie]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(t=pv(t);t!==null;){if(s=t[ie])return s;t=pv(t)}return i}t=s,s=t.parentNode}return null}function tt(t){if(t=t[ie]||t[ye]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function dt(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function lt(t){var i=t[De];return i||(i=t[De]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ke(t){t[we]=!0}var ut=new Set,On={};function an(t,i){Wt(t,i),Wt(t+"Capture",i)}function Wt(t,i){for(On[t]=i,t=0;t<i.length;t++)ut.add(i[t])}var Rn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fi={},Un={};function er(t){return Mr.call(Un,t)?!0:Mr.call(Fi,t)?!1:Rn.test(t)?Un[t]=!0:(Fi[t]=!0,!1)}function zn(t,i,s){if(er(i))if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+s)}}function In(t,i,s){if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+s)}}function Me(t,i,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(i,s,""+l)}}var It,vr;function sn(t){if(It===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);It=i&&i[1]||"",vr=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+It+t+vr}var St=!1;function Er(t,i){if(!t||St)return"";St=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch($){var Q=$}Reflect.construct(t,[],re)}else{try{re.call()}catch($){Q=$}t.call(re.prototype)}}else{try{throw Error()}catch($){Q=$}(re=t())&&typeof re.catch=="function"&&re.catch(function(){})}}catch($){if($&&Q&&typeof $.stack=="string")return[$.stack,Q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),E=d[0],T=d[1];if(E&&T){var C=E.split(`
`),F=T.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<F.length&&!F[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===F.length)for(l=C.length-1,h=F.length-1;1<=l&&0<=h&&C[l]!==F[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==F[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==F[h]){var Z=`
`+C[l].replace(" at new "," at ");return t.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",t.displayName)),Z}while(1<=l&&0<=h);break}}}finally{St=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?sn(s):""}function Gi(t){switch(t.tag){case 26:case 27:case 5:return sn(t.type);case 16:return sn("Lazy");case 13:return sn("Suspense");case 19:return sn("SuspenseList");case 0:case 15:return Er(t.type,!1);case 11:return Er(t.type.render,!1);case 1:return Er(t.type,!0);case 31:return sn("Activity");default:return""}}function Ki(t){try{var i="";do i+=Gi(t),t=t.return;while(t);return i}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function Cn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function tl(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function wf(t){var i=tl(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,d=s.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(E){l=""+E,d.call(this,E)}}),Object.defineProperty(t,i,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function zs(t){t._valueTracker||(t._valueTracker=wf(t))}function nl(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var s=i.getValue(),l="";return t&&(l=tl(t)?t.checked?"true":"false":t.value),t=l,t!==s?(i.setValue(t),!0):!1}function Ka(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Af=/[\n"\\]/g;function Bt(t){return t.replace(Af,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Bn(t,i,s,l,h,d,E,T){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),i!=null?E==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Cn(i)):t.value!==""+Cn(i)&&(t.value=""+Cn(i)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),i!=null?Qi(t,E,Cn(i)):s!=null?Qi(t,E,Cn(s)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Cn(T):t.removeAttribute("name")}function Qa(t,i,s,l,h,d,E,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;s=s!=null?""+Cn(s):"",i=i!=null?""+Cn(i):s,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E)}function Qi(t,i,s){i==="number"&&Ka(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function ci(t,i,s,l){if(t=t.options,i){i={};for(var h=0;h<s.length;h++)i["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=i.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&l&&(t[s].defaultSelected=!0)}else{for(s=""+Cn(s),i=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function yt(t,i,s){if(i!=null&&(i=""+Cn(i),i!==t.value&&(t.value=i),s==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=s!=null?""+Cn(s):""}function Ya(t,i,s,l){if(i==null){if(l!=null){if(s!=null)throw Error(a(92));if(et(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),i=s}s=Cn(i),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l)}function tr(t,i){if(i){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=i;return}}t.textContent=i}var $a=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Hu(t,i,s){var l=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,s):typeof s!="number"||s===0||$a.has(i)?i==="float"?t.cssFloat=s:t[i]=(""+s).trim():t[i]=s+"px"}function rl(t,i,s){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&s[h]!==l&&Hu(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Hu(t,d,i[d])}function il(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Bs(t){return Rf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var hi=null;function nr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var fi=null,di=null;function al(t){var i=tt(t);if(i&&(t=i.stateNode)){var s=t[le]||null;e:switch(t=i.stateNode,i.type){case"input":if(Bn(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Bt(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var l=s[i];if(l!==t&&l.form===t.form){var h=l[le]||null;if(!h)throw Error(a(90));Bn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<s.length;i++)l=s[i],l.form===t.form&&nl(l)}break e;case"textarea":yt(t,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&ci(t,!!s.multiple,i,!1)}}}var Ur=!1;function qu(t,i,s){if(Ur)return t(i,s);Ur=!0;try{var l=t(i);return l}finally{if(Ur=!1,(fi!==null||di!==null)&&(Lc(),fi&&(i=fi,t=di,di=fi=null,al(i),t)))for(i=0;i<t.length;i++)al(t[i])}}function Xa(t,i){var s=t.stateNode;if(s===null)return null;var l=s[le]||null;if(l===null)return null;s=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,i,typeof s));return s}var Tr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rr=!1;if(Tr)try{var Wa={};Object.defineProperty(Wa,"passive",{get:function(){rr=!0}}),window.addEventListener("test",Wa,Wa),window.removeEventListener("test",Wa,Wa)}catch{rr=!1}var zr=null,Yi=null,mi=null;function sl(){if(mi)return mi;var t,i=Yi,s=i.length,l,h="value"in zr?zr.value:zr.textContent,d=h.length;for(t=0;t<s&&i[t]===h[t];t++);var E=s-t;for(l=1;l<=E&&i[s-l]===h[d-l];l++);return mi=h.slice(t,1<l?1-l:void 0)}function Br(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function jr(){return!0}function ol(){return!1}function Zt(t){function i(s,l,h,d,E){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(s=t[T],this[T]=s?s(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?jr:ol,this.isPropagationStopped=ol,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=jr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=jr)},persist:function(){},isPersistent:jr}),i}var ht={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},js=Zt(ht),Za=v({},ht,{view:0,detail:0}),Fu=Zt(Za),Hs,qs,Hr,Ja=v({},Za,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ns,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Hr&&(Hr&&t.type==="mousemove"?(Hs=t.screenX-Hr.screenX,qs=t.screenY-Hr.screenY):qs=Hs=0,Hr=t),Hs)},movementY:function(t){return"movementY"in t?t.movementY:qs}}),ir=Zt(Ja),Gu=v({},Ja,{dataTransfer:0}),If=Zt(Gu),es=v({},Za,{relatedTarget:0}),Fs=Zt(es),ll=v({},ht,{animationName:0,elapsedTime:0,pseudoElement:0}),Gs=Zt(ll),Ku=v({},ht,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ks=Zt(Ku),Cf=v({},ht,{data:0}),ul=Zt(Cf),ts={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cl(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Yu[t])?!!i[t]:!1}function ns(){return cl}var $u=v({},Za,{key:function(t){if(t.key){var i=ts[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Br(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Qu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ns,charCode:function(t){return t.type==="keypress"?Br(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Br(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Qs=Zt($u),Xu=v({},Ja,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hl=Zt(Xu),pi=v({},Za,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ns}),Wu=Zt(pi),Zu=v({},ht,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ju=Zt(Zu),ec=v({},Ja,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ys=Zt(ec),Dn=v({},ht,{newState:0,oldState:0}),tc=Zt(Dn),nc=[9,13,27,32],qr=Tr&&"CompositionEvent"in window,c=null;Tr&&"documentMode"in document&&(c=document.documentMode);var y=Tr&&"TextEvent"in window&&!c,_=Tr&&(!qr||c&&8<c&&11>=c),A=" ",B=!1;function X(t,i){switch(t){case"keyup":return nc.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function de(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var nt=!1;function Kt(t,i){switch(t){case"compositionend":return de(i);case"keypress":return i.which!==32?null:(B=!0,A);case"textInput":return t=i.data,t===A&&B?null:t;default:return null}}function rt(t,i){if(nt)return t==="compositionend"||!qr&&X(t,i)?(t=sl(),mi=Yi=zr=null,nt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Jt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Jt[t.type]:i==="textarea"}function gi(t,i,s,l){fi?di?di.push(l):di=[l]:fi=l,i=Hc(i,"onChange"),0<i.length&&(s=new js("onChange","change",null,s,l),t.push({event:s,listeners:i}))}var on=null,Fr=null;function fl(t){av(t,0)}function rc(t){var i=dt(t);if(nl(i))return t}function Rg(t,i){if(t==="change")return i}var Ig=!1;if(Tr){var Df;if(Tr){var Nf="oninput"in document;if(!Nf){var Cg=document.createElement("div");Cg.setAttribute("oninput","return;"),Nf=typeof Cg.oninput=="function"}Df=Nf}else Df=!1;Ig=Df&&(!document.documentMode||9<document.documentMode)}function Dg(){on&&(on.detachEvent("onpropertychange",Ng),Fr=on=null)}function Ng(t){if(t.propertyName==="value"&&rc(Fr)){var i=[];gi(i,Fr,t,nr(t)),qu(fl,i)}}function Xw(t,i,s){t==="focusin"?(Dg(),on=i,Fr=s,on.attachEvent("onpropertychange",Ng)):t==="focusout"&&Dg()}function Ww(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return rc(Fr)}function Zw(t,i){if(t==="click")return rc(i)}function Jw(t,i){if(t==="input"||t==="change")return rc(i)}function eA(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var jn=typeof Object.is=="function"?Object.is:eA;function dl(t,i){if(jn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var s=Object.keys(t),l=Object.keys(i);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!Mr.call(i,h)||!jn(t[h],i[h]))return!1}return!0}function Og(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Mg(t,i){var s=Og(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=i&&l>=i)return{node:s,offset:i-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Og(s)}}function xg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?xg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Vg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ka(t.document);i instanceof t.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)t=i.contentWindow;else break;i=Ka(t.document)}return i}function Of(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var tA=Tr&&"documentMode"in document&&11>=document.documentMode,$s=null,Mf=null,ml=null,xf=!1;function Pg(t,i,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;xf||$s==null||$s!==Ka(l)||(l=$s,"selectionStart"in l&&Of(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ml&&dl(ml,l)||(ml=l,l=Hc(Mf,"onSelect"),0<l.length&&(i=new js("onSelect","select",null,i,s),t.push({event:i,listeners:l}),i.target=$s)))}function rs(t,i){var s={};return s[t.toLowerCase()]=i.toLowerCase(),s["Webkit"+t]="webkit"+i,s["Moz"+t]="moz"+i,s}var Xs={animationend:rs("Animation","AnimationEnd"),animationiteration:rs("Animation","AnimationIteration"),animationstart:rs("Animation","AnimationStart"),transitionrun:rs("Transition","TransitionRun"),transitionstart:rs("Transition","TransitionStart"),transitioncancel:rs("Transition","TransitionCancel"),transitionend:rs("Transition","TransitionEnd")},Vf={},Lg={};Tr&&(Lg=document.createElement("div").style,"AnimationEvent"in window||(delete Xs.animationend.animation,delete Xs.animationiteration.animation,delete Xs.animationstart.animation),"TransitionEvent"in window||delete Xs.transitionend.transition);function is(t){if(Vf[t])return Vf[t];if(!Xs[t])return t;var i=Xs[t],s;for(s in i)if(i.hasOwnProperty(s)&&s in Lg)return Vf[t]=i[s];return t}var kg=is("animationend"),Ug=is("animationiteration"),zg=is("animationstart"),nA=is("transitionrun"),rA=is("transitionstart"),iA=is("transitioncancel"),Bg=is("transitionend"),jg=new Map,Pf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Pf.push("scrollEnd");function Sr(t,i){jg.set(t,i),an(i,[t])}var Hg=new WeakMap;function ar(t,i){if(typeof t=="object"&&t!==null){var s=Hg.get(t);return s!==void 0?s:(i={value:t,source:i,stack:Ki(i)},Hg.set(t,i),i)}return{value:t,source:i,stack:Ki(i)}}var sr=[],Ws=0,Lf=0;function ic(){for(var t=Ws,i=Lf=Ws=0;i<t;){var s=sr[i];sr[i++]=null;var l=sr[i];sr[i++]=null;var h=sr[i];sr[i++]=null;var d=sr[i];if(sr[i++]=null,l!==null&&h!==null){var E=l.pending;E===null?h.next=h:(h.next=E.next,E.next=h),l.pending=h}d!==0&&qg(s,h,d)}}function ac(t,i,s,l){sr[Ws++]=t,sr[Ws++]=i,sr[Ws++]=s,sr[Ws++]=l,Lf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function kf(t,i,s,l){return ac(t,i,s,l),sc(t)}function Zs(t,i){return ac(t,null,null,i),sc(t)}function qg(t,i,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var h=!1,d=t.return;d!==null;)d.childLanes|=s,l=d.alternate,l!==null&&(l.childLanes|=s),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-zt(s),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=s|536870912),d):null}function sc(t){if(50<zl)throw zl=0,qd=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Js={};function aA(t,i,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hn(t,i,s,l){return new aA(t,i,s,l)}function Uf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function yi(t,i){var s=t.alternate;return s===null?(s=Hn(t.tag,i,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=i,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,i=t.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Fg(t,i){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,i=s.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function oc(t,i,s,l,h,d){var E=0;if(l=t,typeof t=="function")Uf(t)&&(E=1);else if(typeof t=="string")E=ob(t,s,Ae.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=Hn(31,s,i,h),t.elementType=R,t.lanes=d,t;case U:return as(s.children,h,d,i);case W:E=8,h|=24;break;case q:return t=Hn(12,s,i,h|2),t.elementType=q,t.lanes=d,t;case me:return t=Hn(13,s,i,h),t.elementType=me,t.lanes=d,t;case H:return t=Hn(19,s,i,h),t.elementType=H,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case J:case ue:E=10;break e;case se:E=9;break e;case Ce:E=11;break e;case M:E=14;break e;case b:E=16,l=null;break e}E=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return i=Hn(E,s,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function as(t,i,s,l){return t=Hn(7,t,l,i),t.lanes=s,t}function zf(t,i,s){return t=Hn(6,t,null,i),t.lanes=s,t}function Bf(t,i,s){return i=Hn(4,t.children!==null?t.children:[],t.key,i),i.lanes=s,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var eo=[],to=0,lc=null,uc=0,or=[],lr=0,ss=null,_i=1,vi="";function os(t,i){eo[to++]=uc,eo[to++]=lc,lc=t,uc=i}function Gg(t,i,s){or[lr++]=_i,or[lr++]=vi,or[lr++]=ss,ss=t;var l=_i;t=vi;var h=32-zt(l)-1;l&=~(1<<h),s+=1;var d=32-zt(i)+h;if(30<d){var E=h-h%5;d=(l&(1<<E)-1).toString(32),l>>=E,h-=E,_i=1<<32-zt(i)+h|s<<h|l,vi=d+t}else _i=1<<d|s<<h|l,vi=t}function jf(t){t.return!==null&&(os(t,1),Gg(t,1,0))}function Hf(t){for(;t===lc;)lc=eo[--to],eo[to]=null,uc=eo[--to],eo[to]=null;for(;t===ss;)ss=or[--lr],or[lr]=null,vi=or[--lr],or[lr]=null,_i=or[--lr],or[lr]=null}var Nn=null,Ot=null,ct=!1,ls=null,Gr=!1,qf=Error(a(519));function us(t){var i=Error(a(418,""));throw yl(ar(i,t)),qf}function Kg(t){var i=t.stateNode,s=t.type,l=t.memoizedProps;switch(i[ie]=t,i[le]=l,s){case"dialog":Xe("cancel",i),Xe("close",i);break;case"iframe":case"object":case"embed":Xe("load",i);break;case"video":case"audio":for(s=0;s<jl.length;s++)Xe(jl[s],i);break;case"source":Xe("error",i);break;case"img":case"image":case"link":Xe("error",i),Xe("load",i);break;case"details":Xe("toggle",i);break;case"input":Xe("invalid",i),Qa(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),zs(i);break;case"select":Xe("invalid",i);break;case"textarea":Xe("invalid",i),Ya(i,l.value,l.defaultValue,l.children),zs(i)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||l.suppressHydrationWarning===!0||uv(i.textContent,s)?(l.popover!=null&&(Xe("beforetoggle",i),Xe("toggle",i)),l.onScroll!=null&&Xe("scroll",i),l.onScrollEnd!=null&&Xe("scrollend",i),l.onClick!=null&&(i.onclick=qc),i=!0):i=!1,i||us(t)}function Qg(t){for(Nn=t.return;Nn;)switch(Nn.tag){case 5:case 13:Gr=!1;return;case 27:case 3:Gr=!0;return;default:Nn=Nn.return}}function pl(t){if(t!==Nn)return!1;if(!ct)return Qg(t),ct=!0,!1;var i=t.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||am(t.type,t.memoizedProps)),s=!s),s&&Ot&&us(t),Qg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(i===0){Ot=Ar(t.nextSibling);break e}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++;t=t.nextSibling}Ot=null}}else i===27?(i=Ot,ca(t.type)?(t=um,um=null,Ot=t):Ot=i):Ot=Nn?Ar(t.stateNode.nextSibling):null;return!0}function gl(){Ot=Nn=null,ct=!1}function Yg(){var t=ls;return t!==null&&(Vn===null?Vn=t:Vn.push.apply(Vn,t),ls=null),t}function yl(t){ls===null?ls=[t]:ls.push(t)}var Ff=ee(null),cs=null,Ei=null;function $i(t,i,s){oe(Ff,i._currentValue),i._currentValue=s}function Ti(t){t._currentValue=Ff.current,fe(Ff)}function Gf(t,i,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===s)break;t=t.return}}function Kf(t,i,s,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var E=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var C=0;C<i.length;C++)if(T.context===i[C]){d.lanes|=s,T=d.alternate,T!==null&&(T.lanes|=s),Gf(d.return,s,t),l||(E=null);break e}d=T.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(a(341));E.lanes|=s,d=E.alternate,d!==null&&(d.lanes|=s),Gf(E,s,t),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===t){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function _l(t,i,s,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(a(387));if(E=E.memoizedProps,E!==null){var T=h.type;jn(h.pendingProps.value,E.value)||(t!==null?t.push(T):t=[T])}}else if(h===Ut.current){if(E=h.alternate,E===null)throw Error(a(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Ql):t=[Ql])}h=h.return}t!==null&&Kf(i,t,s,l),i.flags|=262144}function cc(t){for(t=t.firstContext;t!==null;){if(!jn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function hs(t){cs=t,Ei=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function gn(t){return $g(cs,t)}function hc(t,i){return cs===null&&hs(t),$g(t,i)}function $g(t,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},Ei===null){if(t===null)throw Error(a(308));Ei=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Ei=Ei.next=i;return s}var sA=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(s){return s()})}},oA=r.unstable_scheduleCallback,lA=r.unstable_NormalPriority,Yt={$$typeof:ue,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qf(){return{controller:new sA,data:new Map,refCount:0}}function vl(t){t.refCount--,t.refCount===0&&oA(lA,function(){t.controller.abort()})}var El=null,Yf=0,no=0,ro=null;function uA(t,i){if(El===null){var s=El=[];Yf=0,no=Xd(),ro={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Yf++,i.then(Xg,Xg),i}function Xg(){if(--Yf===0&&El!==null){ro!==null&&(ro.status="fulfilled");var t=El;El=null,no=0,ro=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function cA(t,i){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<s.length;h++)(0,s[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Wg=K.S;K.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&uA(t,i),Wg!==null&&Wg(t,i)};var fs=ee(null);function $f(){var t=fs.current;return t!==null?t:wt.pooledCache}function fc(t,i){i===null?oe(fs,fs.current):oe(fs,i.pool)}function Zg(){var t=$f();return t===null?null:{parent:Yt._currentValue,pool:t}}var Tl=Error(a(460)),Jg=Error(a(474)),dc=Error(a(542)),Xf={then:function(){}};function ey(t){return t=t.status,t==="fulfilled"||t==="rejected"}function mc(){}function ty(t,i,s){switch(s=t[s],s===void 0?t.push(i):s!==i&&(i.then(mc,mc),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,ry(t),t;default:if(typeof i.status=="string")i.then(mc,mc);else{if(t=wt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,ry(t),t}throw Sl=i,Tl}}var Sl=null;function ny(){if(Sl===null)throw Error(a(459));var t=Sl;return Sl=null,t}function ry(t){if(t===Tl||t===dc)throw Error(a(483))}var Xi=!1;function Wf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Wi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Zi(t,i,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(mt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=sc(t),qg(t,null,s),i}return ac(t,l,i,s),sc(t)}function wl(t,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,Lr(t,s)}}function Jf(t,i){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var E={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?h=d=E:d=d.next=E,s=s.next}while(s!==null);d===null?h=d=i:d=d.next=i}else h=d=i;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=i:t.next=i,s.lastBaseUpdate=i}var ed=!1;function Al(){if(ed){var t=ro;if(t!==null)throw t}}function bl(t,i,s,l){ed=!1;var h=t.updateQueue;Xi=!1;var d=h.firstBaseUpdate,E=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,F=C.next;C.next=null,E===null?d=F:E.next=F,E=C;var Z=t.alternate;Z!==null&&(Z=Z.updateQueue,T=Z.lastBaseUpdate,T!==E&&(T===null?Z.firstBaseUpdate=F:T.next=F,Z.lastBaseUpdate=C))}if(d!==null){var re=h.baseState;E=0,Z=F=C=null,T=d;do{var Q=T.lane&-536870913,$=Q!==T.lane;if($?(it&Q)===Q:(l&Q)===Q){Q!==0&&Q===no&&(ed=!0),Z!==null&&(Z=Z.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Le=t,Oe=T;Q=i;var Et=s;switch(Oe.tag){case 1:if(Le=Oe.payload,typeof Le=="function"){re=Le.call(Et,re,Q);break e}re=Le;break e;case 3:Le.flags=Le.flags&-65537|128;case 0:if(Le=Oe.payload,Q=typeof Le=="function"?Le.call(Et,re,Q):Le,Q==null)break e;re=v({},re,Q);break e;case 2:Xi=!0}}Q=T.callback,Q!==null&&(t.flags|=64,$&&(t.flags|=8192),$=h.callbacks,$===null?h.callbacks=[Q]:$.push(Q))}else $={lane:Q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Z===null?(F=Z=$,C=re):Z=Z.next=$,E|=Q;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;$=T,T=$.next,$.next=null,h.lastBaseUpdate=$,h.shared.pending=null}}while(!0);Z===null&&(C=re),h.baseState=C,h.firstBaseUpdate=F,h.lastBaseUpdate=Z,d===null&&(h.shared.lanes=0),sa|=E,t.lanes=E,t.memoizedState=re}}function iy(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function ay(t,i){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)iy(s[t],i)}var io=ee(null),pc=ee(0);function sy(t,i){t=Ci,oe(pc,t),oe(io,i),Ci=t|i.baseLanes}function td(){oe(pc,Ci),oe(io,io.current)}function nd(){Ci=pc.current,fe(io),fe(pc)}var Ji=0,Ke=null,_t=null,jt=null,gc=!1,ao=!1,ds=!1,yc=0,Rl=0,so=null,hA=0;function xt(){throw Error(a(321))}function rd(t,i){if(i===null)return!1;for(var s=0;s<i.length&&s<t.length;s++)if(!jn(t[s],i[s]))return!1;return!0}function id(t,i,s,l,h,d){return Ji=d,Ke=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=t===null||t.memoizedState===null?qy:Fy,ds=!1,d=s(l,h),ds=!1,ao&&(d=ly(i,s,l,h)),oy(t),d}function oy(t){K.H=wc;var i=_t!==null&&_t.next!==null;if(Ji=0,jt=_t=Ke=null,gc=!1,Rl=0,so=null,i)throw Error(a(300));t===null||en||(t=t.dependencies,t!==null&&cc(t)&&(en=!0))}function ly(t,i,s,l){Ke=t;var h=0;do{if(ao&&(so=null),Rl=0,ao=!1,25<=h)throw Error(a(301));if(h+=1,jt=_t=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=_A,d=i(s,l)}while(ao);return d}function fA(){var t=K.H,i=t.useState()[0];return i=typeof i.then=="function"?Il(i):i,t=t.useState()[0],(_t!==null?_t.memoizedState:null)!==t&&(Ke.flags|=1024),i}function ad(){var t=yc!==0;return yc=0,t}function sd(t,i,s){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~s}function od(t){if(gc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}gc=!1}Ji=0,jt=_t=Ke=null,ao=!1,Rl=yc=0,so=null}function Mn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?Ke.memoizedState=jt=t:jt=jt.next=t,jt}function Ht(){if(_t===null){var t=Ke.alternate;t=t!==null?t.memoizedState:null}else t=_t.next;var i=jt===null?Ke.memoizedState:jt.next;if(i!==null)jt=i,_t=t;else{if(t===null)throw Ke.alternate===null?Error(a(467)):Error(a(310));_t=t,t={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},jt===null?Ke.memoizedState=jt=t:jt=jt.next=t}return jt}function ld(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Il(t){var i=Rl;return Rl+=1,so===null&&(so=[]),t=ty(so,t,i),i=Ke,(jt===null?i.memoizedState:jt.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?qy:Fy),t}function _c(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Il(t);if(t.$$typeof===ue)return gn(t)}throw Error(a(438,String(t)))}function ud(t){var i=null,s=Ke.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var l=Ke.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=ld(),Ke.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(t),l=0;l<t;l++)s[l]=x;return i.index++,s}function Si(t,i){return typeof i=="function"?i(t):i}function vc(t){var i=Ht();return cd(i,_t,t)}function cd(t,i,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var E=h.next;h.next=d.next,d.next=E}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=E=null,C=null,F=i,Z=!1;do{var re=F.lane&-536870913;if(re!==F.lane?(it&re)===re:(Ji&re)===re){var Q=F.revertLane;if(Q===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),re===no&&(Z=!0);else if((Ji&Q)===Q){F=F.next,Q===no&&(Z=!0);continue}else re={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},C===null?(T=C=re,E=d):C=C.next=re,Ke.lanes|=Q,sa|=Q;re=F.action,ds&&s(d,re),d=F.hasEagerState?F.eagerState:s(d,re)}else Q={lane:re,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},C===null?(T=C=Q,E=d):C=C.next=Q,Ke.lanes|=re,sa|=re;F=F.next}while(F!==null&&F!==i);if(C===null?E=d:C.next=T,!jn(d,t.memoizedState)&&(en=!0,Z&&(s=ro,s!==null)))throw s;t.memoizedState=d,t.baseState=E,t.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function hd(t){var i=Ht(),s=i.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,h=s.pending,d=i.memoizedState;if(h!==null){s.pending=null;var E=h=h.next;do d=t(d,E.action),E=E.next;while(E!==h);jn(d,i.memoizedState)||(en=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),s.lastRenderedState=d}return[d,l]}function uy(t,i,s){var l=Ke,h=Ht(),d=ct;if(d){if(s===void 0)throw Error(a(407));s=s()}else s=i();var E=!jn((_t||h).memoizedState,s);E&&(h.memoizedState=s,en=!0),h=h.queue;var T=fy.bind(null,l,h,t);if(Cl(2048,8,T,[t]),h.getSnapshot!==i||E||jt!==null&&jt.memoizedState.tag&1){if(l.flags|=2048,oo(9,Ec(),hy.bind(null,l,h,s,i),null),wt===null)throw Error(a(349));d||(Ji&124)!==0||cy(l,i,s)}return s}function cy(t,i,s){t.flags|=16384,t={getSnapshot:i,value:s},i=Ke.updateQueue,i===null?(i=ld(),Ke.updateQueue=i,i.stores=[t]):(s=i.stores,s===null?i.stores=[t]:s.push(t))}function hy(t,i,s,l){i.value=s,i.getSnapshot=l,dy(i)&&my(t)}function fy(t,i,s){return s(function(){dy(i)&&my(t)})}function dy(t){var i=t.getSnapshot;t=t.value;try{var s=i();return!jn(t,s)}catch{return!0}}function my(t){var i=Zs(t,2);i!==null&&Qn(i,t,2)}function fd(t){var i=Mn();if(typeof t=="function"){var s=t;if(t=s(),ds){pn(!0);try{s()}finally{pn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:t},i}function py(t,i,s,l){return t.baseState=s,cd(t,_t,typeof l=="function"?l:Si)}function dA(t,i,s,l,h){if(Sc(t))throw Error(a(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};K.T!==null?s(!0):d.isTransition=!1,l(d),s=i.pending,s===null?(d.next=i.pending=d,gy(i,d)):(d.next=s.next,i.pending=s.next=d)}}function gy(t,i){var s=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=K.T,E={};K.T=E;try{var T=s(h,l),C=K.S;C!==null&&C(E,T),yy(t,i,T)}catch(F){dd(t,i,F)}finally{K.T=d}}else try{d=s(h,l),yy(t,i,d)}catch(F){dd(t,i,F)}}function yy(t,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){_y(t,i,l)},function(l){return dd(t,i,l)}):_y(t,i,s)}function _y(t,i,s){i.status="fulfilled",i.value=s,vy(i),t.state=s,i=t.pending,i!==null&&(s=i.next,s===i?t.pending=null:(s=s.next,i.next=s,gy(t,s)))}function dd(t,i,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=s,vy(i),i=i.next;while(i!==l)}t.action=null}function vy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Ey(t,i){return i}function Ty(t,i){if(ct){var s=wt.formState;if(s!==null){e:{var l=Ke;if(ct){if(Ot){t:{for(var h=Ot,d=Gr;h.nodeType!==8;){if(!d){h=null;break t}if(h=Ar(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){Ot=Ar(h.nextSibling),l=h.data==="F!";break e}}us(l)}l=!1}l&&(i=s[0])}}return s=Mn(),s.memoizedState=s.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ey,lastRenderedState:i},s.queue=l,s=By.bind(null,Ke,l),l.dispatch=s,l=fd(!1),d=_d.bind(null,Ke,!1,l.queue),l=Mn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,s=dA.bind(null,Ke,h,d,s),h.dispatch=s,l.memoizedState=t,[i,s,!1]}function Sy(t){var i=Ht();return wy(i,_t,t)}function wy(t,i,s){if(i=cd(t,i,Ey)[0],t=vc(Si)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Il(i)}catch(E){throw E===Tl?dc:E}else l=i;i=Ht();var h=i.queue,d=h.dispatch;return s!==i.memoizedState&&(Ke.flags|=2048,oo(9,Ec(),mA.bind(null,h,s),null)),[l,d,t]}function mA(t,i){t.action=i}function Ay(t){var i=Ht(),s=_t;if(s!==null)return wy(i,s,t);Ht(),i=i.memoizedState,s=Ht();var l=s.queue.dispatch;return s.memoizedState=t,[i,l,!1]}function oo(t,i,s,l){return t={tag:t,create:s,deps:l,inst:i,next:null},i=Ke.updateQueue,i===null&&(i=ld(),Ke.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,i.lastEffect=t),t}function Ec(){return{destroy:void 0,resource:void 0}}function by(){return Ht().memoizedState}function Tc(t,i,s,l){var h=Mn();l=l===void 0?null:l,Ke.flags|=t,h.memoizedState=oo(1|i,Ec(),s,l)}function Cl(t,i,s,l){var h=Ht();l=l===void 0?null:l;var d=h.memoizedState.inst;_t!==null&&l!==null&&rd(l,_t.memoizedState.deps)?h.memoizedState=oo(i,d,s,l):(Ke.flags|=t,h.memoizedState=oo(1|i,d,s,l))}function Ry(t,i){Tc(8390656,8,t,i)}function Iy(t,i){Cl(2048,8,t,i)}function Cy(t,i){return Cl(4,2,t,i)}function Dy(t,i){return Cl(4,4,t,i)}function Ny(t,i){if(typeof i=="function"){t=t();var s=i(t);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Oy(t,i,s){s=s!=null?s.concat([t]):null,Cl(4,4,Ny.bind(null,i,t),s)}function md(){}function My(t,i){var s=Ht();i=i===void 0?null:i;var l=s.memoizedState;return i!==null&&rd(i,l[1])?l[0]:(s.memoizedState=[t,i],t)}function xy(t,i){var s=Ht();i=i===void 0?null:i;var l=s.memoizedState;if(i!==null&&rd(i,l[1]))return l[0];if(l=t(),ds){pn(!0);try{t()}finally{pn(!1)}}return s.memoizedState=[l,i],l}function pd(t,i,s){return s===void 0||(Ji&1073741824)!==0?t.memoizedState=i:(t.memoizedState=s,t=L_(),Ke.lanes|=t,sa|=t,s)}function Vy(t,i,s,l){return jn(s,i)?s:io.current!==null?(t=pd(t,s,l),jn(t,i)||(en=!0),t):(Ji&42)===0?(en=!0,t.memoizedState=s):(t=L_(),Ke.lanes|=t,sa|=t,i)}function Py(t,i,s,l,h){var d=ce.p;ce.p=d!==0&&8>d?d:8;var E=K.T,T={};K.T=T,_d(t,!1,i,s);try{var C=h(),F=K.S;if(F!==null&&F(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Z=cA(C,l);Dl(t,i,Z,Kn(t))}else Dl(t,i,l,Kn(t))}catch(re){Dl(t,i,{then:function(){},status:"rejected",reason:re},Kn())}finally{ce.p=d,K.T=E}}function pA(){}function gd(t,i,s,l){if(t.tag!==5)throw Error(a(476));var h=Ly(t).queue;Py(t,h,i,ge,s===null?pA:function(){return ky(t),s(l)})}function Ly(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:ge},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:s},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function ky(t){var i=Ly(t).next.queue;Dl(t,i,{},Kn())}function yd(){return gn(Ql)}function Uy(){return Ht().memoizedState}function zy(){return Ht().memoizedState}function gA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var s=Kn();t=Wi(s);var l=Zi(i,t,s);l!==null&&(Qn(l,i,s),wl(l,i,s)),i={cache:Qf()},t.payload=i;return}i=i.return}}function yA(t,i,s){var l=Kn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Sc(t)?jy(i,s):(s=kf(t,i,s,l),s!==null&&(Qn(s,t,l),Hy(s,i,l)))}function By(t,i,s){var l=Kn();Dl(t,i,s,l)}function Dl(t,i,s,l){var h={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Sc(t))jy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var E=i.lastRenderedState,T=d(E,s);if(h.hasEagerState=!0,h.eagerState=T,jn(T,E))return ac(t,i,h,0),wt===null&&ic(),!1}catch{}finally{}if(s=kf(t,i,h,l),s!==null)return Qn(s,t,l),Hy(s,i,l),!0}return!1}function _d(t,i,s,l){if(l={lane:2,revertLane:Xd(),action:l,hasEagerState:!1,eagerState:null,next:null},Sc(t)){if(i)throw Error(a(479))}else i=kf(t,s,l,2),i!==null&&Qn(i,t,2)}function Sc(t){var i=t.alternate;return t===Ke||i!==null&&i===Ke}function jy(t,i){ao=gc=!0;var s=t.pending;s===null?i.next=i:(i.next=s.next,s.next=i),t.pending=i}function Hy(t,i,s){if((s&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,Lr(t,s)}}var wc={readContext:gn,use:_c,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useLayoutEffect:xt,useInsertionEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useSyncExternalStore:xt,useId:xt,useHostTransitionStatus:xt,useFormState:xt,useActionState:xt,useOptimistic:xt,useMemoCache:xt,useCacheRefresh:xt},qy={readContext:gn,use:_c,useCallback:function(t,i){return Mn().memoizedState=[t,i===void 0?null:i],t},useContext:gn,useEffect:Ry,useImperativeHandle:function(t,i,s){s=s!=null?s.concat([t]):null,Tc(4194308,4,Ny.bind(null,i,t),s)},useLayoutEffect:function(t,i){return Tc(4194308,4,t,i)},useInsertionEffect:function(t,i){Tc(4,2,t,i)},useMemo:function(t,i){var s=Mn();i=i===void 0?null:i;var l=t();if(ds){pn(!0);try{t()}finally{pn(!1)}}return s.memoizedState=[l,i],l},useReducer:function(t,i,s){var l=Mn();if(s!==void 0){var h=s(i);if(ds){pn(!0);try{s(i)}finally{pn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=yA.bind(null,Ke,t),[l.memoizedState,t]},useRef:function(t){var i=Mn();return t={current:t},i.memoizedState=t},useState:function(t){t=fd(t);var i=t.queue,s=By.bind(null,Ke,i);return i.dispatch=s,[t.memoizedState,s]},useDebugValue:md,useDeferredValue:function(t,i){var s=Mn();return pd(s,t,i)},useTransition:function(){var t=fd(!1);return t=Py.bind(null,Ke,t.queue,!0,!1),Mn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,s){var l=Ke,h=Mn();if(ct){if(s===void 0)throw Error(a(407));s=s()}else{if(s=i(),wt===null)throw Error(a(349));(it&124)!==0||cy(l,i,s)}h.memoizedState=s;var d={value:s,getSnapshot:i};return h.queue=d,Ry(fy.bind(null,l,d,t),[t]),l.flags|=2048,oo(9,Ec(),hy.bind(null,l,d,s,i),null),s},useId:function(){var t=Mn(),i=wt.identifierPrefix;if(ct){var s=vi,l=_i;s=(l&~(1<<32-zt(l)-1)).toString(32)+s,i="«"+i+"R"+s,s=yc++,0<s&&(i+="H"+s.toString(32)),i+="»"}else s=hA++,i="«"+i+"r"+s.toString(32)+"»";return t.memoizedState=i},useHostTransitionStatus:yd,useFormState:Ty,useActionState:Ty,useOptimistic:function(t){var i=Mn();i.memoizedState=i.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=_d.bind(null,Ke,!0,s),s.dispatch=i,[t,i]},useMemoCache:ud,useCacheRefresh:function(){return Mn().memoizedState=gA.bind(null,Ke)}},Fy={readContext:gn,use:_c,useCallback:My,useContext:gn,useEffect:Iy,useImperativeHandle:Oy,useInsertionEffect:Cy,useLayoutEffect:Dy,useMemo:xy,useReducer:vc,useRef:by,useState:function(){return vc(Si)},useDebugValue:md,useDeferredValue:function(t,i){var s=Ht();return Vy(s,_t.memoizedState,t,i)},useTransition:function(){var t=vc(Si)[0],i=Ht().memoizedState;return[typeof t=="boolean"?t:Il(t),i]},useSyncExternalStore:uy,useId:Uy,useHostTransitionStatus:yd,useFormState:Sy,useActionState:Sy,useOptimistic:function(t,i){var s=Ht();return py(s,_t,t,i)},useMemoCache:ud,useCacheRefresh:zy},_A={readContext:gn,use:_c,useCallback:My,useContext:gn,useEffect:Iy,useImperativeHandle:Oy,useInsertionEffect:Cy,useLayoutEffect:Dy,useMemo:xy,useReducer:hd,useRef:by,useState:function(){return hd(Si)},useDebugValue:md,useDeferredValue:function(t,i){var s=Ht();return _t===null?pd(s,t,i):Vy(s,_t.memoizedState,t,i)},useTransition:function(){var t=hd(Si)[0],i=Ht().memoizedState;return[typeof t=="boolean"?t:Il(t),i]},useSyncExternalStore:uy,useId:Uy,useHostTransitionStatus:yd,useFormState:Ay,useActionState:Ay,useOptimistic:function(t,i){var s=Ht();return _t!==null?py(s,_t,t,i):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:ud,useCacheRefresh:zy},lo=null,Nl=0;function Ac(t){var i=Nl;return Nl+=1,lo===null&&(lo=[]),ty(lo,t,i)}function Ol(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function bc(t,i){throw i.$$typeof===S?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Gy(t){var i=t._init;return i(t._payload)}function Ky(t){function i(k,V){if(t){var j=k.deletions;j===null?(k.deletions=[V],k.flags|=16):j.push(V)}}function s(k,V){if(!t)return null;for(;V!==null;)i(k,V),V=V.sibling;return null}function l(k){for(var V=new Map;k!==null;)k.key!==null?V.set(k.key,k):V.set(k.index,k),k=k.sibling;return V}function h(k,V){return k=yi(k,V),k.index=0,k.sibling=null,k}function d(k,V,j){return k.index=j,t?(j=k.alternate,j!==null?(j=j.index,j<V?(k.flags|=67108866,V):j):(k.flags|=67108866,V)):(k.flags|=1048576,V)}function E(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function T(k,V,j,te){return V===null||V.tag!==6?(V=zf(j,k.mode,te),V.return=k,V):(V=h(V,j),V.return=k,V)}function C(k,V,j,te){var Ee=j.type;return Ee===U?Z(k,V,j.props.children,te,j.key):V!==null&&(V.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===b&&Gy(Ee)===V.type)?(V=h(V,j.props),Ol(V,j),V.return=k,V):(V=oc(j.type,j.key,j.props,null,k.mode,te),Ol(V,j),V.return=k,V)}function F(k,V,j,te){return V===null||V.tag!==4||V.stateNode.containerInfo!==j.containerInfo||V.stateNode.implementation!==j.implementation?(V=Bf(j,k.mode,te),V.return=k,V):(V=h(V,j.children||[]),V.return=k,V)}function Z(k,V,j,te,Ee){return V===null||V.tag!==7?(V=as(j,k.mode,te,Ee),V.return=k,V):(V=h(V,j),V.return=k,V)}function re(k,V,j){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=zf(""+V,k.mode,j),V.return=k,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case w:return j=oc(V.type,V.key,V.props,null,k.mode,j),Ol(j,V),j.return=k,j;case D:return V=Bf(V,k.mode,j),V.return=k,V;case b:var te=V._init;return V=te(V._payload),re(k,V,j)}if(et(V)||L(V))return V=as(V,k.mode,j,null),V.return=k,V;if(typeof V.then=="function")return re(k,Ac(V),j);if(V.$$typeof===ue)return re(k,hc(k,V),j);bc(k,V)}return null}function Q(k,V,j,te){var Ee=V!==null?V.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return Ee!==null?null:T(k,V,""+j,te);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case w:return j.key===Ee?C(k,V,j,te):null;case D:return j.key===Ee?F(k,V,j,te):null;case b:return Ee=j._init,j=Ee(j._payload),Q(k,V,j,te)}if(et(j)||L(j))return Ee!==null?null:Z(k,V,j,te,null);if(typeof j.then=="function")return Q(k,V,Ac(j),te);if(j.$$typeof===ue)return Q(k,V,hc(k,j),te);bc(k,j)}return null}function $(k,V,j,te,Ee){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return k=k.get(j)||null,T(V,k,""+te,Ee);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case w:return k=k.get(te.key===null?j:te.key)||null,C(V,k,te,Ee);case D:return k=k.get(te.key===null?j:te.key)||null,F(V,k,te,Ee);case b:var Qe=te._init;return te=Qe(te._payload),$(k,V,j,te,Ee)}if(et(te)||L(te))return k=k.get(j)||null,Z(V,k,te,Ee,null);if(typeof te.then=="function")return $(k,V,j,Ac(te),Ee);if(te.$$typeof===ue)return $(k,V,j,hc(V,te),Ee);bc(V,te)}return null}function Le(k,V,j,te){for(var Ee=null,Qe=null,Re=V,xe=V=0,nn=null;Re!==null&&xe<j.length;xe++){Re.index>xe?(nn=Re,Re=null):nn=Re.sibling;var st=Q(k,Re,j[xe],te);if(st===null){Re===null&&(Re=nn);break}t&&Re&&st.alternate===null&&i(k,Re),V=d(st,V,xe),Qe===null?Ee=st:Qe.sibling=st,Qe=st,Re=nn}if(xe===j.length)return s(k,Re),ct&&os(k,xe),Ee;if(Re===null){for(;xe<j.length;xe++)Re=re(k,j[xe],te),Re!==null&&(V=d(Re,V,xe),Qe===null?Ee=Re:Qe.sibling=Re,Qe=Re);return ct&&os(k,xe),Ee}for(Re=l(Re);xe<j.length;xe++)nn=$(Re,k,xe,j[xe],te),nn!==null&&(t&&nn.alternate!==null&&Re.delete(nn.key===null?xe:nn.key),V=d(nn,V,xe),Qe===null?Ee=nn:Qe.sibling=nn,Qe=nn);return t&&Re.forEach(function(pa){return i(k,pa)}),ct&&os(k,xe),Ee}function Oe(k,V,j,te){if(j==null)throw Error(a(151));for(var Ee=null,Qe=null,Re=V,xe=V=0,nn=null,st=j.next();Re!==null&&!st.done;xe++,st=j.next()){Re.index>xe?(nn=Re,Re=null):nn=Re.sibling;var pa=Q(k,Re,st.value,te);if(pa===null){Re===null&&(Re=nn);break}t&&Re&&pa.alternate===null&&i(k,Re),V=d(pa,V,xe),Qe===null?Ee=pa:Qe.sibling=pa,Qe=pa,Re=nn}if(st.done)return s(k,Re),ct&&os(k,xe),Ee;if(Re===null){for(;!st.done;xe++,st=j.next())st=re(k,st.value,te),st!==null&&(V=d(st,V,xe),Qe===null?Ee=st:Qe.sibling=st,Qe=st);return ct&&os(k,xe),Ee}for(Re=l(Re);!st.done;xe++,st=j.next())st=$(Re,k,xe,st.value,te),st!==null&&(t&&st.alternate!==null&&Re.delete(st.key===null?xe:st.key),V=d(st,V,xe),Qe===null?Ee=st:Qe.sibling=st,Qe=st);return t&&Re.forEach(function(vb){return i(k,vb)}),ct&&os(k,xe),Ee}function Et(k,V,j,te){if(typeof j=="object"&&j!==null&&j.type===U&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case w:e:{for(var Ee=j.key;V!==null;){if(V.key===Ee){if(Ee=j.type,Ee===U){if(V.tag===7){s(k,V.sibling),te=h(V,j.props.children),te.return=k,k=te;break e}}else if(V.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===b&&Gy(Ee)===V.type){s(k,V.sibling),te=h(V,j.props),Ol(te,j),te.return=k,k=te;break e}s(k,V);break}else i(k,V);V=V.sibling}j.type===U?(te=as(j.props.children,k.mode,te,j.key),te.return=k,k=te):(te=oc(j.type,j.key,j.props,null,k.mode,te),Ol(te,j),te.return=k,k=te)}return E(k);case D:e:{for(Ee=j.key;V!==null;){if(V.key===Ee)if(V.tag===4&&V.stateNode.containerInfo===j.containerInfo&&V.stateNode.implementation===j.implementation){s(k,V.sibling),te=h(V,j.children||[]),te.return=k,k=te;break e}else{s(k,V);break}else i(k,V);V=V.sibling}te=Bf(j,k.mode,te),te.return=k,k=te}return E(k);case b:return Ee=j._init,j=Ee(j._payload),Et(k,V,j,te)}if(et(j))return Le(k,V,j,te);if(L(j)){if(Ee=L(j),typeof Ee!="function")throw Error(a(150));return j=Ee.call(j),Oe(k,V,j,te)}if(typeof j.then=="function")return Et(k,V,Ac(j),te);if(j.$$typeof===ue)return Et(k,V,hc(k,j),te);bc(k,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,V!==null&&V.tag===6?(s(k,V.sibling),te=h(V,j),te.return=k,k=te):(s(k,V),te=zf(j,k.mode,te),te.return=k,k=te),E(k)):s(k,V)}return function(k,V,j,te){try{Nl=0;var Ee=Et(k,V,j,te);return lo=null,Ee}catch(Re){if(Re===Tl||Re===dc)throw Re;var Qe=Hn(29,Re,null,k.mode);return Qe.lanes=te,Qe.return=k,Qe}finally{}}}var uo=Ky(!0),Qy=Ky(!1),ur=ee(null),Kr=null;function ea(t){var i=t.alternate;oe($t,$t.current&1),oe(ur,t),Kr===null&&(i===null||io.current!==null||i.memoizedState!==null)&&(Kr=t)}function Yy(t){if(t.tag===22){if(oe($t,$t.current),oe(ur,t),Kr===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(Kr=t)}}else ta()}function ta(){oe($t,$t.current),oe(ur,ur.current)}function wi(t){fe(ur),Kr===t&&(Kr=null),fe($t)}var $t=ee(0);function Rc(t){for(var i=t;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||lm(s)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function vd(t,i,s,l){i=t.memoizedState,s=s(l,i),s=s==null?i:v({},i,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Ed={enqueueSetState:function(t,i,s){t=t._reactInternals;var l=Kn(),h=Wi(l);h.payload=i,s!=null&&(h.callback=s),i=Zi(t,h,l),i!==null&&(Qn(i,t,l),wl(i,t,l))},enqueueReplaceState:function(t,i,s){t=t._reactInternals;var l=Kn(),h=Wi(l);h.tag=1,h.payload=i,s!=null&&(h.callback=s),i=Zi(t,h,l),i!==null&&(Qn(i,t,l),wl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var s=Kn(),l=Wi(s);l.tag=2,i!=null&&(l.callback=i),i=Zi(t,l,s),i!==null&&(Qn(i,t,s),wl(i,t,s))}};function $y(t,i,s,l,h,d,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,E):i.prototype&&i.prototype.isPureReactComponent?!dl(s,l)||!dl(h,d):!0}function Xy(t,i,s,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,l),i.state!==t&&Ed.enqueueReplaceState(i,i.state,null)}function ms(t,i){var s=i;if("ref"in i){s={};for(var l in i)l!=="ref"&&(s[l]=i[l])}if(t=t.defaultProps){s===i&&(s=v({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}var Ic=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Wy(t){Ic(t)}function Zy(t){console.error(t)}function Jy(t){Ic(t)}function Cc(t,i){try{var s=t.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function e_(t,i,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Td(t,i,s){return s=Wi(s),s.tag=3,s.payload={element:null},s.callback=function(){Cc(t,i)},s}function t_(t){return t=Wi(t),t.tag=3,t}function n_(t,i,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){e_(i,s,l)}}var E=s.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){e_(i,s,l),typeof h!="function"&&(oa===null?oa=new Set([this]):oa.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function vA(t,i,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=s.alternate,i!==null&&_l(i,s,h,!0),s=ur.current,s!==null){switch(s.tag){case 13:return Kr===null?Gd():s.alternate===null&&Mt===0&&(Mt=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===Xf?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([l]):i.add(l),Qd(t,l,h)),!1;case 22:return s.flags|=65536,l===Xf?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([l]):s.add(l)),Qd(t,l,h)),!1}throw Error(a(435,s.tag))}return Qd(t,l,h),Gd(),!1}if(ct)return i=ur.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==qf&&(t=Error(a(422),{cause:l}),yl(ar(t,s)))):(l!==qf&&(i=Error(a(423),{cause:l}),yl(ar(i,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=ar(l,s),h=Td(t.stateNode,l,h),Jf(t,h),Mt!==4&&(Mt=2)),!1;var d=Error(a(520),{cause:l});if(d=ar(d,s),Ul===null?Ul=[d]:Ul.push(d),Mt!==4&&(Mt=2),i===null)return!0;l=ar(l,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=Td(s.stateNode,l,t),Jf(s,t),!1;case 1:if(i=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(oa===null||!oa.has(d))))return s.flags|=65536,h&=-h,s.lanes|=h,h=t_(h),n_(h,t,s,l),Jf(s,h),!1}s=s.return}while(s!==null);return!1}var r_=Error(a(461)),en=!1;function ln(t,i,s,l){i.child=t===null?Qy(i,null,s,l):uo(i,t.child,s,l)}function i_(t,i,s,l,h){s=s.render;var d=i.ref;if("ref"in l){var E={};for(var T in l)T!=="ref"&&(E[T]=l[T])}else E=l;return hs(i),l=id(t,i,s,E,d,h),T=ad(),t!==null&&!en?(sd(t,i,h),Ai(t,i,h)):(ct&&T&&jf(i),i.flags|=1,ln(t,i,l,h),i.child)}function a_(t,i,s,l,h){if(t===null){var d=s.type;return typeof d=="function"&&!Uf(d)&&d.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=d,s_(t,i,d,l,h)):(t=oc(s.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Dd(t,h)){var E=d.memoizedProps;if(s=s.compare,s=s!==null?s:dl,s(E,l)&&t.ref===i.ref)return Ai(t,i,h)}return i.flags|=1,t=yi(d,l),t.ref=i.ref,t.return=i,i.child=t}function s_(t,i,s,l,h){if(t!==null){var d=t.memoizedProps;if(dl(d,l)&&t.ref===i.ref)if(en=!1,i.pendingProps=l=d,Dd(t,h))(t.flags&131072)!==0&&(en=!0);else return i.lanes=t.lanes,Ai(t,i,h)}return Sd(t,i,s,l,h)}function o_(t,i,s){var l=i.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|s:s,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return l_(t,i,l,s)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&fc(i,d!==null?d.cachePool:null),d!==null?sy(i,d):td(),Yy(i);else return i.lanes=i.childLanes=536870912,l_(t,i,d!==null?d.baseLanes|s:s,s)}else d!==null?(fc(i,d.cachePool),sy(i,d),ta(),i.memoizedState=null):(t!==null&&fc(i,null),td(),ta());return ln(t,i,h,s),i.child}function l_(t,i,s,l){var h=$f();return h=h===null?null:{parent:Yt._currentValue,pool:h},i.memoizedState={baseLanes:s,cachePool:h},t!==null&&fc(i,null),td(),Yy(i),t!==null&&_l(t,i,l,!0),null}function Dc(t,i){var s=i.ref;if(s===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(i.flags|=4194816)}}function Sd(t,i,s,l,h){return hs(i),s=id(t,i,s,l,void 0,h),l=ad(),t!==null&&!en?(sd(t,i,h),Ai(t,i,h)):(ct&&l&&jf(i),i.flags|=1,ln(t,i,s,h),i.child)}function u_(t,i,s,l,h,d){return hs(i),i.updateQueue=null,s=ly(i,l,s,h),oy(t),l=ad(),t!==null&&!en?(sd(t,i,d),Ai(t,i,d)):(ct&&l&&jf(i),i.flags|=1,ln(t,i,s,d),i.child)}function c_(t,i,s,l,h){if(hs(i),i.stateNode===null){var d=Js,E=s.contextType;typeof E=="object"&&E!==null&&(d=gn(E)),d=new s(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Ed,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Wf(i),E=s.contextType,d.context=typeof E=="object"&&E!==null?gn(E):Js,d.state=i.memoizedState,E=s.getDerivedStateFromProps,typeof E=="function"&&(vd(i,s,E,l),d.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&Ed.enqueueReplaceState(d,d.state,null),bl(i,l,d,h),Al(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,C=ms(s,T);d.props=C;var F=d.context,Z=s.contextType;E=Js,typeof Z=="object"&&Z!==null&&(E=gn(Z));var re=s.getDerivedStateFromProps;Z=typeof re=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,Z||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||F!==E)&&Xy(i,d,l,E),Xi=!1;var Q=i.memoizedState;d.state=Q,bl(i,l,d,h),Al(),F=i.memoizedState,T||Q!==F||Xi?(typeof re=="function"&&(vd(i,s,re,l),F=i.memoizedState),(C=Xi||$y(i,s,C,l,Q,F,E))?(Z||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=F),d.props=l,d.state=F,d.context=E,l=C):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Zf(t,i),E=i.memoizedProps,Z=ms(s,E),d.props=Z,re=i.pendingProps,Q=d.context,F=s.contextType,C=Js,typeof F=="object"&&F!==null&&(C=gn(F)),T=s.getDerivedStateFromProps,(F=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==re||Q!==C)&&Xy(i,d,l,C),Xi=!1,Q=i.memoizedState,d.state=Q,bl(i,l,d,h),Al();var $=i.memoizedState;E!==re||Q!==$||Xi||t!==null&&t.dependencies!==null&&cc(t.dependencies)?(typeof T=="function"&&(vd(i,s,T,l),$=i.memoizedState),(Z=Xi||$y(i,s,Z,l,Q,$,C)||t!==null&&t.dependencies!==null&&cc(t.dependencies))?(F||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,$,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,$,C)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&Q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&Q===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=$),d.props=l,d.state=$,d.context=C,l=Z):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&Q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&Q===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Dc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=uo(i,t.child,null,h),i.child=uo(i,null,s,h)):ln(t,i,s,h),i.memoizedState=d.state,t=i.child):t=Ai(t,i,h),t}function h_(t,i,s,l){return gl(),i.flags|=256,ln(t,i,s,l),i.child}var wd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ad(t){return{baseLanes:t,cachePool:Zg()}}function bd(t,i,s){return t=t!==null?t.childLanes&~s:0,i&&(t|=cr),t}function f_(t,i,s){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,E;if((E=d)||(E=t!==null&&t.memoizedState===null?!1:($t.current&2)!==0),E&&(h=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,t===null){if(ct){if(h?ea(i):ta(),ct){var T=Ot,C;if(C=T){e:{for(C=T,T=Gr;C.nodeType!==8;){if(!T){T=null;break e}if(C=Ar(C.nextSibling),C===null){T=null;break e}}T=C}T!==null?(i.memoizedState={dehydrated:T,treeContext:ss!==null?{id:_i,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},C=Hn(18,null,null,0),C.stateNode=T,C.return=i,i.child=C,Nn=i,Ot=null,C=!0):C=!1}C||us(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return lm(T)?i.lanes=32:i.lanes=536870912,null;wi(i)}return T=l.children,l=l.fallback,h?(ta(),h=i.mode,T=Nc({mode:"hidden",children:T},h),l=as(l,h,s,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=Ad(s),h.childLanes=bd(t,E,s),i.memoizedState=wd,l):(ea(i),Rd(i,T))}if(C=t.memoizedState,C!==null&&(T=C.dehydrated,T!==null)){if(d)i.flags&256?(ea(i),i.flags&=-257,i=Id(t,i,s)):i.memoizedState!==null?(ta(),i.child=t.child,i.flags|=128,i=null):(ta(),h=l.fallback,T=i.mode,l=Nc({mode:"visible",children:l.children},T),h=as(h,T,s,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,uo(i,t.child,null,s),l=i.child,l.memoizedState=Ad(s),l.childLanes=bd(t,E,s),i.memoizedState=wd,i=h);else if(ea(i),lm(T)){if(E=T.nextSibling&&T.nextSibling.dataset,E)var F=E.dgst;E=F,l=Error(a(419)),l.stack="",l.digest=E,yl({value:l,source:null,stack:null}),i=Id(t,i,s)}else if(en||_l(t,i,s,!1),E=(s&t.childLanes)!==0,en||E){if(E=wt,E!==null&&(l=s&-s,l=(l&42)!==0?1:kr(l),l=(l&(E.suspendedLanes|s))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,Zs(t,l),Qn(E,t,l),r_;T.data==="$?"||Gd(),i=Id(t,i,s)}else T.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=C.treeContext,Ot=Ar(T.nextSibling),Nn=i,ct=!0,ls=null,Gr=!1,t!==null&&(or[lr++]=_i,or[lr++]=vi,or[lr++]=ss,_i=t.id,vi=t.overflow,ss=i),i=Rd(i,l.children),i.flags|=4096);return i}return h?(ta(),h=l.fallback,T=i.mode,C=t.child,F=C.sibling,l=yi(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,F!==null?h=yi(F,h):(h=as(h,T,s,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=t.child.memoizedState,T===null?T=Ad(s):(C=T.cachePool,C!==null?(F=Yt._currentValue,C=C.parent!==F?{parent:F,pool:F}:C):C=Zg(),T={baseLanes:T.baseLanes|s,cachePool:C}),h.memoizedState=T,h.childLanes=bd(t,E,s),i.memoizedState=wd,l):(ea(i),s=t.child,t=s.sibling,s=yi(s,{mode:"visible",children:l.children}),s.return=i,s.sibling=null,t!==null&&(E=i.deletions,E===null?(i.deletions=[t],i.flags|=16):E.push(t)),i.child=s,i.memoizedState=null,s)}function Rd(t,i){return i=Nc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Nc(t,i){return t=Hn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Id(t,i,s){return uo(i,t.child,null,s),t=Rd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function d_(t,i,s){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Gf(t.return,i,s)}function Cd(t,i,s,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=s,d.tailMode=h)}function m_(t,i,s){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(ln(t,i,l.children,s),l=$t.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&d_(t,s,i);else if(t.tag===19)d_(t,s,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(oe($t,l),h){case"forwards":for(s=i.child,h=null;s!==null;)t=s.alternate,t!==null&&Rc(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=i.child,i.child=null):(h=s.sibling,s.sibling=null),Cd(i,!1,h,s,d);break;case"backwards":for(s=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Rc(t)===null){i.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}Cd(i,!0,s,null,d);break;case"together":Cd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ai(t,i,s){if(t!==null&&(i.dependencies=t.dependencies),sa|=i.lanes,(s&i.childLanes)===0)if(t!==null){if(_l(t,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,s=yi(t,t.pendingProps),i.child=s,s.return=i;t.sibling!==null;)t=t.sibling,s=s.sibling=yi(t,t.pendingProps),s.return=i;s.sibling=null}return i.child}function Dd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&cc(t)))}function EA(t,i,s){switch(i.tag){case 3:gt(i,i.stateNode.containerInfo),$i(i,Yt,t.memoizedState.cache),gl();break;case 27:case 5:bt(i);break;case 4:gt(i,i.stateNode.containerInfo);break;case 10:$i(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(ea(i),i.flags|=128,null):(s&i.child.childLanes)!==0?f_(t,i,s):(ea(i),t=Ai(t,i,s),t!==null?t.sibling:null);ea(i);break;case 19:var h=(t.flags&128)!==0;if(l=(s&i.childLanes)!==0,l||(_l(t,i,s,!1),l=(s&i.childLanes)!==0),h){if(l)return m_(t,i,s);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),oe($t,$t.current),l)break;return null;case 22:case 23:return i.lanes=0,o_(t,i,s);case 24:$i(i,Yt,t.memoizedState.cache)}return Ai(t,i,s)}function p_(t,i,s){if(t!==null)if(t.memoizedProps!==i.pendingProps)en=!0;else{if(!Dd(t,s)&&(i.flags&128)===0)return en=!1,EA(t,i,s);en=(t.flags&131072)!==0}else en=!1,ct&&(i.flags&1048576)!==0&&Gg(i,uc,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")Uf(l)?(t=ms(l,t),i.tag=1,i=c_(null,i,l,t,s)):(i.tag=0,i=Sd(null,i,l,t,s));else{if(l!=null){if(h=l.$$typeof,h===Ce){i.tag=11,i=i_(null,i,l,t,s);break e}else if(h===M){i.tag=14,i=a_(null,i,l,t,s);break e}}throw i=qe(l)||l,Error(a(306,i,""))}}return i;case 0:return Sd(t,i,i.type,i.pendingProps,s);case 1:return l=i.type,h=ms(l,i.pendingProps),c_(t,i,l,h,s);case 3:e:{if(gt(i,i.stateNode.containerInfo),t===null)throw Error(a(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Zf(t,i),bl(i,l,null,s);var E=i.memoizedState;if(l=E.cache,$i(i,Yt,l),l!==d.cache&&Kf(i,[Yt],s,!0),Al(),l=E.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=h_(t,i,l,s);break e}else if(l!==h){h=ar(Error(a(424)),i),yl(h),i=h_(t,i,l,s);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ot=Ar(t.firstChild),Nn=i,ct=!0,ls=null,Gr=!0,s=Qy(i,null,l,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(gl(),l===h){i=Ai(t,i,s);break e}ln(t,i,l,s)}i=i.child}return i;case 26:return Dc(t,i),t===null?(s=vv(i.type,null,i.pendingProps,null))?i.memoizedState=s:ct||(s=i.type,t=i.pendingProps,l=Fc(Ne.current).createElement(s),l[ie]=i,l[le]=t,cn(l,s,t),ke(l),i.stateNode=l):i.memoizedState=vv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return bt(i),t===null&&ct&&(l=i.stateNode=gv(i.type,i.pendingProps,Ne.current),Nn=i,Gr=!0,h=Ot,ca(i.type)?(um=h,Ot=Ar(l.firstChild)):Ot=h),ln(t,i,i.pendingProps.children,s),Dc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&ct&&((h=l=Ot)&&(l=YA(l,i.type,i.pendingProps,Gr),l!==null?(i.stateNode=l,Nn=i,Ot=Ar(l.firstChild),Gr=!1,h=!0):h=!1),h||us(i)),bt(i),h=i.type,d=i.pendingProps,E=t!==null?t.memoizedProps:null,l=d.children,am(h,d)?l=null:E!==null&&am(h,E)&&(i.flags|=32),i.memoizedState!==null&&(h=id(t,i,fA,null,null,s),Ql._currentValue=h),Dc(t,i),ln(t,i,l,s),i.child;case 6:return t===null&&ct&&((t=s=Ot)&&(s=$A(s,i.pendingProps,Gr),s!==null?(i.stateNode=s,Nn=i,Ot=null,t=!0):t=!1),t||us(i)),null;case 13:return f_(t,i,s);case 4:return gt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=uo(i,null,l,s):ln(t,i,l,s),i.child;case 11:return i_(t,i,i.type,i.pendingProps,s);case 7:return ln(t,i,i.pendingProps,s),i.child;case 8:return ln(t,i,i.pendingProps.children,s),i.child;case 12:return ln(t,i,i.pendingProps.children,s),i.child;case 10:return l=i.pendingProps,$i(i,i.type,l.value),ln(t,i,l.children,s),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,hs(i),h=gn(h),l=l(h),i.flags|=1,ln(t,i,l,s),i.child;case 14:return a_(t,i,i.type,i.pendingProps,s);case 15:return s_(t,i,i.type,i.pendingProps,s);case 19:return m_(t,i,s);case 31:return l=i.pendingProps,s=i.mode,l={mode:l.mode,children:l.children},t===null?(s=Nc(l,s),s.ref=i.ref,i.child=s,s.return=i,i=s):(s=yi(t.child,l),s.ref=i.ref,i.child=s,s.return=i,i=s),i;case 22:return o_(t,i,s);case 24:return hs(i),l=gn(Yt),t===null?(h=$f(),h===null&&(h=wt,d=Qf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=s),h=d),i.memoizedState={parent:l,cache:h},Wf(i),$i(i,Yt,h)):((t.lanes&s)!==0&&(Zf(t,i),bl(i,null,null,s),Al()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),$i(i,Yt,l)):(l=d.cache,$i(i,Yt,l),l!==h.cache&&Kf(i,[Yt],s,!0))),ln(t,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function bi(t){t.flags|=4}function g_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Av(i)){if(i=ur.current,i!==null&&((it&4194048)===it?Kr!==null:(it&62914560)!==it&&(it&536870912)===0||i!==Kr))throw Sl=Xf,Jg;t.flags|=8192}}function Oc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Ga():536870912,t.lanes|=i,mo|=i)}function Ml(t,i){if(!ct)switch(t.tailMode){case"hidden":i=t.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Dt(t){var i=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(i)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=s,i}function TA(t,i,s){var l=i.pendingProps;switch(Hf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(i),null;case 1:return Dt(i),null;case 3:return s=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ti(Yt),$n(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(pl(i)?bi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Yg())),Dt(i),null;case 26:return s=i.memoizedState,t===null?(bi(i),s!==null?(Dt(i),g_(i,s)):(Dt(i),i.flags&=-16777217)):s?s!==t.memoizedState?(bi(i),Dt(i),g_(i,s)):(Dt(i),i.flags&=-16777217):(t.memoizedProps!==l&&bi(i),Dt(i),i.flags&=-16777217),null;case 27:mn(i),s=Ne.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&bi(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return Dt(i),null}t=Ae.current,pl(i)?Kg(i):(t=gv(h,l,s),i.stateNode=t,bi(i))}return Dt(i),null;case 5:if(mn(i),s=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&bi(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return Dt(i),null}if(t=Ae.current,pl(i))Kg(i);else{switch(h=Fc(Ne.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(s,{is:l.is}):h.createElement(s)}}t[ie]=i,t[le]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(cn(t,s,l),s){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&bi(i)}}return Dt(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&bi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(a(166));if(t=Ne.current,pl(i)){if(t=i.stateNode,s=i.memoizedProps,l=null,h=Nn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[ie]=i,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||uv(t.nodeValue,s)),t||us(i)}else t=Fc(t).createTextNode(l),t[ie]=i,i.stateNode=t}return Dt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=pl(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[ie]=i}else gl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Dt(i),h=!1}else h=Yg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(wi(i),i):(wi(i),null)}if(wi(i),(i.flags&128)!==0)return i.lanes=s,i;if(s=l!==null,t=t!==null&&t.memoizedState!==null,s){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return s!==t&&s&&(i.child.flags|=8192),Oc(i,i.updateQueue),Dt(i),null;case 4:return $n(),t===null&&em(i.stateNode.containerInfo),Dt(i),null;case 10:return Ti(i.type),Dt(i),null;case 19:if(fe($t),h=i.memoizedState,h===null)return Dt(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)Ml(h,!1);else{if(Mt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Rc(t),d!==null){for(i.flags|=128,Ml(h,!1),t=d.updateQueue,i.updateQueue=t,Oc(i,t),i.subtreeFlags=0,t=s,s=i.child;s!==null;)Fg(s,t),s=s.sibling;return oe($t,$t.current&1|2),i.child}t=t.sibling}h.tail!==null&&An()>Vc&&(i.flags|=128,l=!0,Ml(h,!1),i.lanes=4194304)}else{if(!l)if(t=Rc(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,Oc(i,t),Ml(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!ct)return Dt(i),null}else 2*An()-h.renderingStartTime>Vc&&s!==536870912&&(i.flags|=128,l=!0,Ml(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=An(),i.sibling=null,t=$t.current,oe($t,l?t&1|2:t&1),i):(Dt(i),null);case 22:case 23:return wi(i),nd(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(s&536870912)!==0&&(i.flags&128)===0&&(Dt(i),i.subtreeFlags&6&&(i.flags|=8192)):Dt(i),s=i.updateQueue,s!==null&&Oc(i,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==s&&(i.flags|=2048),t!==null&&fe(fs),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),Ti(Yt),Dt(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function SA(t,i){switch(Hf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Ti(Yt),$n(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return mn(i),null;case 13:if(wi(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));gl()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return fe($t),null;case 4:return $n(),null;case 10:return Ti(i.type),null;case 22:case 23:return wi(i),nd(),t!==null&&fe(fs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Ti(Yt),null;case 25:return null;default:return null}}function y_(t,i){switch(Hf(i),i.tag){case 3:Ti(Yt),$n();break;case 26:case 27:case 5:mn(i);break;case 4:$n();break;case 13:wi(i);break;case 19:fe($t);break;case 10:Ti(i.type);break;case 22:case 23:wi(i),nd(),t!==null&&fe(fs);break;case 24:Ti(Yt)}}function xl(t,i){try{var s=i.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&t)===t){l=void 0;var d=s.create,E=s.inst;l=d(),E.destroy=l}s=s.next}while(s!==h)}}catch(T){Tt(i,i.return,T)}}function na(t,i,s){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var E=l.inst,T=E.destroy;if(T!==void 0){E.destroy=void 0,h=i;var C=s,F=T;try{F()}catch(Z){Tt(h,C,Z)}}}l=l.next}while(l!==d)}}catch(Z){Tt(i,i.return,Z)}}function __(t){var i=t.updateQueue;if(i!==null){var s=t.stateNode;try{ay(i,s)}catch(l){Tt(t,t.return,l)}}}function v_(t,i,s){s.props=ms(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){Tt(t,i,l)}}function Vl(t,i){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(h){Tt(t,i,h)}}function Qr(t,i){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){Tt(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Tt(t,i,h)}else s.current=null}function E_(t){var i=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){Tt(t,t.return,h)}}function Nd(t,i,s){try{var l=t.stateNode;qA(l,t.type,s,i),l[le]=i}catch(h){Tt(t,t.return,h)}}function T_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ca(t.type)||t.tag===4}function Od(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||T_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ca(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Md(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(t),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=qc));else if(l!==4&&(l===27&&ca(t.type)&&(s=t.stateNode,i=null),t=t.child,t!==null))for(Md(t,i,s),t=t.sibling;t!==null;)Md(t,i,s),t=t.sibling}function Mc(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?s.insertBefore(t,i):s.appendChild(t);else if(l!==4&&(l===27&&ca(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Mc(t,i,s),t=t.sibling;t!==null;)Mc(t,i,s),t=t.sibling}function S_(t){var i=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);cn(i,l,s),i[ie]=t,i[le]=s}catch(d){Tt(t,t.return,d)}}var Ri=!1,Vt=!1,xd=!1,w_=typeof WeakSet=="function"?WeakSet:Set,tn=null;function wA(t,i){if(t=t.containerInfo,rm=Xc,t=Vg(t),Of(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var E=0,T=-1,C=-1,F=0,Z=0,re=t,Q=null;t:for(;;){for(var $;re!==s||h!==0&&re.nodeType!==3||(T=E+h),re!==d||l!==0&&re.nodeType!==3||(C=E+l),re.nodeType===3&&(E+=re.nodeValue.length),($=re.firstChild)!==null;)Q=re,re=$;for(;;){if(re===t)break t;if(Q===s&&++F===h&&(T=E),Q===d&&++Z===l&&(C=E),($=re.nextSibling)!==null)break;re=Q,Q=re.parentNode}re=$}s=T===-1||C===-1?null:{start:T,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(im={focusedElem:t,selectionRange:s},Xc=!1,tn=i;tn!==null;)if(i=tn,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,tn=t;else for(;tn!==null;){switch(i=tn,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,s=i,h=d.memoizedProps,d=d.memoizedState,l=s.stateNode;try{var Le=ms(s.type,h,s.elementType===s.type);t=l.getSnapshotBeforeUpdate(Le,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Oe){Tt(s,s.return,Oe)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,s=t.nodeType,s===9)om(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":om(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,tn=t;break}tn=i.return}}function A_(t,i,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:ra(t,s),l&4&&xl(5,s);break;case 1:if(ra(t,s),l&4)if(t=s.stateNode,i===null)try{t.componentDidMount()}catch(E){Tt(s,s.return,E)}else{var h=ms(s.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(E){Tt(s,s.return,E)}}l&64&&__(s),l&512&&Vl(s,s.return);break;case 3:if(ra(t,s),l&64&&(t=s.updateQueue,t!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{ay(t,i)}catch(E){Tt(s,s.return,E)}}break;case 27:i===null&&l&4&&S_(s);case 26:case 5:ra(t,s),i===null&&l&4&&E_(s),l&512&&Vl(s,s.return);break;case 12:ra(t,s);break;case 13:ra(t,s),l&4&&I_(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=MA.bind(null,s),XA(t,s))));break;case 22:if(l=s.memoizedState!==null||Ri,!l){i=i!==null&&i.memoizedState!==null||Vt,h=Ri;var d=Vt;Ri=l,(Vt=i)&&!d?ia(t,s,(s.subtreeFlags&8772)!==0):ra(t,s),Ri=h,Vt=d}break;case 30:break;default:ra(t,s)}}function b_(t){var i=t.alternate;i!==null&&(t.alternate=null,b_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ve(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ct=null,xn=!1;function Ii(t,i,s){for(s=s.child;s!==null;)R_(t,i,s),s=s.sibling}function R_(t,i,s){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(ot,s)}catch{}switch(s.tag){case 26:Vt||Qr(s,i),Ii(t,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Vt||Qr(s,i);var l=Ct,h=xn;ca(s.type)&&(Ct=s.stateNode,xn=!1),Ii(t,i,s),ql(s.stateNode),Ct=l,xn=h;break;case 5:Vt||Qr(s,i);case 6:if(l=Ct,h=xn,Ct=null,Ii(t,i,s),Ct=l,xn=h,Ct!==null)if(xn)try{(Ct.nodeType===9?Ct.body:Ct.nodeName==="HTML"?Ct.ownerDocument.body:Ct).removeChild(s.stateNode)}catch(d){Tt(s,i,d)}else try{Ct.removeChild(s.stateNode)}catch(d){Tt(s,i,d)}break;case 18:Ct!==null&&(xn?(t=Ct,mv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Wl(t)):mv(Ct,s.stateNode));break;case 4:l=Ct,h=xn,Ct=s.stateNode.containerInfo,xn=!0,Ii(t,i,s),Ct=l,xn=h;break;case 0:case 11:case 14:case 15:Vt||na(2,s,i),Vt||na(4,s,i),Ii(t,i,s);break;case 1:Vt||(Qr(s,i),l=s.stateNode,typeof l.componentWillUnmount=="function"&&v_(s,i,l)),Ii(t,i,s);break;case 21:Ii(t,i,s);break;case 22:Vt=(l=Vt)||s.memoizedState!==null,Ii(t,i,s),Vt=l;break;default:Ii(t,i,s)}}function I_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Wl(t)}catch(s){Tt(i,i.return,s)}}function AA(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new w_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new w_),i;default:throw Error(a(435,t.tag))}}function Vd(t,i){var s=AA(t);i.forEach(function(l){var h=xA.bind(null,t,l);s.has(l)||(s.add(l),l.then(h,h))})}function qn(t,i){var s=i.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],d=t,E=i,T=E;e:for(;T!==null;){switch(T.tag){case 27:if(ca(T.type)){Ct=T.stateNode,xn=!1;break e}break;case 5:Ct=T.stateNode,xn=!1;break e;case 3:case 4:Ct=T.stateNode.containerInfo,xn=!0;break e}T=T.return}if(Ct===null)throw Error(a(160));R_(d,E,h),Ct=null,xn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)C_(i,t),i=i.sibling}var wr=null;function C_(t,i){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:qn(i,t),Fn(t),l&4&&(na(3,t,t.return),xl(3,t),na(5,t,t.return));break;case 1:qn(i,t),Fn(t),l&512&&(Vt||s===null||Qr(s,s.return)),l&64&&Ri&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=wr;if(qn(i,t),Fn(t),l&512&&(Vt||s===null||Qr(s,s.return)),l&4){var d=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[we]||d[ie]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),cn(d,l,s),d[ie]=t,ke(d),l=d;break e;case"link":var E=Sv("link","href",h).get(l+(s.href||""));if(E){for(var T=0;T<E.length;T++)if(d=E[T],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){E.splice(T,1);break t}}d=h.createElement(l),cn(d,l,s),h.head.appendChild(d);break;case"meta":if(E=Sv("meta","content",h).get(l+(s.content||""))){for(T=0;T<E.length;T++)if(d=E[T],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){E.splice(T,1);break t}}d=h.createElement(l),cn(d,l,s),h.head.appendChild(d);break;default:throw Error(a(468,l))}d[ie]=t,ke(d),l=d}t.stateNode=l}else wv(h,t.type,t.stateNode);else t.stateNode=Tv(h,l,t.memoizedProps);else d!==l?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,l===null?wv(h,t.type,t.stateNode):Tv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Nd(t,t.memoizedProps,s.memoizedProps)}break;case 27:qn(i,t),Fn(t),l&512&&(Vt||s===null||Qr(s,s.return)),s!==null&&l&4&&Nd(t,t.memoizedProps,s.memoizedProps);break;case 5:if(qn(i,t),Fn(t),l&512&&(Vt||s===null||Qr(s,s.return)),t.flags&32){h=t.stateNode;try{tr(h,"")}catch($){Tt(t,t.return,$)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Nd(t,h,s!==null?s.memoizedProps:h)),l&1024&&(xd=!0);break;case 6:if(qn(i,t),Fn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch($){Tt(t,t.return,$)}}break;case 3:if(Qc=null,h=wr,wr=Gc(i.containerInfo),qn(i,t),wr=h,Fn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Wl(i.containerInfo)}catch($){Tt(t,t.return,$)}xd&&(xd=!1,D_(t));break;case 4:l=wr,wr=Gc(t.stateNode.containerInfo),qn(i,t),Fn(t),wr=l;break;case 12:qn(i,t),Fn(t);break;case 13:qn(i,t),Fn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Bd=An()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Vd(t,l)));break;case 22:h=t.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,F=Ri,Z=Vt;if(Ri=F||h,Vt=Z||C,qn(i,t),Vt=Z,Ri=F,Fn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(s===null||C||Ri||Vt||ps(t)),s=null,i=t;;){if(i.tag===5||i.tag===26){if(s===null){C=s=i;try{if(d=C.stateNode,h)E=d.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{T=C.stateNode;var re=C.memoizedProps.style,Q=re!=null&&re.hasOwnProperty("display")?re.display:null;T.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch($){Tt(C,C.return,$)}}}else if(i.tag===6){if(s===null){C=i;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch($){Tt(C,C.return,$)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Vd(t,s))));break;case 19:qn(i,t),Fn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Vd(t,l)));break;case 30:break;case 21:break;default:qn(i,t),Fn(t)}}function Fn(t){var i=t.flags;if(i&2){try{for(var s,l=t.return;l!==null;){if(T_(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,d=Od(t);Mc(t,d,h);break;case 5:var E=s.stateNode;s.flags&32&&(tr(E,""),s.flags&=-33);var T=Od(t);Mc(t,T,E);break;case 3:case 4:var C=s.stateNode.containerInfo,F=Od(t);Md(t,F,C);break;default:throw Error(a(161))}}catch(Z){Tt(t,t.return,Z)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function D_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;D_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function ra(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)A_(t,i.alternate,i),i=i.sibling}function ps(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:na(4,i,i.return),ps(i);break;case 1:Qr(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&v_(i,i.return,s),ps(i);break;case 27:ql(i.stateNode);case 26:case 5:Qr(i,i.return),ps(i);break;case 22:i.memoizedState===null&&ps(i);break;case 30:ps(i);break;default:ps(i)}t=t.sibling}}function ia(t,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,E=d.flags;switch(d.tag){case 0:case 11:case 15:ia(h,d,s),xl(4,d);break;case 1:if(ia(h,d,s),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(F){Tt(l,l.return,F)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)iy(C[h],T)}catch(F){Tt(l,l.return,F)}}s&&E&64&&__(d),Vl(d,d.return);break;case 27:S_(d);case 26:case 5:ia(h,d,s),s&&l===null&&E&4&&E_(d),Vl(d,d.return);break;case 12:ia(h,d,s);break;case 13:ia(h,d,s),s&&E&4&&I_(h,d);break;case 22:d.memoizedState===null&&ia(h,d,s),Vl(d,d.return);break;case 30:break;default:ia(h,d,s)}i=i.sibling}}function Pd(t,i){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&vl(s))}function Ld(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&vl(t))}function Yr(t,i,s,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)N_(t,i,s,l),i=i.sibling}function N_(t,i,s,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Yr(t,i,s,l),h&2048&&xl(9,i);break;case 1:Yr(t,i,s,l);break;case 3:Yr(t,i,s,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&vl(t)));break;case 12:if(h&2048){Yr(t,i,s,l),t=i.stateNode;try{var d=i.memoizedProps,E=d.id,T=d.onPostCommit;typeof T=="function"&&T(E,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Tt(i,i.return,C)}}else Yr(t,i,s,l);break;case 13:Yr(t,i,s,l);break;case 23:break;case 22:d=i.stateNode,E=i.alternate,i.memoizedState!==null?d._visibility&2?Yr(t,i,s,l):Pl(t,i):d._visibility&2?Yr(t,i,s,l):(d._visibility|=2,co(t,i,s,l,(i.subtreeFlags&10256)!==0)),h&2048&&Pd(E,i);break;case 24:Yr(t,i,s,l),h&2048&&Ld(i.alternate,i);break;default:Yr(t,i,s,l)}}function co(t,i,s,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,E=i,T=s,C=l,F=E.flags;switch(E.tag){case 0:case 11:case 15:co(d,E,T,C,h),xl(8,E);break;case 23:break;case 22:var Z=E.stateNode;E.memoizedState!==null?Z._visibility&2?co(d,E,T,C,h):Pl(d,E):(Z._visibility|=2,co(d,E,T,C,h)),h&&F&2048&&Pd(E.alternate,E);break;case 24:co(d,E,T,C,h),h&&F&2048&&Ld(E.alternate,E);break;default:co(d,E,T,C,h)}i=i.sibling}}function Pl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=t,l=i,h=l.flags;switch(l.tag){case 22:Pl(s,l),h&2048&&Pd(l.alternate,l);break;case 24:Pl(s,l),h&2048&&Ld(l.alternate,l);break;default:Pl(s,l)}i=i.sibling}}var Ll=8192;function ho(t){if(t.subtreeFlags&Ll)for(t=t.child;t!==null;)O_(t),t=t.sibling}function O_(t){switch(t.tag){case 26:ho(t),t.flags&Ll&&t.memoizedState!==null&&ub(wr,t.memoizedState,t.memoizedProps);break;case 5:ho(t);break;case 3:case 4:var i=wr;wr=Gc(t.stateNode.containerInfo),ho(t),wr=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Ll,Ll=16777216,ho(t),Ll=i):ho(t));break;default:ho(t)}}function M_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function kl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];tn=l,V_(l,t)}M_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)x_(t),t=t.sibling}function x_(t){switch(t.tag){case 0:case 11:case 15:kl(t),t.flags&2048&&na(9,t,t.return);break;case 3:kl(t);break;case 12:kl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,xc(t)):kl(t);break;default:kl(t)}}function xc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];tn=l,V_(l,t)}M_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:na(8,i,i.return),xc(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,xc(i));break;default:xc(i)}t=t.sibling}}function V_(t,i){for(;tn!==null;){var s=tn;switch(s.tag){case 0:case 11:case 15:na(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:vl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,tn=l;else e:for(s=t;tn!==null;){l=tn;var h=l.sibling,d=l.return;if(b_(l),l===s){tn=null;break e}if(h!==null){h.return=d,tn=h;break e}tn=d}}}var bA={getCacheForType:function(t){var i=gn(Yt),s=i.data.get(t);return s===void 0&&(s=t(),i.data.set(t,s)),s}},RA=typeof WeakMap=="function"?WeakMap:Map,mt=0,wt=null,$e=null,it=0,pt=0,Gn=null,aa=!1,fo=!1,kd=!1,Ci=0,Mt=0,sa=0,gs=0,Ud=0,cr=0,mo=0,Ul=null,Vn=null,zd=!1,Bd=0,Vc=1/0,Pc=null,oa=null,un=0,la=null,po=null,go=0,jd=0,Hd=null,P_=null,zl=0,qd=null;function Kn(){if((mt&2)!==0&&it!==0)return it&-it;if(K.T!==null){var t=no;return t!==0?t:Xd()}return N()}function L_(){cr===0&&(cr=(it&536870912)===0||ct?ui():536870912);var t=ur.current;return t!==null&&(t.flags|=32),cr}function Qn(t,i,s){(t===wt&&(pt===2||pt===9)||t.cancelPendingCommit!==null)&&(yo(t,0),ua(t,it,cr,!1)),_r(t,s),((mt&2)===0||t!==wt)&&(t===wt&&((mt&2)===0&&(gs|=s),Mt===4&&ua(t,it,cr,!1)),$r(t))}function k_(t,i,s){if((mt&6)!==0)throw Error(a(327));var l=!s&&(i&124)===0&&(i&t.expiredLanes)===0||Zn(t,i),h=l?DA(t,i):Kd(t,i,!0),d=l;do{if(h===0){fo&&!l&&ua(t,i,0,!1);break}else{if(s=t.current.alternate,d&&!IA(s)){h=Kd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var T=t;h=Ul;var C=T.current.memoizedState.isDehydrated;if(C&&(yo(T,E).flags|=256),E=Kd(T,E,!1),E!==2){if(kd&&!C){T.errorRecoveryDisabledLanes|=d,gs|=d,h=4;break e}d=Vn,Vn=h,d!==null&&(Vn===null?Vn=d:Vn.push.apply(Vn,d))}h=E}if(d=!1,h!==2)continue}}if(h===1){yo(t,0),ua(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:ua(l,i,cr,!aa);break e;case 2:Vn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(h=Bd+300-An(),10<h)){if(ua(l,i,cr,!aa),li(l,0,!0)!==0)break e;l.timeoutHandle=fv(U_.bind(null,l,s,Vn,Pc,zd,i,cr,gs,mo,aa,d,2,-0,0),h);break e}U_(l,s,Vn,Pc,zd,i,cr,gs,mo,aa,d,0,-0,0)}}break}while(!0);$r(t)}function U_(t,i,s,l,h,d,E,T,C,F,Z,re,Q,$){if(t.timeoutHandle=-1,re=i.subtreeFlags,(re&8192||(re&16785408)===16785408)&&(Kl={stylesheets:null,count:0,unsuspend:lb},O_(i),re=cb(),re!==null)){t.cancelPendingCommit=re(G_.bind(null,t,i,d,s,l,h,E,T,C,Z,1,Q,$)),ua(t,d,E,!F);return}G_(t,i,d,s,l,h,E,T,C)}function IA(t){for(var i=t;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],d=h.getSnapshot;h=h.value;try{if(!jn(d(),h))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ua(t,i,s,l){i&=~Ud,i&=~gs,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-zt(h),E=1<<d;l[d]=-1,h&=~E}s!==0&&bn(t,s,i)}function Lc(){return(mt&6)===0?(Bl(0),!1):!0}function Fd(){if($e!==null){if(pt===0)var t=$e.return;else t=$e,Ei=cs=null,od(t),lo=null,Nl=0,t=$e;for(;t!==null;)y_(t.alternate,t),t=t.return;$e=null}}function yo(t,i){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,GA(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Fd(),wt=t,$e=s=yi(t.current,null),it=i,pt=0,Gn=null,aa=!1,fo=Zn(t,i),kd=!1,mo=cr=Ud=gs=sa=Mt=0,Vn=Ul=null,zd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-zt(l),d=1<<h;i|=t[h],l&=~d}return Ci=i,ic(),s}function z_(t,i){Ke=null,K.H=wc,i===Tl||i===dc?(i=ny(),pt=3):i===Jg?(i=ny(),pt=4):pt=i===r_?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Gn=i,$e===null&&(Mt=1,Cc(t,ar(i,t.current)))}function B_(){var t=K.H;return K.H=wc,t===null?wc:t}function j_(){var t=K.A;return K.A=bA,t}function Gd(){Mt=4,aa||(it&4194048)!==it&&ur.current!==null||(fo=!0),(sa&134217727)===0&&(gs&134217727)===0||wt===null||ua(wt,it,cr,!1)}function Kd(t,i,s){var l=mt;mt|=2;var h=B_(),d=j_();(wt!==t||it!==i)&&(Pc=null,yo(t,i)),i=!1;var E=Mt;e:do try{if(pt!==0&&$e!==null){var T=$e,C=Gn;switch(pt){case 8:Fd(),E=6;break e;case 3:case 2:case 9:case 6:ur.current===null&&(i=!0);var F=pt;if(pt=0,Gn=null,_o(t,T,C,F),s&&fo){E=0;break e}break;default:F=pt,pt=0,Gn=null,_o(t,T,C,F)}}CA(),E=Mt;break}catch(Z){z_(t,Z)}while(!0);return i&&t.shellSuspendCounter++,Ei=cs=null,mt=l,K.H=h,K.A=d,$e===null&&(wt=null,it=0,ic()),E}function CA(){for(;$e!==null;)H_($e)}function DA(t,i){var s=mt;mt|=2;var l=B_(),h=j_();wt!==t||it!==i?(Pc=null,Vc=An()+500,yo(t,i)):fo=Zn(t,i);e:do try{if(pt!==0&&$e!==null){i=$e;var d=Gn;t:switch(pt){case 1:pt=0,Gn=null,_o(t,i,d,1);break;case 2:case 9:if(ey(d)){pt=0,Gn=null,q_(i);break}i=function(){pt!==2&&pt!==9||wt!==t||(pt=7),$r(t)},d.then(i,i);break e;case 3:pt=7;break e;case 4:pt=5;break e;case 7:ey(d)?(pt=0,Gn=null,q_(i)):(pt=0,Gn=null,_o(t,i,d,7));break;case 5:var E=null;switch($e.tag){case 26:E=$e.memoizedState;case 5:case 27:var T=$e;if(!E||Av(E)){pt=0,Gn=null;var C=T.sibling;if(C!==null)$e=C;else{var F=T.return;F!==null?($e=F,kc(F)):$e=null}break t}}pt=0,Gn=null,_o(t,i,d,5);break;case 6:pt=0,Gn=null,_o(t,i,d,6);break;case 8:Fd(),Mt=6;break e;default:throw Error(a(462))}}NA();break}catch(Z){z_(t,Z)}while(!0);return Ei=cs=null,K.H=l,K.A=h,mt=s,$e!==null?0:(wt=null,it=0,ic(),Mt)}function NA(){for(;$e!==null&&!qa();)H_($e)}function H_(t){var i=p_(t.alternate,t,Ci);t.memoizedProps=t.pendingProps,i===null?kc(t):$e=i}function q_(t){var i=t,s=i.alternate;switch(i.tag){case 15:case 0:i=u_(s,i,i.pendingProps,i.type,void 0,it);break;case 11:i=u_(s,i,i.pendingProps,i.type.render,i.ref,it);break;case 5:od(i);default:y_(s,i),i=$e=Fg(i,Ci),i=p_(s,i,Ci)}t.memoizedProps=t.pendingProps,i===null?kc(t):$e=i}function _o(t,i,s,l){Ei=cs=null,od(i),lo=null,Nl=0;var h=i.return;try{if(vA(t,h,i,s,it)){Mt=1,Cc(t,ar(s,t.current)),$e=null;return}}catch(d){if(h!==null)throw $e=h,d;Mt=1,Cc(t,ar(s,t.current)),$e=null;return}i.flags&32768?(ct||l===1?t=!0:fo||(it&536870912)!==0?t=!1:(aa=t=!0,(l===2||l===9||l===3||l===6)&&(l=ur.current,l!==null&&l.tag===13&&(l.flags|=16384))),F_(i,t)):kc(i)}function kc(t){var i=t;do{if((i.flags&32768)!==0){F_(i,aa);return}t=i.return;var s=TA(i.alternate,i,Ci);if(s!==null){$e=s;return}if(i=i.sibling,i!==null){$e=i;return}$e=i=t}while(i!==null);Mt===0&&(Mt=5)}function F_(t,i){do{var s=SA(t.alternate,t);if(s!==null){s.flags&=32767,$e=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(t=t.sibling,t!==null)){$e=t;return}$e=t=s}while(t!==null);Mt=6,$e=null}function G_(t,i,s,l,h,d,E,T,C){t.cancelPendingCommit=null;do Uc();while(un!==0);if((mt&6)!==0)throw Error(a(327));if(i!==null){if(i===t.current)throw Error(a(177));if(d=i.lanes|i.childLanes,d|=Lf,Hi(t,s,d,E,T,C),t===wt&&($e=wt=null,it=0),po=i,la=t,go=s,jd=d,Hd=h,P_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,VA(oi,function(){return X_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,h=ce.p,ce.p=2,E=mt,mt|=4;try{wA(t,i,s)}finally{mt=E,ce.p=h,K.T=l}}un=1,K_(),Q_(),Y_()}}function K_(){if(un===1){un=0;var t=la,i=po,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=K.T,K.T=null;var l=ce.p;ce.p=2;var h=mt;mt|=4;try{C_(i,t);var d=im,E=Vg(t.containerInfo),T=d.focusedElem,C=d.selectionRange;if(E!==T&&T&&T.ownerDocument&&xg(T.ownerDocument.documentElement,T)){if(C!==null&&Of(T)){var F=C.start,Z=C.end;if(Z===void 0&&(Z=F),"selectionStart"in T)T.selectionStart=F,T.selectionEnd=Math.min(Z,T.value.length);else{var re=T.ownerDocument||document,Q=re&&re.defaultView||window;if(Q.getSelection){var $=Q.getSelection(),Le=T.textContent.length,Oe=Math.min(C.start,Le),Et=C.end===void 0?Oe:Math.min(C.end,Le);!$.extend&&Oe>Et&&(E=Et,Et=Oe,Oe=E);var k=Mg(T,Oe),V=Mg(T,Et);if(k&&V&&($.rangeCount!==1||$.anchorNode!==k.node||$.anchorOffset!==k.offset||$.focusNode!==V.node||$.focusOffset!==V.offset)){var j=re.createRange();j.setStart(k.node,k.offset),$.removeAllRanges(),Oe>Et?($.addRange(j),$.extend(V.node,V.offset)):(j.setEnd(V.node,V.offset),$.addRange(j))}}}}for(re=[],$=T;$=$.parentNode;)$.nodeType===1&&re.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<re.length;T++){var te=re[T];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}Xc=!!rm,im=rm=null}finally{mt=h,ce.p=l,K.T=s}}t.current=i,un=2}}function Q_(){if(un===2){un=0;var t=la,i=po,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=K.T,K.T=null;var l=ce.p;ce.p=2;var h=mt;mt|=4;try{A_(t,i.alternate,i)}finally{mt=h,ce.p=l,K.T=s}}un=3}}function Y_(){if(un===4||un===3){un=0,ks();var t=la,i=po,s=go,l=P_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?un=5:(un=0,po=la=null,$_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(oa=null),qi(s),i=i.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(ot,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=K.T,h=ce.p,ce.p=2,K.T=null;try{for(var d=t.onRecoverableError,E=0;E<l.length;E++){var T=l[E];d(T.value,{componentStack:T.stack})}}finally{K.T=i,ce.p=h}}(go&3)!==0&&Uc(),$r(t),h=t.pendingLanes,(s&4194090)!==0&&(h&42)!==0?t===qd?zl++:(zl=0,qd=t):zl=0,Bl(0)}}function $_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,vl(i)))}function Uc(t){return K_(),Q_(),Y_(),X_()}function X_(){if(un!==5)return!1;var t=la,i=jd;jd=0;var s=qi(go),l=K.T,h=ce.p;try{ce.p=32>s?32:s,K.T=null,s=Hd,Hd=null;var d=la,E=go;if(un=0,po=la=null,go=0,(mt&6)!==0)throw Error(a(331));var T=mt;if(mt|=4,x_(d.current),N_(d,d.current,E,s),mt=T,Bl(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(ot,d)}catch{}return!0}finally{ce.p=h,K.T=l,$_(t,i)}}function W_(t,i,s){i=ar(s,i),i=Td(t.stateNode,i,2),t=Zi(t,i,2),t!==null&&(_r(t,2),$r(t))}function Tt(t,i,s){if(t.tag===3)W_(t,t,s);else for(;i!==null;){if(i.tag===3){W_(i,t,s);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(oa===null||!oa.has(l))){t=ar(s,t),s=t_(2),l=Zi(i,s,2),l!==null&&(n_(s,l,i,t),_r(l,2),$r(l));break}}i=i.return}}function Qd(t,i,s){var l=t.pingCache;if(l===null){l=t.pingCache=new RA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(s)||(kd=!0,h.add(s),t=OA.bind(null,t,i,s),i.then(t,t))}function OA(t,i,s){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,wt===t&&(it&s)===s&&(Mt===4||Mt===3&&(it&62914560)===it&&300>An()-Bd?(mt&2)===0&&yo(t,0):Ud|=s,mo===it&&(mo=0)),$r(t)}function Z_(t,i){i===0&&(i=Ga()),t=Zs(t,i),t!==null&&(_r(t,i),$r(t))}function MA(t){var i=t.memoizedState,s=0;i!==null&&(s=i.retryLane),Z_(t,s)}function xA(t,i){var s=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(i),Z_(t,s)}function VA(t,i){return si(t,i)}var zc=null,vo=null,Yd=!1,Bc=!1,$d=!1,ys=0;function $r(t){t!==vo&&t.next===null&&(vo===null?zc=vo=t:vo=vo.next=t),Bc=!0,Yd||(Yd=!0,LA())}function Bl(t,i){if(!$d&&Bc){$d=!0;do for(var s=!1,l=zc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var E=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-zt(42|t)+1)-1,d&=h&~(E&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,nv(l,d))}else d=it,d=li(l,l===wt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Zn(l,d)||(s=!0,nv(l,d));l=l.next}while(s);$d=!1}}function PA(){J_()}function J_(){Bc=Yd=!1;var t=0;ys!==0&&(FA()&&(t=ys),ys=0);for(var i=An(),s=null,l=zc;l!==null;){var h=l.next,d=ev(l,i);d===0?(l.next=null,s===null?zc=h:s.next=h,h===null&&(vo=s)):(s=l,(t!==0||(d&3)!==0)&&(Bc=!0)),l=h}Bl(t)}function ev(t,i){for(var s=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var E=31-zt(d),T=1<<E,C=h[E];C===-1?((T&s)===0||(T&l)!==0)&&(h[E]=ji(T,i)):C<=i&&(t.expiredLanes|=T),d&=~T}if(i=wt,s=it,s=li(t,t===i?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===i&&(pt===2||pt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&wn(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Zn(t,s)){if(i=s&-s,i===t.callbackPriority)return i;switch(l!==null&&wn(l),qi(s)){case 2:case 8:s=Ui;break;case 32:s=oi;break;case 268435456:s=Xn;break;default:s=oi}return l=tv.bind(null,t),s=si(s,l),t.callbackPriority=i,t.callbackNode=s,i}return l!==null&&l!==null&&wn(l),t.callbackPriority=2,t.callbackNode=null,2}function tv(t,i){if(un!==0&&un!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Uc()&&t.callbackNode!==s)return null;var l=it;return l=li(t,t===wt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(k_(t,l,i),ev(t,An()),t.callbackNode!=null&&t.callbackNode===s?tv.bind(null,t):null)}function nv(t,i){if(Uc())return null;k_(t,i,!0)}function LA(){KA(function(){(mt&6)!==0?si(Fa,PA):J_()})}function Xd(){return ys===0&&(ys=ui()),ys}function rv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Bs(""+t)}function iv(t,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,t.id&&s.setAttribute("form",t.id),i.parentNode.insertBefore(s,i),t=new FormData(t),s.parentNode.removeChild(s),t}function kA(t,i,s,l,h){if(i==="submit"&&s&&s.stateNode===h){var d=rv((h[le]||null).action),E=l.submitter;E&&(i=(i=E[le]||null)?rv(i.formAction):E.getAttribute("formAction"),i!==null&&(d=i,E=null));var T=new js("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ys!==0){var C=E?iv(h,E):new FormData(h);gd(s,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(T.preventDefault(),C=E?iv(h,E):new FormData(h),gd(s,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var Wd=0;Wd<Pf.length;Wd++){var Zd=Pf[Wd],UA=Zd.toLowerCase(),zA=Zd[0].toUpperCase()+Zd.slice(1);Sr(UA,"on"+zA)}Sr(kg,"onAnimationEnd"),Sr(Ug,"onAnimationIteration"),Sr(zg,"onAnimationStart"),Sr("dblclick","onDoubleClick"),Sr("focusin","onFocus"),Sr("focusout","onBlur"),Sr(nA,"onTransitionRun"),Sr(rA,"onTransitionStart"),Sr(iA,"onTransitionCancel"),Sr(Bg,"onTransitionEnd"),Wt("onMouseEnter",["mouseout","mouseover"]),Wt("onMouseLeave",["mouseout","mouseover"]),Wt("onPointerEnter",["pointerout","pointerover"]),Wt("onPointerLeave",["pointerout","pointerover"]),an("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),an("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),an("onBeforeInput",["compositionend","keypress","textInput","paste"]),an("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),an("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),an("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jl));function av(t,i){i=(i&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var E=l.length-1;0<=E;E--){var T=l[E],C=T.instance,F=T.currentTarget;if(T=T.listener,C!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=F;try{d(h)}catch(Z){Ic(Z)}h.currentTarget=null,d=C}else for(E=0;E<l.length;E++){if(T=l[E],C=T.instance,F=T.currentTarget,T=T.listener,C!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=F;try{d(h)}catch(Z){Ic(Z)}h.currentTarget=null,d=C}}}}function Xe(t,i){var s=i[be];s===void 0&&(s=i[be]=new Set);var l=t+"__bubble";s.has(l)||(sv(i,t,2,!1),s.add(l))}function Jd(t,i,s){var l=0;i&&(l|=4),sv(s,t,l,i)}var jc="_reactListening"+Math.random().toString(36).slice(2);function em(t){if(!t[jc]){t[jc]=!0,ut.forEach(function(s){s!=="selectionchange"&&(BA.has(s)||Jd(s,!1,t),Jd(s,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[jc]||(i[jc]=!0,Jd("selectionchange",!1,i))}}function sv(t,i,s,l){switch(Nv(i)){case 2:var h=db;break;case 8:h=mb;break;default:h=mm}s=h.bind(null,i,s,t),h=void 0,!rr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,s,{capture:!0,passive:h}):t.addEventListener(i,s,!0):h!==void 0?t.addEventListener(i,s,{passive:h}):t.addEventListener(i,s,!1)}function tm(t,i,s,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var T=l.stateNode.containerInfo;if(T===h)break;if(E===4)for(E=l.return;E!==null;){var C=E.tag;if((C===3||C===4)&&E.stateNode.containerInfo===h)return;E=E.return}for(;T!==null;){if(E=He(T),E===null)return;if(C=E.tag,C===5||C===6||C===26||C===27){l=d=E;continue e}T=T.parentNode}}l=l.return}qu(function(){var F=d,Z=nr(s),re=[];e:{var Q=jg.get(t);if(Q!==void 0){var $=js,Le=t;switch(t){case"keypress":if(Br(s)===0)break e;case"keydown":case"keyup":$=Qs;break;case"focusin":Le="focus",$=Fs;break;case"focusout":Le="blur",$=Fs;break;case"beforeblur":case"afterblur":$=Fs;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=ir;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=If;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=Wu;break;case kg:case Ug:case zg:$=Gs;break;case Bg:$=Ju;break;case"scroll":case"scrollend":$=Fu;break;case"wheel":$=Ys;break;case"copy":case"cut":case"paste":$=Ks;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=hl;break;case"toggle":case"beforetoggle":$=tc}var Oe=(i&4)!==0,Et=!Oe&&(t==="scroll"||t==="scrollend"),k=Oe?Q!==null?Q+"Capture":null:Q;Oe=[];for(var V=F,j;V!==null;){var te=V;if(j=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||j===null||k===null||(te=Xa(V,k),te!=null&&Oe.push(Hl(V,te,j))),Et)break;V=V.return}0<Oe.length&&(Q=new $(Q,Le,null,s,Z),re.push({event:Q,listeners:Oe}))}}if((i&7)===0){e:{if(Q=t==="mouseover"||t==="pointerover",$=t==="mouseout"||t==="pointerout",Q&&s!==hi&&(Le=s.relatedTarget||s.fromElement)&&(He(Le)||Le[ye]))break e;if(($||Q)&&(Q=Z.window===Z?Z:(Q=Z.ownerDocument)?Q.defaultView||Q.parentWindow:window,$?(Le=s.relatedTarget||s.toElement,$=F,Le=Le?He(Le):null,Le!==null&&(Et=u(Le),Oe=Le.tag,Le!==Et||Oe!==5&&Oe!==27&&Oe!==6)&&(Le=null)):($=null,Le=F),$!==Le)){if(Oe=ir,te="onMouseLeave",k="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(Oe=hl,te="onPointerLeave",k="onPointerEnter",V="pointer"),Et=$==null?Q:dt($),j=Le==null?Q:dt(Le),Q=new Oe(te,V+"leave",$,s,Z),Q.target=Et,Q.relatedTarget=j,te=null,He(Z)===F&&(Oe=new Oe(k,V+"enter",Le,s,Z),Oe.target=j,Oe.relatedTarget=Et,te=Oe),Et=te,$&&Le)t:{for(Oe=$,k=Le,V=0,j=Oe;j;j=Eo(j))V++;for(j=0,te=k;te;te=Eo(te))j++;for(;0<V-j;)Oe=Eo(Oe),V--;for(;0<j-V;)k=Eo(k),j--;for(;V--;){if(Oe===k||k!==null&&Oe===k.alternate)break t;Oe=Eo(Oe),k=Eo(k)}Oe=null}else Oe=null;$!==null&&ov(re,Q,$,Oe,!1),Le!==null&&Et!==null&&ov(re,Et,Le,Oe,!0)}}e:{if(Q=F?dt(F):window,$=Q.nodeName&&Q.nodeName.toLowerCase(),$==="select"||$==="input"&&Q.type==="file")var Ee=Rg;else if(Qt(Q))if(Ig)Ee=Jw;else{Ee=Ww;var Qe=Xw}else $=Q.nodeName,!$||$.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?F&&il(F.elementType)&&(Ee=Rg):Ee=Zw;if(Ee&&(Ee=Ee(t,F))){gi(re,Ee,s,Z);break e}Qe&&Qe(t,Q,F),t==="focusout"&&F&&Q.type==="number"&&F.memoizedProps.value!=null&&Qi(Q,"number",Q.value)}switch(Qe=F?dt(F):window,t){case"focusin":(Qt(Qe)||Qe.contentEditable==="true")&&($s=Qe,Mf=F,ml=null);break;case"focusout":ml=Mf=$s=null;break;case"mousedown":xf=!0;break;case"contextmenu":case"mouseup":case"dragend":xf=!1,Pg(re,s,Z);break;case"selectionchange":if(tA)break;case"keydown":case"keyup":Pg(re,s,Z)}var Re;if(qr)e:{switch(t){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else nt?X(t,s)&&(xe="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(xe="onCompositionStart");xe&&(_&&s.locale!=="ko"&&(nt||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&nt&&(Re=sl()):(zr=Z,Yi="value"in zr?zr.value:zr.textContent,nt=!0)),Qe=Hc(F,xe),0<Qe.length&&(xe=new ul(xe,t,null,s,Z),re.push({event:xe,listeners:Qe}),Re?xe.data=Re:(Re=de(s),Re!==null&&(xe.data=Re)))),(Re=y?Kt(t,s):rt(t,s))&&(xe=Hc(F,"onBeforeInput"),0<xe.length&&(Qe=new ul("onBeforeInput","beforeinput",null,s,Z),re.push({event:Qe,listeners:xe}),Qe.data=Re)),kA(re,t,F,s,Z)}av(re,i)})}function Hl(t,i,s){return{instance:t,listener:i,currentTarget:s}}function Hc(t,i){for(var s=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Xa(t,s),h!=null&&l.unshift(Hl(t,h,d)),h=Xa(t,i),h!=null&&l.push(Hl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Eo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function ov(t,i,s,l,h){for(var d=i._reactName,E=[];s!==null&&s!==l;){var T=s,C=T.alternate,F=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||F===null||(C=F,h?(F=Xa(s,d),F!=null&&E.unshift(Hl(s,F,C))):h||(F=Xa(s,d),F!=null&&E.push(Hl(s,F,C)))),s=s.return}E.length!==0&&t.push({event:i,listeners:E})}var jA=/\r\n?/g,HA=/\u0000|\uFFFD/g;function lv(t){return(typeof t=="string"?t:""+t).replace(jA,`
`).replace(HA,"")}function uv(t,i){return i=lv(i),lv(t)===i}function qc(){}function vt(t,i,s,l,h,d){switch(s){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||tr(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&tr(t,""+l);break;case"className":In(t,"class",l);break;case"tabIndex":In(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":In(t,s,l);break;case"style":rl(t,l,d);break;case"data":if(i!=="object"){In(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Bs(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(i!=="input"&&vt(t,i,"name",h.name,h,null),vt(t,i,"formEncType",h.formEncType,h,null),vt(t,i,"formMethod",h.formMethod,h,null),vt(t,i,"formTarget",h.formTarget,h,null)):(vt(t,i,"encType",h.encType,h,null),vt(t,i,"method",h.method,h,null),vt(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Bs(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=qc);break;case"onScroll":l!=null&&Xe("scroll",t);break;case"onScrollEnd":l!=null&&Xe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=Bs(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Xe("beforetoggle",t),Xe("toggle",t),zn(t,"popover",l);break;case"xlinkActuate":Me(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Me(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Me(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Me(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Me(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Me(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Me(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Me(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Me(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":zn(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=bf.get(s)||s,zn(t,s,l))}}function nm(t,i,s,l,h,d){switch(s){case"style":rl(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?tr(t,l):(typeof l=="number"||typeof l=="bigint")&&tr(t,""+l);break;case"onScroll":l!=null&&Xe("scroll",t);break;case"onScrollEnd":l!=null&&Xe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=qc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!On.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),i=s.slice(2,h?s.length-7:void 0),d=t[le]||null,d=d!=null?d[s]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(i,l,h);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):zn(t,s,l)}}}function cn(t,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xe("error",t),Xe("load",t);var l=!1,h=!1,d;for(d in s)if(s.hasOwnProperty(d)){var E=s[d];if(E!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:vt(t,i,d,E,s,null)}}h&&vt(t,i,"srcSet",s.srcSet,s,null),l&&vt(t,i,"src",s.src,s,null);return;case"input":Xe("invalid",t);var T=d=E=h=null,C=null,F=null;for(l in s)if(s.hasOwnProperty(l)){var Z=s[l];if(Z!=null)switch(l){case"name":h=Z;break;case"type":E=Z;break;case"checked":C=Z;break;case"defaultChecked":F=Z;break;case"value":d=Z;break;case"defaultValue":T=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(a(137,i));break;default:vt(t,i,l,Z,s,null)}}Qa(t,d,T,C,F,E,h,!1),zs(t);return;case"select":Xe("invalid",t),l=E=d=null;for(h in s)if(s.hasOwnProperty(h)&&(T=s[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":E=T;break;case"multiple":l=T;default:vt(t,i,h,T,s,null)}i=d,s=E,t.multiple=!!l,i!=null?ci(t,!!l,i,!1):s!=null&&ci(t,!!l,s,!0);return;case"textarea":Xe("invalid",t),d=h=l=null;for(E in s)if(s.hasOwnProperty(E)&&(T=s[E],T!=null))switch(E){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:vt(t,i,E,T,s,null)}Ya(t,l,h,d),zs(t);return;case"option":for(C in s)if(s.hasOwnProperty(C)&&(l=s[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:vt(t,i,C,l,s,null)}return;case"dialog":Xe("beforetoggle",t),Xe("toggle",t),Xe("cancel",t),Xe("close",t);break;case"iframe":case"object":Xe("load",t);break;case"video":case"audio":for(l=0;l<jl.length;l++)Xe(jl[l],t);break;case"image":Xe("error",t),Xe("load",t);break;case"details":Xe("toggle",t);break;case"embed":case"source":case"link":Xe("error",t),Xe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in s)if(s.hasOwnProperty(F)&&(l=s[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:vt(t,i,F,l,s,null)}return;default:if(il(i)){for(Z in s)s.hasOwnProperty(Z)&&(l=s[Z],l!==void 0&&nm(t,i,Z,l,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(l=s[T],l!=null&&vt(t,i,T,l,s,null))}function qA(t,i,s,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,E=null,T=null,C=null,F=null,Z=null;for($ in s){var re=s[$];if(s.hasOwnProperty($)&&re!=null)switch($){case"checked":break;case"value":break;case"defaultValue":C=re;default:l.hasOwnProperty($)||vt(t,i,$,null,l,re)}}for(var Q in l){var $=l[Q];if(re=s[Q],l.hasOwnProperty(Q)&&($!=null||re!=null))switch(Q){case"type":d=$;break;case"name":h=$;break;case"checked":F=$;break;case"defaultChecked":Z=$;break;case"value":E=$;break;case"defaultValue":T=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(a(137,i));break;default:$!==re&&vt(t,i,Q,$,l,re)}}Bn(t,E,T,C,F,Z,d,h);return;case"select":$=E=T=Q=null;for(d in s)if(C=s[d],s.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":$=C;default:l.hasOwnProperty(d)||vt(t,i,d,null,l,C)}for(h in l)if(d=l[h],C=s[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":Q=d;break;case"defaultValue":T=d;break;case"multiple":E=d;default:d!==C&&vt(t,i,h,d,l,C)}i=T,s=E,l=$,Q!=null?ci(t,!!s,Q,!1):!!l!=!!s&&(i!=null?ci(t,!!s,i,!0):ci(t,!!s,s?[]:"",!1));return;case"textarea":$=Q=null;for(T in s)if(h=s[T],s.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:vt(t,i,T,null,l,h)}for(E in l)if(h=l[E],d=s[E],l.hasOwnProperty(E)&&(h!=null||d!=null))switch(E){case"value":Q=h;break;case"defaultValue":$=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==d&&vt(t,i,E,h,l,d)}yt(t,Q,$);return;case"option":for(var Le in s)if(Q=s[Le],s.hasOwnProperty(Le)&&Q!=null&&!l.hasOwnProperty(Le))switch(Le){case"selected":t.selected=!1;break;default:vt(t,i,Le,null,l,Q)}for(C in l)if(Q=l[C],$=s[C],l.hasOwnProperty(C)&&Q!==$&&(Q!=null||$!=null))switch(C){case"selected":t.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:vt(t,i,C,Q,l,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Oe in s)Q=s[Oe],s.hasOwnProperty(Oe)&&Q!=null&&!l.hasOwnProperty(Oe)&&vt(t,i,Oe,null,l,Q);for(F in l)if(Q=l[F],$=s[F],l.hasOwnProperty(F)&&Q!==$&&(Q!=null||$!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,i));break;default:vt(t,i,F,Q,l,$)}return;default:if(il(i)){for(var Et in s)Q=s[Et],s.hasOwnProperty(Et)&&Q!==void 0&&!l.hasOwnProperty(Et)&&nm(t,i,Et,void 0,l,Q);for(Z in l)Q=l[Z],$=s[Z],!l.hasOwnProperty(Z)||Q===$||Q===void 0&&$===void 0||nm(t,i,Z,Q,l,$);return}}for(var k in s)Q=s[k],s.hasOwnProperty(k)&&Q!=null&&!l.hasOwnProperty(k)&&vt(t,i,k,null,l,Q);for(re in l)Q=l[re],$=s[re],!l.hasOwnProperty(re)||Q===$||Q==null&&$==null||vt(t,i,re,Q,l,$)}var rm=null,im=null;function Fc(t){return t.nodeType===9?t:t.ownerDocument}function cv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function hv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function am(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var sm=null;function FA(){var t=window.event;return t&&t.type==="popstate"?t===sm?!1:(sm=t,!0):(sm=null,!1)}var fv=typeof setTimeout=="function"?setTimeout:void 0,GA=typeof clearTimeout=="function"?clearTimeout:void 0,dv=typeof Promise=="function"?Promise:void 0,KA=typeof queueMicrotask=="function"?queueMicrotask:typeof dv<"u"?function(t){return dv.resolve(null).then(t).catch(QA)}:fv;function QA(t){setTimeout(function(){throw t})}function ca(t){return t==="head"}function mv(t,i){var s=i,l=0,h=0;do{var d=s.nextSibling;if(t.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"){if(0<l&&8>l){s=l;var E=t.ownerDocument;if(s&1&&ql(E.documentElement),s&2&&ql(E.body),s&4)for(s=E.head,ql(s),E=s.firstChild;E;){var T=E.nextSibling,C=E.nodeName;E[we]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&E.rel.toLowerCase()==="stylesheet"||s.removeChild(E),E=T}}if(h===0){t.removeChild(d),Wl(i);return}h--}else s==="$"||s==="$?"||s==="$!"?h++:l=s.charCodeAt(0)-48;else l=0;s=d}while(s);Wl(i)}function om(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":om(s),ve(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function YA(t,i,s,l){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[we])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Ar(t.nextSibling),t===null)break}return null}function $A(t,i,s){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Ar(t.nextSibling),t===null))return null;return t}function lm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function XA(t,i){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")i();else{var l=function(){i(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Ar(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var um=null;function pv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return t;i--}else s==="/$"&&i++}t=t.previousSibling}return null}function gv(t,i,s){switch(i=Fc(s),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function ql(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ve(t)}var hr=new Map,yv=new Set;function Gc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Di=ce.d;ce.d={f:WA,r:ZA,D:JA,C:eb,L:tb,m:nb,X:ib,S:rb,M:ab};function WA(){var t=Di.f(),i=Lc();return t||i}function ZA(t){var i=tt(t);i!==null&&i.tag===5&&i.type==="form"?ky(i):Di.r(t)}var To=typeof document>"u"?null:document;function _v(t,i,s){var l=To;if(l&&typeof i=="string"&&i){var h=Bt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),yv.has(h)||(yv.add(h),t={rel:t,crossOrigin:s,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),cn(i,"link",t),ke(i),l.head.appendChild(i)))}}function JA(t){Di.D(t),_v("dns-prefetch",t,null)}function eb(t,i){Di.C(t,i),_v("preconnect",t,i)}function tb(t,i,s){Di.L(t,i,s);var l=To;if(l&&t&&i){var h='link[rel="preload"][as="'+Bt(i)+'"]';i==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+Bt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+Bt(s.imageSizes)+'"]')):h+='[href="'+Bt(t)+'"]';var d=h;switch(i){case"style":d=So(t);break;case"script":d=wo(t)}hr.has(d)||(t=v({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:t,as:i},s),hr.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Fl(d))||i==="script"&&l.querySelector(Gl(d))||(i=l.createElement("link"),cn(i,"link",t),ke(i),l.head.appendChild(i)))}}function nb(t,i){Di.m(t,i);var s=To;if(s&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Bt(l)+'"][href="'+Bt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=wo(t)}if(!hr.has(d)&&(t=v({rel:"modulepreload",href:t},i),hr.set(d,t),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Gl(d)))return}l=s.createElement("link"),cn(l,"link",t),ke(l),s.head.appendChild(l)}}}function rb(t,i,s){Di.S(t,i,s);var l=To;if(l&&t){var h=lt(l).hoistableStyles,d=So(t);i=i||"default";var E=h.get(d);if(!E){var T={loading:0,preload:null};if(E=l.querySelector(Fl(d)))T.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":i},s),(s=hr.get(d))&&cm(t,s);var C=E=l.createElement("link");ke(C),cn(C,"link",t),C._p=new Promise(function(F,Z){C.onload=F,C.onerror=Z}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Kc(E,i,l)}E={type:"stylesheet",instance:E,count:1,state:T},h.set(d,E)}}}function ib(t,i){Di.X(t,i);var s=To;if(s&&t){var l=lt(s).hoistableScripts,h=wo(t),d=l.get(h);d||(d=s.querySelector(Gl(h)),d||(t=v({src:t,async:!0},i),(i=hr.get(h))&&hm(t,i),d=s.createElement("script"),ke(d),cn(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function ab(t,i){Di.M(t,i);var s=To;if(s&&t){var l=lt(s).hoistableScripts,h=wo(t),d=l.get(h);d||(d=s.querySelector(Gl(h)),d||(t=v({src:t,async:!0,type:"module"},i),(i=hr.get(h))&&hm(t,i),d=s.createElement("script"),ke(d),cn(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function vv(t,i,s,l){var h=(h=Ne.current)?Gc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=So(s.href),s=lt(h).hoistableStyles,l=s.get(i),l||(l={type:"style",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=So(s.href);var d=lt(h).hoistableStyles,E=d.get(t);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,E),(d=h.querySelector(Fl(t)))&&!d._p&&(E.instance=d,E.state.loading=5),hr.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},hr.set(t,s),d||sb(h,t,s,E.state))),i&&l===null)throw Error(a(528,""));return E}if(i&&l!==null)throw Error(a(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=wo(s),s=lt(h).hoistableScripts,l=s.get(i),l||(l={type:"script",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function So(t){return'href="'+Bt(t)+'"'}function Fl(t){return'link[rel="stylesheet"]['+t+"]"}function Ev(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function sb(t,i,s,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),cn(i,"link",s),ke(i),t.head.appendChild(i))}function wo(t){return'[src="'+Bt(t)+'"]'}function Gl(t){return"script[async]"+t}function Tv(t,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+Bt(s.href)+'"]');if(l)return i.instance=l,ke(l),l;var h=v({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ke(l),cn(l,"style",h),Kc(l,s.precedence,t),i.instance=l;case"stylesheet":h=So(s.href);var d=t.querySelector(Fl(h));if(d)return i.state.loading|=4,i.instance=d,ke(d),d;l=Ev(s),(h=hr.get(h))&&cm(l,h),d=(t.ownerDocument||t).createElement("link"),ke(d);var E=d;return E._p=new Promise(function(T,C){E.onload=T,E.onerror=C}),cn(d,"link",l),i.state.loading|=4,Kc(d,s.precedence,t),i.instance=d;case"script":return d=wo(s.src),(h=t.querySelector(Gl(d)))?(i.instance=h,ke(h),h):(l=s,(h=hr.get(d))&&(l=v({},s),hm(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),ke(h),cn(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Kc(l,s.precedence,t));return i.instance}function Kc(t,i,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,E=0;E<l.length;E++){var T=l[E];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(t,i.firstChild))}function cm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function hm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Qc=null;function Sv(t,i,s){if(Qc===null){var l=new Map,h=Qc=new Map;h.set(s,l)}else h=Qc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var d=s[h];if(!(d[we]||d[ie]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(i)||"";E=t+E;var T=l.get(E);T?T.push(d):l.set(E,[d])}}return l}function wv(t,i,s){t=t.ownerDocument||t,t.head.insertBefore(s,i==="title"?t.querySelector("head > title"):null)}function ob(t,i,s){if(s===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Av(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Kl=null;function lb(){}function ub(t,i,s){if(Kl===null)throw Error(a(475));var l=Kl;if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=So(s.href),d=t.querySelector(Fl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Yc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,ke(d);return}d=t.ownerDocument||t,s=Ev(s),(h=hr.get(h))&&cm(s,h),d=d.createElement("link"),ke(d);var E=d;E._p=new Promise(function(T,C){E.onload=T,E.onerror=C}),cn(d,"link",s),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Yc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function cb(){if(Kl===null)throw Error(a(475));var t=Kl;return t.stylesheets&&t.count===0&&fm(t,t.stylesheets),0<t.count?function(i){var s=setTimeout(function(){if(t.stylesheets&&fm(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(s)}}:null}function Yc(){if(this.count--,this.count===0){if(this.stylesheets)fm(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var $c=null;function fm(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,$c=new Map,i.forEach(hb,t),$c=null,Yc.call(t))}function hb(t,i){if(!(i.state.loading&4)){var s=$c.get(t);if(s)var l=s.get(null);else{s=new Map,$c.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var E=h[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(s.set(E.dataset.precedence,E),l=E)}l&&s.set(null,l)}h=i.instance,E=h.getAttribute("data-precedence"),d=s.get(E)||l,d===l&&s.set(null,h),s.set(E,h),this.count++,l=Yc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Ql={$$typeof:ue,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function fb(t,i,s,l,h,d,E,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Jn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jn(0),this.hiddenUpdates=Jn(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function bv(t,i,s,l,h,d,E,T,C,F,Z,re){return t=new fb(t,i,s,E,T,C,F,re),i=1,d===!0&&(i|=24),d=Hn(3,null,null,i),t.current=d,d.stateNode=t,i=Qf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:s,cache:i},Wf(d),t}function Rv(t){return t?(t=Js,t):Js}function Iv(t,i,s,l,h,d){h=Rv(h),l.context===null?l.context=h:l.pendingContext=h,l=Wi(i),l.payload={element:s},d=d===void 0?null:d,d!==null&&(l.callback=d),s=Zi(t,l,i),s!==null&&(Qn(s,t,i),wl(s,t,i))}function Cv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<i?s:i}}function dm(t,i){Cv(t,i),(t=t.alternate)&&Cv(t,i)}function Dv(t){if(t.tag===13){var i=Zs(t,67108864);i!==null&&Qn(i,t,67108864),dm(t,67108864)}}var Xc=!0;function db(t,i,s,l){var h=K.T;K.T=null;var d=ce.p;try{ce.p=2,mm(t,i,s,l)}finally{ce.p=d,K.T=h}}function mb(t,i,s,l){var h=K.T;K.T=null;var d=ce.p;try{ce.p=8,mm(t,i,s,l)}finally{ce.p=d,K.T=h}}function mm(t,i,s,l){if(Xc){var h=pm(l);if(h===null)tm(t,i,l,Wc,s),Ov(t,l);else if(gb(h,t,i,s,l))l.stopPropagation();else if(Ov(t,l),i&4&&-1<pb.indexOf(t)){for(;h!==null;){var d=tt(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=kn(d.pendingLanes);if(E!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;E;){var C=1<<31-zt(E);T.entanglements[1]|=C,E&=~C}$r(d),(mt&6)===0&&(Vc=An()+500,Bl(0))}}break;case 13:T=Zs(d,2),T!==null&&Qn(T,d,2),Lc(),dm(d,2)}if(d=pm(l),d===null&&tm(t,i,l,Wc,s),d===h)break;h=d}h!==null&&l.stopPropagation()}else tm(t,i,l,null,s)}}function pm(t){return t=nr(t),gm(t)}var Wc=null;function gm(t){if(Wc=null,t=He(t),t!==null){var i=u(t);if(i===null)t=null;else{var s=i.tag;if(s===13){if(t=f(i),t!==null)return t;t=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Wc=t,null}function Nv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(el()){case Fa:return 2;case Ui:return 8;case oi:case yr:return 32;case Xn:return 268435456;default:return 32}default:return 32}}var ym=!1,ha=null,fa=null,da=null,Yl=new Map,$l=new Map,ma=[],pb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ov(t,i){switch(t){case"focusin":case"focusout":ha=null;break;case"dragenter":case"dragleave":fa=null;break;case"mouseover":case"mouseout":da=null;break;case"pointerover":case"pointerout":Yl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":$l.delete(i.pointerId)}}function Xl(t,i,s,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=tt(i),i!==null&&Dv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function gb(t,i,s,l,h){switch(i){case"focusin":return ha=Xl(ha,t,i,s,l,h),!0;case"dragenter":return fa=Xl(fa,t,i,s,l,h),!0;case"mouseover":return da=Xl(da,t,i,s,l,h),!0;case"pointerover":var d=h.pointerId;return Yl.set(d,Xl(Yl.get(d)||null,t,i,s,l,h)),!0;case"gotpointercapture":return d=h.pointerId,$l.set(d,Xl($l.get(d)||null,t,i,s,l,h)),!0}return!1}function Mv(t){var i=He(t.target);if(i!==null){var s=u(i);if(s!==null){if(i=s.tag,i===13){if(i=f(s),i!==null){t.blockedOn=i,z(t.priority,function(){if(s.tag===13){var l=Kn();l=kr(l);var h=Zs(s,l);h!==null&&Qn(h,s,l),dm(s,l)}});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Zc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var s=pm(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);hi=l,s.target.dispatchEvent(l),hi=null}else return i=tt(s),i!==null&&Dv(i),t.blockedOn=s,!1;i.shift()}return!0}function xv(t,i,s){Zc(t)&&s.delete(i)}function yb(){ym=!1,ha!==null&&Zc(ha)&&(ha=null),fa!==null&&Zc(fa)&&(fa=null),da!==null&&Zc(da)&&(da=null),Yl.forEach(xv),$l.forEach(xv)}function Jc(t,i){t.blockedOn===i&&(t.blockedOn=null,ym||(ym=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,yb)))}var eh=null;function Vv(t){eh!==t&&(eh=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){eh===t&&(eh=null);for(var i=0;i<t.length;i+=3){var s=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(gm(l||s)===null)continue;break}var d=tt(s);d!==null&&(t.splice(i,3),i-=3,gd(d,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function Wl(t){function i(C){return Jc(C,t)}ha!==null&&Jc(ha,t),fa!==null&&Jc(fa,t),da!==null&&Jc(da,t),Yl.forEach(i),$l.forEach(i);for(var s=0;s<ma.length;s++){var l=ma[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ma.length&&(s=ma[0],s.blockedOn===null);)Mv(s),s.blockedOn===null&&ma.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],d=s[l+1],E=h[le]||null;if(typeof d=="function")E||Vv(s);else if(E){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,E=d[le]||null)T=E.formAction;else if(gm(h)!==null)continue}else T=E.action;typeof T=="function"?s[l+1]=T:(s.splice(l,3),l-=3),Vv(s)}}}function _m(t){this._internalRoot=t}th.prototype.render=_m.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var s=i.current,l=Kn();Iv(s,l,t,i,null,null)},th.prototype.unmount=_m.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Iv(t.current,2,null,t,null,null),Lc(),i[ye]=null}};function th(t){this._internalRoot=t}th.prototype.unstable_scheduleHydration=function(t){if(t){var i=N();t={blockedOn:null,target:t,priority:i};for(var s=0;s<ma.length&&i!==0&&i<ma[s].priority;s++);ma.splice(s,0,t),s===0&&Mv(t)}};var Pv=e.version;if(Pv!=="19.1.0")throw Error(a(527,Pv,"19.1.0"));ce.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=p(i),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var _b={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nh.isDisabled&&nh.supportsFiber)try{ot=nh.inject(_b),Ge=nh}catch{}}return Jl.createRoot=function(t,i){if(!o(t))throw Error(a(299));var s=!1,l="",h=Wy,d=Zy,E=Jy,T=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=bv(t,1,!1,null,null,s,l,h,d,E,T,null),t[ye]=i.current,em(t),new _m(i)},Jl.hydrateRoot=function(t,i,s){if(!o(t))throw Error(a(299));var l=!1,h="",d=Wy,E=Zy,T=Jy,C=null,F=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(E=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(C=s.unstable_transitionCallbacks),s.formState!==void 0&&(F=s.formState)),i=bv(t,1,!0,i,s??null,l,h,d,E,T,C,F),i.context=Rv(null),s=i.current,l=Kn(),l=kr(l),h=Wi(l),h.callback=null,Zi(s,h,l),s=l,i.current.lanes=s,_r(i,s),$r(i),t[ye]=i.current,em(t),new th(i)},Jl.version="19.1.0",Jl}var Gv;function Cb(){if(Gv)return Tm.exports;Gv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Tm.exports=Ib(),Tm.exports}var Db=Cb();/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var $T=r=>{throw TypeError(r)},Nb=(r,e,n)=>e.has(r)||$T("Cannot "+n),bm=(r,e,n)=>(Nb(r,e,"read from private field"),n?n.call(r):e.get(r)),Ob=(r,e,n)=>e.has(r)?$T("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,n),Kv="popstate";function Mb(r={}){function e(a,o){let{pathname:u,search:f,hash:m}=a.location;return gu("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){return typeof o=="string"?o:Oa(o)}return Vb(e,n,null,r)}function Ye(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function kt(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function xb(){return Math.random().toString(36).substring(2,10)}function Qv(r,e){return{usr:r.state,key:r.key,idx:e}}function gu(r,e,n=null,a){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?za(e):e,state:n,key:e&&e.key||a||xb()}}function Oa({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function za(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let a=r.indexOf("?");a>=0&&(e.search=r.substring(a),r=r.substring(0,a)),r&&(e.pathname=r)}return e}function Vb(r,e,n,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,f=o.history,m="POP",p=null,g=v();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function v(){return(f.state||{idx:null}).idx}function S(){m="POP";let q=v(),J=q==null?null:q-g;g=q,p&&p({action:m,location:W.location,delta:J})}function w(q,J){m="PUSH";let se=gu(W.location,q,J);g=v()+1;let ue=Qv(se,g),Ce=W.createHref(se);try{f.pushState(ue,"",Ce)}catch(me){if(me instanceof DOMException&&me.name==="DataCloneError")throw me;o.location.assign(Ce)}u&&p&&p({action:m,location:W.location,delta:1})}function D(q,J){m="REPLACE";let se=gu(W.location,q,J);g=v();let ue=Qv(se,g),Ce=W.createHref(se);f.replaceState(ue,"",Ce),u&&p&&p({action:m,location:W.location,delta:0})}function U(q){return XT(q)}let W={get action(){return m},get location(){return r(o,f)},listen(q){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Kv,S),p=q,()=>{o.removeEventListener(Kv,S),p=null}},createHref(q){return e(o,q)},createURL:U,encodeLocation(q){let J=U(q);return{pathname:J.pathname,search:J.search,hash:J.hash}},push:w,replace:D,go(q){return f.go(q)}};return W}function XT(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ye(n,"No window.location.(origin|href) available to create URL");let a=typeof r=="string"?r:Oa(r);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=n+a),new URL(a,n)}var ru,Yv=class{constructor(r){if(Ob(this,ru,new Map),r)for(let[e,n]of r)this.set(e,n)}get(r){if(bm(this,ru).has(r))return bm(this,ru).get(r);if(r.defaultValue!==void 0)return r.defaultValue;throw new Error("No value found for context")}set(r,e){bm(this,ru).set(r,e)}};ru=new WeakMap;var Pb=new Set(["lazy","caseSensitive","path","id","index","children"]);function Lb(r){return Pb.has(r)}var kb=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function Ub(r){return kb.has(r)}function zb(r){return r.index===!0}function yu(r,e,n=[],a={},o=!1){return r.map((u,f)=>{let m=[...n,String(f)],p=typeof u.id=="string"?u.id:m.join("-");if(Ye(u.index!==!0||!u.children,"Cannot specify children on an index route"),Ye(o||!a[p],`Found a route id collision on id "${p}".  Route id's must be globally unique within Data Router usages`),zb(u)){let g={...u,...e(u),id:p};return a[p]=g,g}else{let g={...u,...e(u),id:p,children:void 0};return a[p]=g,u.children&&(g.children=yu(u.children,e,m,a,o)),g}})}function _a(r,e,n="/"){return fh(r,e,n,!1)}function fh(r,e,n,a){let o=typeof e=="string"?za(e):e,u=gr(o.pathname||"/",n);if(u==null)return null;let f=WT(r);jb(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=Zb(u);m=Xb(f[p],g,a)}return m}function Bb(r,e){let{route:n,pathname:a,params:o}=r;return{id:n.id,pathname:a,params:o,data:e[n.id],loaderData:e[n.id],handle:n.handle}}function WT(r,e=[],n=[],a="",o=!1){let u=(f,m,p=o,g)=>{let v={relativePath:g===void 0?f.path||"":g,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(a)&&p)return;Ye(v.relativePath.startsWith(a),`Absolute route path "${v.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(a.length)}let S=Wr([a,v.relativePath]),w=n.concat(v);f.children&&f.children.length>0&&(Ye(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),WT(f.children,e,w,S,p)),!(f.path==null&&!f.index)&&e.push({path:S,score:Yb(S,f.index),routesMeta:w})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let p of ZT(f.path))u(f,m,!0,p)}),e}function ZT(r){let e=r.split("/");if(e.length===0)return[];let[n,...a]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let f=ZT(a.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function jb(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:$b(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var Hb=/^:[\w-]+$/,qb=3,Fb=2,Gb=1,Kb=10,Qb=-2,$v=r=>r==="*";function Yb(r,e){let n=r.split("/"),a=n.length;return n.some($v)&&(a+=Qb),e&&(a+=Fb),n.filter(o=>!$v(o)).reduce((o,u)=>o+(Hb.test(u)?qb:u===""?Gb:Kb),a)}function $b(r,e){return r.length===e.length&&r.slice(0,-1).every((a,o)=>a===e[o])?r[r.length-1]-e[e.length-1]:0}function Xb(r,e,n=!1){let{routesMeta:a}=r,o={},u="/",f=[];for(let m=0;m<a.length;++m){let p=a[m],g=m===a.length-1,v=u==="/"?e:e.slice(u.length)||"/",S=Rh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),w=p.route;if(!S&&g&&n&&!a[a.length-1].route.index&&(S=Rh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!S)return null;Object.assign(o,S.params),f.push({params:o,pathname:Wr([u,S.pathname]),pathnameBase:n1(Wr([u,S.pathnameBase])),route:w}),S.pathnameBase!=="/"&&(u=Wr([u,S.pathnameBase]))}return f}function Rh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,a]=Wb(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:a.reduce((g,{paramName:v,isOptional:S},w)=>{if(v==="*"){let U=m[w]||"";f=u.slice(0,u.length-U.length).replace(/(.)\/+$/,"$1")}const D=m[w];return S&&!D?g[v]=void 0:g[v]=(D||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function Wb(r,e=!1,n=!0){kt(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let a=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(a.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(a.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function Zb(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return kt(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function gr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=r.charAt(n);return a&&a!=="/"?null:r.slice(n)||"/"}function Jb({basename:r,pathname:e}){return e==="/"?r:Wr([r,e])}function e1(r,e="/"){let{pathname:n,search:a="",hash:o=""}=typeof r=="string"?za(r):r;return{pathname:n?n.startsWith("/")?n:t1(n,e):e,search:r1(a),hash:i1(o)}}function t1(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Rm(r,e,n,a){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function JT(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Wh(r){let e=JT(r);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function Zh(r,e,n,a=!1){let o;typeof r=="string"?o=za(r):(o={...r},Ye(!o.pathname||!o.pathname.includes("?"),Rm("?","pathname","search",o)),Ye(!o.pathname||!o.pathname.includes("#"),Rm("#","pathname","hash",o)),Ye(!o.search||!o.search.includes("#"),Rm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let S=e.length-1;if(!a&&f.startsWith("..")){let w=f.split("/");for(;w[0]==="..";)w.shift(),S-=1;o.pathname=w.join("/")}m=S>=0?e[S]:"/"}let p=e1(o,m),g=f&&f!=="/"&&f.endsWith("/"),v=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var Wr=r=>r.join("/").replace(/\/\/+/g,"/"),n1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),r1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,i1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,Ih=class{constructor(r,e,n,a=!1){this.status=r,this.statusText=e||"",this.internal=a,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function _u(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var e0=["POST","PUT","PATCH","DELETE"],a1=new Set(e0),s1=["GET",...e0],o1=new Set(s1),l1=new Set([301,302,303,307,308]),u1=new Set([307,308]),Im={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},c1={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},eu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},h1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vp=r=>h1.test(r),f1=r=>({hasErrorBoundary:!!r.hasErrorBoundary}),t0="remix-router-transitions",n0=Symbol("ResetLoaderData");function d1(r){const e=r.window?r.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Ye(r.routes.length>0,"You must provide a non-empty routes array to createRouter");let a=r.hydrationRouteProperties||[],o=r.mapRouteProperties||f1,u={},f=yu(r.routes,o,void 0,u),m,p=r.basename||"/";p.startsWith("/")||(p=`/${p}`);let g=r.dataStrategy||_1,v={...r.future},S=null,w=new Set,D=null,U=null,W=null,q=r.hydrationData!=null,J=_a(f,r.history.location,p),se=!1,ue=null,Ce;if(J==null&&!r.patchRoutesOnNavigation){let N=fr(404,{pathname:r.history.location.pathname}),{matches:z,route:G}=rh(f);Ce=!0,J=z,ue={[G.id]:N}}else if(J&&!r.hydrationData&&bn(J,f,r.history.location.pathname).active&&(J=null),J)if(J.some(N=>N.route.lazy))Ce=!1;else if(!J.some(N=>N.route.loader))Ce=!0;else{let N=r.hydrationData?r.hydrationData.loaderData:null,z=r.hydrationData?r.hydrationData.errors:null;if(z){let G=J.findIndex(ie=>z[ie.route.id]!==void 0);Ce=J.slice(0,G+1).every(ie=>!qm(ie.route,N,z))}else Ce=J.every(G=>!qm(G.route,N,z))}else{Ce=!1,J=[];let N=bn(null,f,r.history.location.pathname);N.active&&N.matches&&(se=!0,J=N.matches)}let me,H={historyAction:r.history.action,location:r.history.location,matches:J,initialized:Ce,navigation:Im,restoreScrollPosition:r.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:r.hydrationData&&r.hydrationData.loaderData||{},actionData:r.hydrationData&&r.hydrationData.actionData||null,errors:r.hydrationData&&r.hydrationData.errors||ue,fetchers:new Map,blockers:new Map},M="POP",b=!1,R,x=!1,P=new Map,L=null,I=!1,qe=!1,et=new Set,K=new Map,ce=0,ge=-1,Be=new Map,O=new Set,ee=new Map,fe=new Map,oe=new Set,Ae=new Map,je,Ne=null;function Ut(){if(S=r.history.listen(({action:N,location:z,delta:G})=>{if(je){je(),je=void 0;return}kt(Ae.size===0||G!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ie=ji({currentLocation:H.location,nextLocation:z,historyAction:N});if(ie&&G!=null){let le=new Promise(ye=>{je=ye});r.history.go(G*-1),Zn(ie,{state:"blocked",location:z,proceed(){Zn(ie,{state:"proceeding",proceed:void 0,reset:void 0,location:z}),le.then(()=>r.history.go(G))},reset(){let ye=new Map(H.blockers);ye.set(ie,eu),bt({blockers:ye})}});return}return wn(N,z)}),n){x1(e,P);let N=()=>V1(e,P);e.addEventListener("pagehide",N),L=()=>e.removeEventListener("pagehide",N)}return H.initialized||wn("POP",H.location,{initialHydration:!0}),me}function gt(){S&&S(),L&&L(),w.clear(),R&&R.abort(),H.fetchers.forEach((N,z)=>zt(z)),H.blockers.forEach((N,z)=>li(z))}function $n(N){return w.add(N),()=>w.delete(N)}function bt(N,z={}){N.matches&&(N.matches=N.matches.map(le=>{let ye=u[le.route.id],be=le.route;return be.element!==ye.element||be.errorElement!==ye.errorElement||be.hydrateFallbackElement!==ye.hydrateFallbackElement?{...le,route:ye}:le})),H={...H,...N};let G=[],ie=[];H.fetchers.forEach((le,ye)=>{le.state==="idle"&&(oe.has(ye)?G.push(ye):ie.push(ye))}),oe.forEach(le=>{!H.fetchers.has(le)&&!K.has(le)&&G.push(le)}),[...w].forEach(le=>le(H,{deletedFetchers:G,viewTransitionOpts:z.viewTransitionOpts,flushSync:z.flushSync===!0})),G.forEach(le=>zt(le)),ie.forEach(le=>H.fetchers.delete(le))}function mn(N,z,{flushSync:G}={}){let ie=H.actionData!=null&&H.navigation.formMethod!=null&&Ln(H.navigation.formMethod)&&H.navigation.state==="loading"&&N.state?._isRedirect!==!0,le;z.actionData?Object.keys(z.actionData).length>0?le=z.actionData:le=null:ie?le=H.actionData:le=null;let ye=z.loaderData?aE(H.loaderData,z.loaderData,z.matches||[],z.errors):H.loaderData,be=H.blockers;be.size>0&&(be=new Map(be),be.forEach((we,ve)=>be.set(ve,eu)));let Te=I?!1:Hi(N,z.matches||H.matches),Se=b===!0||H.navigation.formMethod!=null&&Ln(H.navigation.formMethod)&&N.state?._isRedirect!==!0;m&&(f=m,m=void 0),I||M==="POP"||(M==="PUSH"?r.history.push(N,N.state):M==="REPLACE"&&r.history.replace(N,N.state));let De;if(M==="POP"){let we=P.get(H.location.pathname);we&&we.has(N.pathname)?De={currentLocation:H.location,nextLocation:N}:P.has(N.pathname)&&(De={currentLocation:N,nextLocation:H.location})}else if(x){let we=P.get(H.location.pathname);we?we.add(N.pathname):(we=new Set([N.pathname]),P.set(H.location.pathname,we)),De={currentLocation:H.location,nextLocation:N}}bt({...z,actionData:le,loaderData:ye,historyAction:M,location:N,initialized:!0,navigation:Im,revalidation:"idle",restoreScrollPosition:Te,preventScrollReset:Se,blockers:be},{viewTransitionOpts:De,flushSync:G===!0}),M="POP",b=!1,x=!1,I=!1,qe=!1,Ne?.resolve(),Ne=null}async function Mr(N,z){if(typeof N=="number"){r.history.go(N);return}let G=Hm(H.location,H.matches,p,N,z?.fromRouteId,z?.relative),{path:ie,submission:le,error:ye}=Xv(!1,G,z),be=H.location,Te=gu(H.location,ie,z&&z.state);Te={...Te,...r.history.encodeLocation(Te)};let Se=z&&z.replace!=null?z.replace:void 0,De="PUSH";Se===!0?De="REPLACE":Se===!1||le!=null&&Ln(le.formMethod)&&le.formAction===H.location.pathname+H.location.search&&(De="REPLACE");let we=z&&"preventScrollReset"in z?z.preventScrollReset===!0:void 0,ve=(z&&z.flushSync)===!0,He=ji({currentLocation:be,nextLocation:Te,historyAction:De});if(He){Zn(He,{state:"blocked",location:Te,proceed(){Zn(He,{state:"proceeding",proceed:void 0,reset:void 0,location:Te}),Mr(N,z)},reset(){let tt=new Map(H.blockers);tt.set(He,eu),bt({blockers:tt})}});return}await wn(De,Te,{submission:le,pendingError:ye,preventScrollReset:we,replace:z&&z.replace,enableViewTransition:z&&z.viewTransition,flushSync:ve})}function si(){Ne||(Ne=P1()),Bi(),bt({revalidation:"loading"});let N=Ne.promise;return H.navigation.state==="submitting"?N:H.navigation.state==="idle"?(wn(H.historyAction,H.location,{startUninterruptedRevalidation:!0}),N):(wn(M||H.historyAction,H.navigation.location,{overrideNavigation:H.navigation,enableViewTransition:x===!0}),N)}async function wn(N,z,G){R&&R.abort(),R=null,M=N,I=(G&&G.startUninterruptedRevalidation)===!0,_r(H.location,H.matches),b=(G&&G.preventScrollReset)===!0,x=(G&&G.enableViewTransition)===!0;let ie=m||f,le=G&&G.overrideNavigation,ye=G?.initialHydration&&H.matches&&H.matches.length>0&&!se?H.matches:_a(ie,z,p),be=(G&&G.flushSync)===!0;if(ye&&H.initialized&&!qe&&R1(H.location,z)&&!(G&&G.submission&&Ln(G.submission.formMethod))){mn(z,{matches:ye},{flushSync:be});return}let Te=bn(ye,ie,z.pathname);if(Te.active&&Te.matches&&(ye=Te.matches),!ye){let{error:lt,notFoundMatches:ke,route:ut}=ui(z.pathname);mn(z,{matches:ke,loaderData:{},errors:{[ut.id]:lt}},{flushSync:be});return}R=new AbortController;let Se=Ao(r.history,z,R.signal,G&&G.submission),De=r.unstable_getContext?await r.unstable_getContext():new Yv,we;if(G&&G.pendingError)we=[va(ye).route.id,{type:"error",error:G.pendingError}];else if(G&&G.submission&&Ln(G.submission.formMethod)){let lt=await qa(Se,z,G.submission,ye,De,Te.active,G&&G.initialHydration===!0,{replace:G.replace,flushSync:be});if(lt.shortCircuited)return;if(lt.pendingActionResult){let[ke,ut]=lt.pendingActionResult;if(Yn(ut)&&_u(ut.error)&&ut.error.status===404){R=null,mn(z,{matches:lt.matches,loaderData:{},errors:{[ke]:ut.error}});return}}ye=lt.matches||ye,we=lt.pendingActionResult,le=Cm(z,G.submission),be=!1,Te.active=!1,Se=Ao(r.history,Se.url,Se.signal)}let{shortCircuited:ve,matches:He,loaderData:tt,errors:dt}=await ks(Se,z,ye,De,Te.active,le,G&&G.submission,G&&G.fetcherSubmission,G&&G.replace,G&&G.initialHydration===!0,be,we);ve||(R=null,mn(z,{matches:He||ye,...sE(we),loaderData:tt,errors:dt}))}async function qa(N,z,G,ie,le,ye,be,Te={}){Bi();let Se=O1(z,G);if(bt({navigation:Se},{flushSync:Te.flushSync===!0}),ye){let ve=await Lr(ie,z.pathname,N.signal);if(ve.type==="aborted")return{shortCircuited:!0};if(ve.type==="error"){if(ve.partialMatches.length===0){let{matches:tt,route:dt}=rh(f);return{matches:tt,pendingActionResult:[dt.id,{type:"error",error:ve.error}]}}let He=va(ve.partialMatches).route.id;return{matches:ve.partialMatches,pendingActionResult:[He,{type:"error",error:ve.error}]}}else if(ve.matches)ie=ve.matches;else{let{notFoundMatches:He,error:tt,route:dt}=ui(z.pathname);return{matches:He,pendingActionResult:[dt.id,{type:"error",error:tt}]}}}let De,we=dh(ie,z);if(!we.route.action&&!we.route.lazy)De={type:"error",error:fr(405,{method:N.method,pathname:z.pathname,routeId:we.route.id})};else{let ve=No(o,u,N,ie,we,be?[]:a,le),He=await Xn(N,ve,le,null);if(De=He[we.route.id],!De){for(let tt of ie)if(He[tt.route.id]){De=He[tt.route.id];break}}if(N.signal.aborted)return{shortCircuited:!0}}if(vs(De)){let ve;return Te&&Te.replace!=null?ve=Te.replace:ve=nE(De.response.headers.get("Location"),new URL(N.url),p)===H.location.pathname+H.location.search,await yr(N,De,!0,{submission:G,replace:ve}),{shortCircuited:!0}}if(Yn(De)){let ve=va(ie,we.route.id);return(Te&&Te.replace)!==!0&&(M="PUSH"),{matches:ie,pendingActionResult:[ve.route.id,De,we.route.id]}}return{matches:ie,pendingActionResult:[we.route.id,De]}}async function ks(N,z,G,ie,le,ye,be,Te,Se,De,we,ve){let He=ye||Cm(z,be),tt=be||Te||lE(He),dt=!I&&!De;if(le){if(dt){let It=An(ve);bt({navigation:He,...It!==void 0?{actionData:It}:{}},{flushSync:we})}let Me=await Lr(G,z.pathname,N.signal);if(Me.type==="aborted")return{shortCircuited:!0};if(Me.type==="error"){if(Me.partialMatches.length===0){let{matches:vr,route:sn}=rh(f);return{matches:vr,loaderData:{},errors:{[sn.id]:Me.error}}}let It=va(Me.partialMatches).route.id;return{matches:Me.partialMatches,loaderData:{},errors:{[It]:Me.error}}}else if(Me.matches)G=Me.matches;else{let{error:It,notFoundMatches:vr,route:sn}=ui(z.pathname);return{matches:vr,loaderData:{},errors:{[sn.id]:It}}}}let lt=m||f,{dsMatches:ke,revalidatingFetchers:ut}=Wv(N,ie,o,u,r.history,H,G,tt,z,De?[]:a,De===!0,qe,et,oe,ee,O,lt,p,r.patchRoutesOnNavigation!=null,ve);if(ge=++ce,!r.dataStrategy&&!ke.some(Me=>Me.shouldLoad)&&!ke.some(Me=>Me.route.unstable_middleware)&&ut.length===0){let Me=Vr();return mn(z,{matches:G,loaderData:{},errors:ve&&Yn(ve[1])?{[ve[0]]:ve[1].error}:null,...sE(ve),...Me?{fetchers:new Map(H.fetchers)}:{}},{flushSync:we}),{shortCircuited:!0}}if(dt){let Me={};if(!le){Me.navigation=He;let It=An(ve);It!==void 0&&(Me.actionData=It)}ut.length>0&&(Me.fetchers=el(ut)),bt(Me,{flushSync:we})}ut.forEach(Me=>{Wn(Me.key),Me.controller&&K.set(Me.key,Me.controller)});let On=()=>ut.forEach(Me=>Wn(Me.key));R&&R.signal.addEventListener("abort",On);let{loaderResults:an,fetcherResults:Wt}=await zi(ke,ut,N,ie);if(N.signal.aborted)return{shortCircuited:!0};R&&R.signal.removeEventListener("abort",On),ut.forEach(Me=>K.delete(Me.key));let Rn=ih(an);if(Rn)return await yr(N,Rn.result,!0,{replace:Se}),{shortCircuited:!0};if(Rn=ih(Wt),Rn)return O.add(Rn.key),await yr(N,Rn.result,!0,{replace:Se}),{shortCircuited:!0};let{loaderData:Fi,errors:Un}=iE(H,G,an,ve,ut,Wt);De&&H.errors&&(Un={...H.errors,...Un});let er=Vr(),zn=Pr(ge),In=er||zn||ut.length>0;return{matches:G,loaderData:Fi,errors:Un,...In?{fetchers:new Map(H.fetchers)}:{}}}function An(N){if(N&&!Yn(N[1]))return{[N[0]]:N[1].data};if(H.actionData)return Object.keys(H.actionData).length===0?null:H.actionData}function el(N){return N.forEach(z=>{let G=H.fetchers.get(z.key),ie=tu(void 0,G?G.data:void 0);H.fetchers.set(z.key,ie)}),new Map(H.fetchers)}async function Fa(N,z,G,ie){Wn(N);let le=(ie&&ie.flushSync)===!0,ye=m||f,be=Hm(H.location,H.matches,p,G,z,ie?.relative),Te=_a(ye,be,p),Se=bn(Te,ye,be);if(Se.active&&Se.matches&&(Te=Se.matches),!Te){Ge(N,z,fr(404,{pathname:be}),{flushSync:le});return}let{path:De,submission:we,error:ve}=Xv(!0,be,ie);if(ve){Ge(N,z,ve,{flushSync:le});return}let He=r.unstable_getContext?await r.unstable_getContext():new Yv,tt=(ie&&ie.preventScrollReset)===!0;if(we&&Ln(we.formMethod)){await Ui(N,z,De,Te,He,Se.active,le,tt,we);return}ee.set(N,{routeId:z,path:De}),await oi(N,z,De,Te,He,Se.active,le,tt,we)}async function Ui(N,z,G,ie,le,ye,be,Te,Se){Bi(),ee.delete(N);let De=H.fetchers.get(N);ot(N,M1(Se,De),{flushSync:be});let we=new AbortController,ve=Ao(r.history,G,we.signal,Se);if(ye){let St=await Lr(ie,new URL(ve.url).pathname,ve.signal,N);if(St.type==="aborted")return;if(St.type==="error"){Ge(N,z,St.error,{flushSync:be});return}else if(St.matches)ie=St.matches;else{Ge(N,z,fr(404,{pathname:G}),{flushSync:be});return}}let He=dh(ie,G);if(!He.route.action&&!He.route.lazy){let St=fr(405,{method:Se.formMethod,pathname:G,routeId:z});Ge(N,z,St,{flushSync:be});return}K.set(N,we);let tt=ce,dt=No(o,u,ve,ie,He,a,le),ke=(await Xn(ve,dt,le,N))[He.route.id];if(ve.signal.aborted){K.get(N)===we&&K.delete(N);return}if(oe.has(N)){if(vs(ke)||Yn(ke)){ot(N,ya(void 0));return}}else{if(vs(ke))if(K.delete(N),ge>tt){ot(N,ya(void 0));return}else return O.add(N),ot(N,tu(Se)),yr(ve,ke,!1,{fetcherSubmission:Se,preventScrollReset:Te});if(Yn(ke)){Ge(N,z,ke.error);return}}let ut=H.navigation.location||H.location,On=Ao(r.history,ut,we.signal),an=m||f,Wt=H.navigation.state!=="idle"?_a(an,H.navigation.location,p):H.matches;Ye(Wt,"Didn't find any matches after fetcher action");let Rn=++ce;Be.set(N,Rn);let Fi=tu(Se,ke.data);H.fetchers.set(N,Fi);let{dsMatches:Un,revalidatingFetchers:er}=Wv(On,le,o,u,r.history,H,Wt,Se,ut,a,!1,qe,et,oe,ee,O,an,p,r.patchRoutesOnNavigation!=null,[He.route.id,ke]);er.filter(St=>St.key!==N).forEach(St=>{let Er=St.key,Gi=H.fetchers.get(Er),Ki=tu(void 0,Gi?Gi.data:void 0);H.fetchers.set(Er,Ki),Wn(Er),St.controller&&K.set(Er,St.controller)}),bt({fetchers:new Map(H.fetchers)});let zn=()=>er.forEach(St=>Wn(St.key));we.signal.addEventListener("abort",zn);let{loaderResults:In,fetcherResults:Me}=await zi(Un,er,On,le);if(we.signal.aborted)return;if(we.signal.removeEventListener("abort",zn),Be.delete(N),K.delete(N),er.forEach(St=>K.delete(St.key)),H.fetchers.has(N)){let St=ya(ke.data);H.fetchers.set(N,St)}let It=ih(In);if(It)return yr(On,It.result,!1,{preventScrollReset:Te});if(It=ih(Me),It)return O.add(It.key),yr(On,It.result,!1,{preventScrollReset:Te});let{loaderData:vr,errors:sn}=iE(H,Wt,In,void 0,er,Me);Pr(Rn),H.navigation.state==="loading"&&Rn>ge?(Ye(M,"Expected pending action"),R&&R.abort(),mn(H.navigation.location,{matches:Wt,loaderData:vr,errors:sn,fetchers:new Map(H.fetchers)})):(bt({errors:sn,loaderData:aE(H.loaderData,vr,Wt,sn),fetchers:new Map(H.fetchers)}),qe=!1)}async function oi(N,z,G,ie,le,ye,be,Te,Se){let De=H.fetchers.get(N);ot(N,tu(Se,De?De.data:void 0),{flushSync:be});let we=new AbortController,ve=Ao(r.history,G,we.signal);if(ye){let ut=await Lr(ie,new URL(ve.url).pathname,ve.signal,N);if(ut.type==="aborted")return;if(ut.type==="error"){Ge(N,z,ut.error,{flushSync:be});return}else if(ut.matches)ie=ut.matches;else{Ge(N,z,fr(404,{pathname:G}),{flushSync:be});return}}let He=dh(ie,G);K.set(N,we);let tt=ce,dt=No(o,u,ve,ie,He,a,le),ke=(await Xn(ve,dt,le,N))[He.route.id];if(K.get(N)===we&&K.delete(N),!ve.signal.aborted){if(oe.has(N)){ot(N,ya(void 0));return}if(vs(ke))if(ge>tt){ot(N,ya(void 0));return}else{O.add(N),await yr(ve,ke,!1,{preventScrollReset:Te});return}if(Yn(ke)){Ge(N,z,ke.error);return}ot(N,ya(ke.data))}}async function yr(N,z,G,{submission:ie,fetcherSubmission:le,preventScrollReset:ye,replace:be}={}){z.response.headers.has("X-Remix-Revalidate")&&(qe=!0);let Te=z.response.headers.get("Location");Ye(Te,"Expected a Location header on the redirect Response"),Te=nE(Te,new URL(N.url),p);let Se=gu(H.location,Te,{_isRedirect:!0});if(n){let dt=!1;if(z.response.headers.has("X-Remix-Reload-Document"))dt=!0;else if(vp(Te)){const lt=XT(Te,!0);dt=lt.origin!==e.location.origin||gr(lt.pathname,p)==null}if(dt){be?e.location.replace(Te):e.location.assign(Te);return}}R=null;let De=be===!0||z.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:we,formAction:ve,formEncType:He}=H.navigation;!ie&&!le&&we&&ve&&He&&(ie=lE(H.navigation));let tt=ie||le;if(u1.has(z.response.status)&&tt&&Ln(tt.formMethod))await wn(De,Se,{submission:{...tt,formAction:Te},preventScrollReset:ye||b,enableViewTransition:G?x:void 0});else{let dt=Cm(Se,ie);await wn(De,Se,{overrideNavigation:dt,fetcherSubmission:le,preventScrollReset:ye||b,enableViewTransition:G?x:void 0})}}async function Xn(N,z,G,ie){let le,ye={};try{le=await E1(g,N,z,ie,G,!1)}catch(be){return z.filter(Te=>Te.shouldLoad).forEach(Te=>{ye[Te.route.id]={type:"error",error:be}}),ye}if(N.signal.aborted)return ye;for(let[be,Te]of Object.entries(le))if(D1(Te)){let Se=Te.result;ye[be]={type:"redirect",response:A1(Se,N,be,z,p)}}else ye[be]=await w1(Te);return ye}async function zi(N,z,G,ie){let le=Xn(G,N,ie,null),ye=Promise.all(z.map(async Se=>{if(Se.matches&&Se.match&&Se.request&&Se.controller){let we=(await Xn(Se.request,Se.matches,ie,Se.key))[Se.match.route.id];return{[Se.key]:we}}else return Promise.resolve({[Se.key]:{type:"error",error:fr(404,{pathname:Se.path})}})})),be=await le,Te=(await ye).reduce((Se,De)=>Object.assign(Se,De),{});return{loaderResults:be,fetcherResults:Te}}function Bi(){qe=!0,ee.forEach((N,z)=>{K.has(z)&&et.add(z),Wn(z)})}function ot(N,z,G={}){H.fetchers.set(N,z),bt({fetchers:new Map(H.fetchers)},{flushSync:(G&&G.flushSync)===!0})}function Ge(N,z,G,ie={}){let le=va(H.matches,z);zt(N),bt({errors:{[le.route.id]:G},fetchers:new Map(H.fetchers)},{flushSync:(ie&&ie.flushSync)===!0})}function pn(N){return fe.set(N,(fe.get(N)||0)+1),oe.has(N)&&oe.delete(N),H.fetchers.get(N)||c1}function zt(N){let z=H.fetchers.get(N);K.has(N)&&!(z&&z.state==="loading"&&Be.has(N))&&Wn(N),ee.delete(N),Be.delete(N),O.delete(N),oe.delete(N),et.delete(N),H.fetchers.delete(N)}function Us(N){let z=(fe.get(N)||0)-1;z<=0?(fe.delete(N),oe.add(N)):fe.set(N,z),bt({fetchers:new Map(H.fetchers)})}function Wn(N){let z=K.get(N);z&&(z.abort(),K.delete(N))}function xr(N){for(let z of N){let G=pn(z),ie=ya(G.data);H.fetchers.set(z,ie)}}function Vr(){let N=[],z=!1;for(let G of O){let ie=H.fetchers.get(G);Ye(ie,`Expected fetcher: ${G}`),ie.state==="loading"&&(O.delete(G),N.push(G),z=!0)}return xr(N),z}function Pr(N){let z=[];for(let[G,ie]of Be)if(ie<N){let le=H.fetchers.get(G);Ye(le,`Expected fetcher: ${G}`),le.state==="loading"&&(Wn(G),Be.delete(G),z.push(G))}return xr(z),z.length>0}function kn(N,z){let G=H.blockers.get(N)||eu;return Ae.get(N)!==z&&Ae.set(N,z),G}function li(N){H.blockers.delete(N),Ae.delete(N)}function Zn(N,z){let G=H.blockers.get(N)||eu;Ye(G.state==="unblocked"&&z.state==="blocked"||G.state==="blocked"&&z.state==="blocked"||G.state==="blocked"&&z.state==="proceeding"||G.state==="blocked"&&z.state==="unblocked"||G.state==="proceeding"&&z.state==="unblocked",`Invalid blocker state transition: ${G.state} -> ${z.state}`);let ie=new Map(H.blockers);ie.set(N,z),bt({blockers:ie})}function ji({currentLocation:N,nextLocation:z,historyAction:G}){if(Ae.size===0)return;Ae.size>1&&kt(!1,"A router only supports one blocker at a time");let ie=Array.from(Ae.entries()),[le,ye]=ie[ie.length-1],be=H.blockers.get(le);if(!(be&&be.state==="proceeding")&&ye({currentLocation:N,nextLocation:z,historyAction:G}))return le}function ui(N){let z=fr(404,{pathname:N}),G=m||f,{matches:ie,route:le}=rh(G);return{notFoundMatches:ie,route:le,error:z}}function Ga(N,z,G){if(D=N,W=z,U=G||null,!q&&H.navigation===Im){q=!0;let ie=Hi(H.location,H.matches);ie!=null&&bt({restoreScrollPosition:ie})}return()=>{D=null,W=null,U=null}}function Jn(N,z){return U&&U(N,z.map(ie=>Bb(ie,H.loaderData)))||N.key}function _r(N,z){if(D&&W){let G=Jn(N,z);D[G]=W()}}function Hi(N,z){if(D){let G=Jn(N,z),ie=D[G];if(typeof ie=="number")return ie}return null}function bn(N,z,G){if(r.patchRoutesOnNavigation)if(N){if(Object.keys(N[0].params).length>0)return{active:!0,matches:fh(z,G,p,!0)}}else return{active:!0,matches:fh(z,G,p,!0)||[]};return{active:!1,matches:null}}async function Lr(N,z,G,ie){if(!r.patchRoutesOnNavigation)return{type:"success",matches:N};let le=N;for(;;){let ye=m==null,be=m||f,Te=u;try{await r.patchRoutesOnNavigation({signal:G,path:z,matches:le,fetcherKey:ie,patch:(we,ve)=>{G.aborted||Zv(we,ve,be,Te,o,!1)}})}catch(we){return{type:"error",error:we,partialMatches:le}}finally{ye&&!G.aborted&&(f=[...f])}if(G.aborted)return{type:"aborted"};let Se=_a(be,z,p);if(Se)return{type:"success",matches:Se};let De=fh(be,z,p,!0);if(!De||le.length===De.length&&le.every((we,ve)=>we.route.id===De[ve].route.id))return{type:"success",matches:null};le=De}}function kr(N){u={},m=yu(N,o,void 0,u)}function qi(N,z,G=!1){let ie=m==null;Zv(N,z,m||f,u,o,G),ie&&(f=[...f],bt({}))}return me={get basename(){return p},get future(){return v},get state(){return H},get routes(){return f},get window(){return e},initialize:Ut,subscribe:$n,enableScrollRestoration:Ga,navigate:Mr,fetch:Fa,revalidate:si,createHref:N=>r.history.createHref(N),encodeLocation:N=>r.history.encodeLocation(N),getFetcher:pn,deleteFetcher:Us,dispose:gt,getBlocker:kn,deleteBlocker:li,patchRoutes:qi,_internalFetchControllers:K,_internalSetRoutes:kr,_internalSetStateDoNotUseOrYouWillBreakYourApp(N){bt(N)}},me}function m1(r){return r!=null&&("formData"in r&&r.formData!=null||"body"in r&&r.body!==void 0)}function Hm(r,e,n,a,o,u){let f,m;if(o){f=[];for(let g of e)if(f.push(g),g.route.id===o){m=g;break}}else f=e,m=e[e.length-1];let p=Zh(a||".",Wh(f),gr(r.pathname,n)||r.pathname,u==="path");if(a==null&&(p.search=r.search,p.hash=r.hash),(a==null||a===""||a===".")&&m){let g=Ep(p.search);if(m.route.index&&!g)p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index";else if(!m.route.index&&g){let v=new URLSearchParams(p.search),S=v.getAll("index");v.delete("index"),S.filter(D=>D).forEach(D=>v.append("index",D));let w=v.toString();p.search=w?`?${w}`:""}}return n!=="/"&&(p.pathname=Jb({basename:n,pathname:p.pathname})),Oa(p)}function Xv(r,e,n){if(!n||!m1(n))return{path:e};if(n.formMethod&&!N1(n.formMethod))return{path:e,error:fr(405,{method:n.formMethod})};let a=()=>({path:e,error:fr(400,{type:"invalid-body"})}),u=(n.formMethod||"get").toUpperCase(),f=l0(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Ln(u))return a();let S=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((w,[D,U])=>`${w}${D}=${U}
`,""):String(n.body);return{path:e,submission:{formMethod:u,formAction:f,formEncType:n.formEncType,formData:void 0,json:void 0,text:S}}}else if(n.formEncType==="application/json"){if(!Ln(u))return a();try{let S=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:u,formAction:f,formEncType:n.formEncType,formData:void 0,json:S,text:void 0}}}catch{return a()}}}Ye(typeof FormData=="function","FormData is not available in this environment");let m,p;if(n.formData)m=Gm(n.formData),p=n.formData;else if(n.body instanceof FormData)m=Gm(n.body),p=n.body;else if(n.body instanceof URLSearchParams)m=n.body,p=rE(m);else if(n.body==null)m=new URLSearchParams,p=new FormData;else try{m=new URLSearchParams(n.body),p=rE(m)}catch{return a()}let g={formMethod:u,formAction:f,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(Ln(g.formMethod))return{path:e,submission:g};let v=za(e);return r&&v.search&&Ep(v.search)&&m.append("index",""),v.search=`?${m}`,{path:Oa(v),submission:g}}function Wv(r,e,n,a,o,u,f,m,p,g,v,S,w,D,U,W,q,J,se,ue){let Ce=ue?Yn(ue[1])?ue[1].error:ue[1].data:void 0,me=o.createURL(u.location),H=o.createURL(p),M;if(v&&u.errors){let I=Object.keys(u.errors)[0];M=f.findIndex(qe=>qe.route.id===I)}else if(ue&&Yn(ue[1])){let I=ue[0];M=f.findIndex(qe=>qe.route.id===I)-1}let b=ue?ue[1].statusCode:void 0,R=b&&b>=400,x={currentUrl:me,currentParams:u.matches[0]?.params||{},nextUrl:H,nextParams:f[0].params,...m,actionResult:Ce,actionStatus:b},P=f.map((I,qe)=>{let{route:et}=I,K=null;if(M!=null&&qe>M?K=!1:et.lazy?K=!0:et.loader==null?K=!1:v?K=qm(et,u.loaderData,u.errors):p1(u.loaderData,u.matches[qe],I)&&(K=!0),K!==null)return Fm(n,a,r,I,g,e,K);let ce=R?!1:S||me.pathname+me.search===H.pathname+H.search||me.search!==H.search||g1(u.matches[qe],I),ge={...x,defaultShouldRevalidate:ce},Be=Ch(I,ge);return Fm(n,a,r,I,g,e,Be,ge)}),L=[];return U.forEach((I,qe)=>{if(v||!f.some(fe=>fe.route.id===I.routeId)||D.has(qe))return;let et=u.fetchers.get(qe),K=et&&et.state!=="idle"&&et.data===void 0,ce=_a(q,I.path,J);if(!ce){if(se&&K)return;L.push({key:qe,routeId:I.routeId,path:I.path,matches:null,match:null,request:null,controller:null});return}if(W.has(qe))return;let ge=dh(ce,I.path),Be=new AbortController,O=Ao(o,I.path,Be.signal),ee=null;if(w.has(qe))w.delete(qe),ee=No(n,a,O,ce,ge,g,e);else if(K)S&&(ee=No(n,a,O,ce,ge,g,e));else{let fe={...x,defaultShouldRevalidate:R?!1:S};Ch(ge,fe)&&(ee=No(n,a,O,ce,ge,g,e,fe))}ee&&L.push({key:qe,routeId:I.routeId,path:I.path,matches:ee,match:ge,request:O,controller:Be})}),{dsMatches:P,revalidatingFetchers:L}}function qm(r,e,n){if(r.lazy)return!0;if(!r.loader)return!1;let a=e!=null&&r.id in e,o=n!=null&&n[r.id]!==void 0;return!a&&o?!1:typeof r.loader=="function"&&r.loader.hydrate===!0?!0:!a&&!o}function p1(r,e,n){let a=!e||n.route.id!==e.route.id,o=!r.hasOwnProperty(n.route.id);return a||o}function g1(r,e){let n=r.route.path;return r.pathname!==e.pathname||n!=null&&n.endsWith("*")&&r.params["*"]!==e.params["*"]}function Ch(r,e){if(r.route.shouldRevalidate){let n=r.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function Zv(r,e,n,a,o,u){let f;if(r){let g=a[r];Ye(g,`No route found to patch children into: routeId = ${r}`),g.children||(g.children=[]),f=g.children}else f=n;let m=[],p=[];if(e.forEach(g=>{let v=f.find(S=>r0(g,S));v?p.push({existingRoute:v,newRoute:g}):m.push(g)}),m.length>0){let g=yu(m,o,[r||"_","patch",String(f?.length||"0")],a);f.push(...g)}if(u&&p.length>0)for(let g=0;g<p.length;g++){let{existingRoute:v,newRoute:S}=p[g],w=v,[D]=yu([S],o,[],{},!0);Object.assign(w,{element:D.element?D.element:w.element,errorElement:D.errorElement?D.errorElement:w.errorElement,hydrateFallbackElement:D.hydrateFallbackElement?D.hydrateFallbackElement:w.hydrateFallbackElement})}}function r0(r,e){return"id"in r&&"id"in e&&r.id===e.id?!0:r.index===e.index&&r.path===e.path&&r.caseSensitive===e.caseSensitive?(!r.children||r.children.length===0)&&(!e.children||e.children.length===0)?!0:r.children.every((n,a)=>e.children?.some(o=>r0(n,o))):!1}var Jv=new WeakMap,i0=({key:r,route:e,manifest:n,mapRouteProperties:a})=>{let o=n[e.id];if(Ye(o,"No route found in manifest"),!o.lazy||typeof o.lazy!="object")return;let u=o.lazy[r];if(!u)return;let f=Jv.get(o);f||(f={},Jv.set(o,f));let m=f[r];if(m)return m;let p=(async()=>{let g=Lb(r),S=o[r]!==void 0&&r!=="hasErrorBoundary";if(g)kt(!g,"Route property "+r+" is not a supported lazy route property. This property will be ignored."),f[r]=Promise.resolve();else if(S)kt(!1,`Route "${o.id}" has a static property "${r}" defined. The lazy property will be ignored.`);else{let w=await u();w!=null&&(Object.assign(o,{[r]:w}),Object.assign(o,a(o)))}typeof o.lazy=="object"&&(o.lazy[r]=void 0,Object.values(o.lazy).every(w=>w===void 0)&&(o.lazy=void 0))})();return f[r]=p,p},eE=new WeakMap;function y1(r,e,n,a,o){let u=n[r.id];if(Ye(u,"No route found in manifest"),!r.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof r.lazy=="function"){let v=eE.get(u);if(v)return{lazyRoutePromise:v,lazyHandlerPromise:v};let S=(async()=>{Ye(typeof r.lazy=="function","No lazy route function found");let w=await r.lazy(),D={};for(let U in w){let W=w[U];if(W===void 0)continue;let q=Ub(U),se=u[U]!==void 0&&U!=="hasErrorBoundary";q?kt(!q,"Route property "+U+" is not a supported property to be returned from a lazy route function. This property will be ignored."):se?kt(!se,`Route "${u.id}" has a static property "${U}" defined but its lazy function is also returning a value for this property. The lazy route property "${U}" will be ignored.`):D[U]=W}Object.assign(u,D),Object.assign(u,{...a(u),lazy:void 0})})();return eE.set(u,S),S.catch(()=>{}),{lazyRoutePromise:S,lazyHandlerPromise:S}}let f=Object.keys(r.lazy),m=[],p;for(let v of f){if(o&&o.includes(v))continue;let S=i0({key:v,route:r,manifest:n,mapRouteProperties:a});S&&(m.push(S),v===e&&(p=S))}let g=m.length>0?Promise.all(m).then(()=>{}):void 0;return g?.catch(()=>{}),p?.catch(()=>{}),{lazyRoutePromise:g,lazyHandlerPromise:p}}async function tE(r){let e=r.matches.filter(o=>o.shouldLoad),n={};return(await Promise.all(e.map(o=>o.resolve()))).forEach((o,u)=>{n[e[u].route.id]=o}),n}async function _1(r){return r.matches.some(e=>e.route.unstable_middleware)?a0(r,()=>tE(r)):tE(r)}function a0(r,e){return v1(r,e,a=>a,I1,n);function n(a,o,u){if(u)return Promise.resolve(Object.assign(u.value,{[o]:{type:"error",result:a}}));{let{matches:f}=r,m=Math.min(f.findIndex(g=>g.route.id===o)||0,f.findIndex(g=>g.unstable_shouldCallHandler())||0),p=va(f,f[m].route.id).route.id;return Promise.resolve({[p]:{type:"error",result:a}})}}}async function v1(r,e,n,a,o){let{matches:u,request:f,params:m,context:p}=r,g=u.flatMap(S=>S.route.unstable_middleware?S.route.unstable_middleware.map(w=>[S.route.id,w]):[]);return await s0({request:f,params:m,context:p},g,e,n,a,o)}async function s0(r,e,n,a,o,u,f=0){let{request:m}=r;if(m.signal.aborted)throw m.signal.reason??new Error(`Request aborted: ${m.method} ${m.url}`);let p=e[f];if(!p)return await n();let[g,v]=p,S,w=async()=>{if(S)throw new Error("You may only call `next()` once per middleware");try{return S={value:await s0(r,e,n,a,o,u,f+1)},S.value}catch(D){return S={value:await u(D,g,S)},S.value}};try{let D=await v(r,w),U=D!=null?a(D):void 0;return o(U)?U:S?U??S.value:(S={value:await w()},S.value)}catch(D){return await u(D,g,S)}}function o0(r,e,n,a,o){let u=i0({key:"unstable_middleware",route:a.route,manifest:e,mapRouteProperties:r}),f=y1(a.route,Ln(n.method)?"action":"loader",e,r,o);return{middleware:u,route:f.lazyRoutePromise,handler:f.lazyHandlerPromise}}function Fm(r,e,n,a,o,u,f,m=null){let p=!1,g=o0(r,e,n,a,o);return{...a,_lazyPromises:g,shouldLoad:f,unstable_shouldRevalidateArgs:m,unstable_shouldCallHandler(v){return p=!0,m?typeof v=="boolean"?Ch(a,{...m,defaultShouldRevalidate:v}):Ch(a,m):f},resolve(v){return p||f||v&&!Ln(n.method)&&(a.route.lazy||a.route.loader)?T1({request:n,match:a,lazyHandlerPromise:g?.handler,lazyRoutePromise:g?.route,handlerOverride:v,scopedContext:u}):Promise.resolve({type:"data",result:void 0})}}}function No(r,e,n,a,o,u,f,m=null){return a.map(p=>p.route.id!==o.route.id?{...p,shouldLoad:!1,unstable_shouldRevalidateArgs:m,unstable_shouldCallHandler:()=>!1,_lazyPromises:o0(r,e,n,p,u),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Fm(r,e,n,p,u,f,!0,m))}async function E1(r,e,n,a,o,u){n.some(g=>g._lazyPromises?.middleware)&&await Promise.all(n.map(g=>g._lazyPromises?.middleware));let f={request:e,params:n[0].params,context:o,matches:n},p=await r({...f,fetcherKey:a,unstable_runClientMiddleware:g=>{let v=f;return a0(v,()=>g({...v,fetcherKey:a,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}))}});try{await Promise.all(n.flatMap(g=>[g._lazyPromises?.handler,g._lazyPromises?.route]))}catch{}return p}async function T1({request:r,match:e,lazyHandlerPromise:n,lazyRoutePromise:a,handlerOverride:o,scopedContext:u}){let f,m,p=Ln(r.method),g=p?"action":"loader",v=S=>{let w,D=new Promise((q,J)=>w=J);m=()=>w(),r.signal.addEventListener("abort",m);let U=q=>typeof S!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${g}" [routeId: ${e.route.id}]`)):S({request:r,params:e.params,context:u},...q!==void 0?[q]:[]),W=(async()=>{try{return{type:"data",result:await(o?o(J=>U(J)):U())}}catch(q){return{type:"error",result:q}}})();return Promise.race([W,D])};try{let S=p?e.route.action:e.route.loader;if(n||a)if(S){let w,[D]=await Promise.all([v(S).catch(U=>{w=U}),n,a]);if(w!==void 0)throw w;f=D}else{await n;let w=p?e.route.action:e.route.loader;if(w)[f]=await Promise.all([v(w),a]);else if(g==="action"){let D=new URL(r.url),U=D.pathname+D.search;throw fr(405,{method:r.method,pathname:U,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(S)f=await v(S);else{let w=new URL(r.url),D=w.pathname+w.search;throw fr(404,{pathname:D})}}catch(S){return{type:"error",result:S}}finally{m&&r.signal.removeEventListener("abort",m)}return f}async function S1(r){let e=r.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?r.body==null?null:r.json():r.text()}async function w1(r){let{result:e,type:n}=r;if(u0(e)){let a;try{a=await S1(e)}catch(o){return{type:"error",error:o}}return n==="error"?{type:"error",error:new Ih(e.status,e.statusText,a),statusCode:e.status,headers:e.headers}:{type:"data",data:a,statusCode:e.status,headers:e.headers}}return n==="error"?oE(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Ih(e.init?.status||500,void 0,e.data),statusCode:_u(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:_u(e)?e.status:void 0}:oE(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function A1(r,e,n,a,o){let u=r.headers.get("Location");if(Ye(u,"Redirects returned/thrown from loaders/actions must have a Location header"),!vp(u)){let f=a.slice(0,a.findIndex(m=>m.route.id===n)+1);u=Hm(new URL(e.url),f,o,u),r.headers.set("Location",u)}return r}function nE(r,e,n){if(vp(r)){let a=r,o=a.startsWith("//")?new URL(e.protocol+a):new URL(a),u=gr(o.pathname,n)!=null;if(o.origin===e.origin&&u)return o.pathname+o.search+o.hash}return r}function Ao(r,e,n,a){let o=r.createURL(l0(e)).toString(),u={signal:n};if(a&&Ln(a.formMethod)){let{formMethod:f,formEncType:m}=a;u.method=f.toUpperCase(),m==="application/json"?(u.headers=new Headers({"Content-Type":m}),u.body=JSON.stringify(a.json)):m==="text/plain"?u.body=a.text:m==="application/x-www-form-urlencoded"&&a.formData?u.body=Gm(a.formData):u.body=a.formData}return new Request(o,u)}function Gm(r){let e=new URLSearchParams;for(let[n,a]of r.entries())e.append(n,typeof a=="string"?a:a.name);return e}function rE(r){let e=new FormData;for(let[n,a]of r.entries())e.append(n,a);return e}function b1(r,e,n,a=!1,o=!1){let u={},f=null,m,p=!1,g={},v=n&&Yn(n[1])?n[1].error:void 0;return r.forEach(S=>{if(!(S.route.id in e))return;let w=S.route.id,D=e[w];if(Ye(!vs(D),"Cannot handle redirect results in processLoaderData"),Yn(D)){let U=D.error;if(v!==void 0&&(U=v,v=void 0),f=f||{},o)f[w]=U;else{let W=va(r,w);f[W.route.id]==null&&(f[W.route.id]=U)}a||(u[w]=n0),p||(p=!0,m=_u(D.error)?D.error.status:500),D.headers&&(g[w]=D.headers)}else u[w]=D.data,D.statusCode&&D.statusCode!==200&&!p&&(m=D.statusCode),D.headers&&(g[w]=D.headers)}),v!==void 0&&n&&(f={[n[0]]:v},n[2]&&(u[n[2]]=void 0)),{loaderData:u,errors:f,statusCode:m||200,loaderHeaders:g}}function iE(r,e,n,a,o,u){let{loaderData:f,errors:m}=b1(e,n,a);return o.filter(p=>!p.matches||p.matches.some(g=>g.shouldLoad)).forEach(p=>{let{key:g,match:v,controller:S}=p;if(S&&S.signal.aborted)return;let w=u[g];if(Ye(w,"Did not find corresponding fetcher result"),Yn(w)){let D=va(r.matches,v?.route.id);m&&m[D.route.id]||(m={...m,[D.route.id]:w.error}),r.fetchers.delete(g)}else if(vs(w))Ye(!1,"Unhandled fetcher revalidation redirect");else{let D=ya(w.data);r.fetchers.set(g,D)}}),{loaderData:f,errors:m}}function aE(r,e,n,a){let o=Object.entries(e).filter(([,u])=>u!==n0).reduce((u,[f,m])=>(u[f]=m,u),{});for(let u of n){let f=u.route.id;if(!e.hasOwnProperty(f)&&r.hasOwnProperty(f)&&u.route.loader&&(o[f]=r[f]),a&&a.hasOwnProperty(f))break}return o}function sE(r){return r?Yn(r[1])?{actionData:{}}:{actionData:{[r[0]]:r[1].data}}:{}}function va(r,e){return(e?r.slice(0,r.findIndex(a=>a.route.id===e)+1):[...r]).reverse().find(a=>a.route.hasErrorBoundary===!0)||r[0]}function rh(r){let e=r.length===1?r[0]:r.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function fr(r,{pathname:e,routeId:n,method:a,type:o,message:u}={}){let f="Unknown Server Error",m="Unknown @remix-run/router error";return r===400?(f="Bad Request",a&&e&&n?m=`You made a ${a} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:o==="invalid-body"&&(m="Unable to encode submission body")):r===403?(f="Forbidden",m=`Route "${n}" does not match URL "${e}"`):r===404?(f="Not Found",m=`No route matches URL "${e}"`):r===405&&(f="Method Not Allowed",a&&e&&n?m=`You made a ${a.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:a&&(m=`Invalid request method "${a.toUpperCase()}"`)),new Ih(r||500,f,new Error(m),!0)}function ih(r){let e=Object.entries(r);for(let n=e.length-1;n>=0;n--){let[a,o]=e[n];if(vs(o))return{key:a,result:o}}}function l0(r){let e=typeof r=="string"?za(r):r;return Oa({...e,hash:""})}function R1(r,e){return r.pathname!==e.pathname||r.search!==e.search?!1:r.hash===""?e.hash!=="":r.hash===e.hash?!0:e.hash!==""}function I1(r){return r!=null&&typeof r=="object"&&Object.entries(r).every(([e,n])=>typeof e=="string"&&C1(n))}function C1(r){return r!=null&&typeof r=="object"&&"type"in r&&"result"in r&&(r.type==="data"||r.type==="error")}function D1(r){return u0(r.result)&&l1.has(r.result.status)}function Yn(r){return r.type==="error"}function vs(r){return(r&&r.type)==="redirect"}function oE(r){return typeof r=="object"&&r!=null&&"type"in r&&"data"in r&&"init"in r&&r.type==="DataWithResponseInit"}function u0(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.headers=="object"&&typeof r.body<"u"}function N1(r){return o1.has(r.toUpperCase())}function Ln(r){return a1.has(r.toUpperCase())}function Ep(r){return new URLSearchParams(r).getAll("index").some(e=>e==="")}function dh(r,e){let n=typeof e=="string"?za(e).search:e.search;if(r[r.length-1].route.index&&Ep(n||""))return r[r.length-1];let a=JT(r);return a[a.length-1]}function lE(r){let{formMethod:e,formAction:n,formEncType:a,text:o,formData:u,json:f}=r;if(!(!e||!n||!a)){if(o!=null)return{formMethod:e,formAction:n,formEncType:a,formData:void 0,json:void 0,text:o};if(u!=null)return{formMethod:e,formAction:n,formEncType:a,formData:u,json:void 0,text:void 0};if(f!==void 0)return{formMethod:e,formAction:n,formEncType:a,formData:void 0,json:f,text:void 0}}}function Cm(r,e){return e?{state:"loading",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:r,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function O1(r,e){return{state:"submitting",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function tu(r,e){return r?{state:"loading",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function M1(r,e){return{state:"submitting",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e?e.data:void 0}}function ya(r){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:r}}function x1(r,e){try{let n=r.sessionStorage.getItem(t0);if(n){let a=JSON.parse(n);for(let[o,u]of Object.entries(a||{}))u&&Array.isArray(u)&&e.set(o,new Set(u||[]))}}catch{}}function V1(r,e){if(e.size>0){let n={};for(let[a,o]of e)n[a]=[...o];try{r.sessionStorage.setItem(t0,JSON.stringify(n))}catch(a){kt(!1,`Failed to save applied view transitions in sessionStorage (${a}).`)}}}function P1(){let r,e,n=new Promise((a,o)=>{r=async u=>{a(u);try{await n}catch{}},e=async u=>{o(u);try{await n}catch{}}});return{promise:n,resolve:r,reject:e}}var Os=Y.createContext(null);Os.displayName="DataRouter";var Nu=Y.createContext(null);Nu.displayName="DataRouterState";Y.createContext(!1);var Tp=Y.createContext({isTransitioning:!1});Tp.displayName="ViewTransition";var c0=Y.createContext(new Map);c0.displayName="Fetchers";var L1=Y.createContext(null);L1.displayName="Await";var Or=Y.createContext(null);Or.displayName="Navigation";var Jh=Y.createContext(null);Jh.displayName="Location";var ai=Y.createContext({outlet:null,matches:[],isDataRoute:!1});ai.displayName="Route";var Sp=Y.createContext(null);Sp.displayName="RouteError";function k1(r,{relative:e}={}){Ye(Fo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=Y.useContext(Or),{hash:o,pathname:u,search:f}=Ou(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Wr([n,u])),a.createHref({pathname:m,search:f,hash:o})}function Fo(){return Y.useContext(Jh)!=null}function Ba(){return Ye(Fo(),"useLocation() may be used only in the context of a <Router> component."),Y.useContext(Jh).location}var h0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function f0(r){Y.useContext(Or).static||Y.useLayoutEffect(r)}function wp(){let{isDataRoute:r}=Y.useContext(ai);return r?X1():U1()}function U1(){Ye(Fo(),"useNavigate() may be used only in the context of a <Router> component.");let r=Y.useContext(Os),{basename:e,navigator:n}=Y.useContext(Or),{matches:a}=Y.useContext(ai),{pathname:o}=Ba(),u=JSON.stringify(Wh(a)),f=Y.useRef(!1);return f0(()=>{f.current=!0}),Y.useCallback((p,g={})=>{if(kt(f.current,h0),!f.current)return;if(typeof p=="number"){n.go(p);return}let v=Zh(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Wr([e,v.pathname])),(g.replace?n.replace:n.push)(v,g.state,g)},[e,n,u,o,r])}Y.createContext(null);function Ou(r,{relative:e}={}){let{matches:n}=Y.useContext(ai),{pathname:a}=Ba(),o=JSON.stringify(Wh(n));return Y.useMemo(()=>Zh(r,JSON.parse(o),a,e==="path"),[r,o,a,e])}function z1(r,e,n,a,o){Ye(Fo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=Y.useContext(Or),{matches:f}=Y.useContext(ai),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",v=m?m.pathnameBase:"/",S=m&&m.route;{let se=S&&S.path||"";d0(g,!S||se.endsWith("*")||se.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${se}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${se}"> to <Route path="${se==="/"?"*":`${se}/*`}">.`)}let w=Ba(),D;D=w;let U=D.pathname||"/",W=U;if(v!=="/"){let se=v.replace(/^\//,"").split("/");W="/"+U.replace(/^\//,"").split("/").slice(se.length).join("/")}let q=_a(r,{pathname:W});return kt(S||q!=null,`No routes matched location "${D.pathname}${D.search}${D.hash}" `),kt(q==null||q[q.length-1].route.element!==void 0||q[q.length-1].route.Component!==void 0||q[q.length-1].route.lazy!==void 0,`Matched leaf route at location "${D.pathname}${D.search}${D.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),F1(q&&q.map(se=>Object.assign({},se,{params:Object.assign({},p,se.params),pathname:Wr([v,u.encodeLocation?u.encodeLocation(se.pathname).pathname:se.pathname]),pathnameBase:se.pathnameBase==="/"?v:Wr([v,u.encodeLocation?u.encodeLocation(se.pathnameBase).pathname:se.pathnameBase])})),f,n,a,o)}function B1(){let r=$1(),e=_u(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=Y.createElement(Y.Fragment,null,Y.createElement("p",null,"💿 Hey developer 👋"),Y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Y.createElement("code",{style:u},"ErrorBoundary")," or"," ",Y.createElement("code",{style:u},"errorElement")," prop on your route.")),Y.createElement(Y.Fragment,null,Y.createElement("h2",null,"Unexpected Application Error!"),Y.createElement("h3",{style:{fontStyle:"italic"}},e),n?Y.createElement("pre",{style:o},n):null,f)}var j1=Y.createElement(B1,null),H1=class extends Y.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?Y.createElement(ai.Provider,{value:this.props.routeContext},Y.createElement(Sp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function q1({routeContext:r,match:e,children:n}){let a=Y.useContext(Os);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),Y.createElement(ai.Provider,{value:r},n)}function F1(r,e=[],n=null,a=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let g=u.findIndex(v=>v.route.id&&f?.[v.route.id]!==void 0);Ye(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let m=!1,p=-1;if(n)for(let g=0;g<u.length;g++){let v=u[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=g),v.route.id){let{loaderData:S,errors:w}=n,D=v.route.loader&&!S.hasOwnProperty(v.route.id)&&(!w||w[v.route.id]===void 0);if(v.route.lazy||D){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((g,v,S)=>{let w,D=!1,U=null,W=null;n&&(w=f&&v.route.id?f[v.route.id]:void 0,U=v.route.errorElement||j1,m&&(p<0&&S===0?(d0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),D=!0,W=null):p===S&&(D=!0,W=v.route.hydrateFallbackElement||null)));let q=e.concat(u.slice(0,S+1)),J=()=>{let se;return w?se=U:D?se=W:v.route.Component?se=Y.createElement(v.route.Component,null):v.route.element?se=v.route.element:se=g,Y.createElement(q1,{match:v,routeContext:{outlet:g,matches:q,isDataRoute:n!=null},children:se})};return n&&(v.route.ErrorBoundary||v.route.errorElement||S===0)?Y.createElement(H1,{location:n.location,revalidation:n.revalidation,component:U,error:w,children:J(),routeContext:{outlet:null,matches:q,isDataRoute:!0},unstable_onError:a}):J()},null)}function Ap(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function G1(r){let e=Y.useContext(Os);return Ye(e,Ap(r)),e}function K1(r){let e=Y.useContext(Nu);return Ye(e,Ap(r)),e}function Q1(r){let e=Y.useContext(ai);return Ye(e,Ap(r)),e}function bp(r){let e=Q1(r),n=e.matches[e.matches.length-1];return Ye(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function Y1(){return bp("useRouteId")}function $1(){let r=Y.useContext(Sp),e=K1("useRouteError"),n=bp("useRouteError");return r!==void 0?r:e.errors?.[n]}function X1(){let{router:r}=G1("useNavigate"),e=bp("useNavigate"),n=Y.useRef(!1);return f0(()=>{n.current=!0}),Y.useCallback(async(o,u={})=>{kt(n.current,h0),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var uE={};function d0(r,e,n){!e&&!uE[r]&&(uE[r]=!0,kt(!1,n))}var cE={};function hE(r,e){!r&&!cE[e]&&(cE[e]=!0,console.warn(e))}function W1(r){let e={hasErrorBoundary:r.hasErrorBoundary||r.ErrorBoundary!=null||r.errorElement!=null};return r.Component&&(r.element&&kt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:Y.createElement(r.Component),Component:void 0})),r.HydrateFallback&&(r.hydrateFallbackElement&&kt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:Y.createElement(r.HydrateFallback),HydrateFallback:void 0})),r.ErrorBoundary&&(r.errorElement&&kt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:Y.createElement(r.ErrorBoundary),ErrorBoundary:void 0})),e}var Z1=["HydrateFallback","hydrateFallbackElement"],J1=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=a=>{this.status==="pending"&&(this.status="resolved",e(a))},this.reject=a=>{this.status==="pending"&&(this.status="rejected",n(a))}})}};function eR({router:r,flushSync:e,unstable_onError:n}){let[a,o]=Y.useState(r.state),[u,f]=Y.useState(),[m,p]=Y.useState({isTransitioning:!1}),[g,v]=Y.useState(),[S,w]=Y.useState(),[D,U]=Y.useState(),W=Y.useRef(new Map),q=Y.useCallback(me=>{o(H=>(me.errors&&n&&Object.entries(me.errors).forEach(([M,b])=>{H.errors?.[M]!==b&&n(b)}),me))},[n]),J=Y.useCallback((me,{deletedFetchers:H,flushSync:M,viewTransitionOpts:b})=>{me.fetchers.forEach((x,P)=>{x.data!==void 0&&W.current.set(P,x.data)}),H.forEach(x=>W.current.delete(x)),hE(M===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let R=r.window!=null&&r.window.document!=null&&typeof r.window.document.startViewTransition=="function";if(hE(b==null||R,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!b||!R){e&&M?e(()=>q(me)):Y.startTransition(()=>q(me));return}if(e&&M){e(()=>{S&&(g&&g.resolve(),S.skipTransition()),p({isTransitioning:!0,flushSync:!0,currentLocation:b.currentLocation,nextLocation:b.nextLocation})});let x=r.window.document.startViewTransition(()=>{e(()=>q(me))});x.finished.finally(()=>{e(()=>{v(void 0),w(void 0),f(void 0),p({isTransitioning:!1})})}),e(()=>w(x));return}S?(g&&g.resolve(),S.skipTransition(),U({state:me,currentLocation:b.currentLocation,nextLocation:b.nextLocation})):(f(me),p({isTransitioning:!0,flushSync:!1,currentLocation:b.currentLocation,nextLocation:b.nextLocation}))},[r.window,e,S,g,q]);Y.useLayoutEffect(()=>r.subscribe(J),[r,J]),Y.useEffect(()=>{m.isTransitioning&&!m.flushSync&&v(new J1)},[m]),Y.useEffect(()=>{if(g&&u&&r.window){let me=u,H=g.promise,M=r.window.document.startViewTransition(async()=>{Y.startTransition(()=>q(me)),await H});M.finished.finally(()=>{v(void 0),w(void 0),f(void 0),p({isTransitioning:!1})}),w(M)}},[u,g,r.window,q]),Y.useEffect(()=>{g&&u&&a.location.key===u.location.key&&g.resolve()},[g,S,a.location,u]),Y.useEffect(()=>{!m.isTransitioning&&D&&(f(D.state),p({isTransitioning:!0,flushSync:!1,currentLocation:D.currentLocation,nextLocation:D.nextLocation}),U(void 0))},[m.isTransitioning,D]);let se=Y.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:me=>r.navigate(me),push:(me,H,M)=>r.navigate(me,{state:H,preventScrollReset:M?.preventScrollReset}),replace:(me,H,M)=>r.navigate(me,{replace:!0,state:H,preventScrollReset:M?.preventScrollReset})}),[r]),ue=r.basename||"/",Ce=Y.useMemo(()=>({router:r,navigator:se,static:!1,basename:ue,unstable_onError:n}),[r,se,ue,n]);return Y.createElement(Y.Fragment,null,Y.createElement(Os.Provider,{value:Ce},Y.createElement(Nu.Provider,{value:a},Y.createElement(c0.Provider,{value:W.current},Y.createElement(Tp.Provider,{value:m},Y.createElement(iR,{basename:ue,location:a.location,navigationType:a.historyAction,navigator:se},Y.createElement(tR,{routes:r.routes,future:r.future,state:a,unstable_onError:n})))))),null)}var tR=Y.memo(nR);function nR({routes:r,future:e,state:n,unstable_onError:a}){return z1(r,void 0,n,a,e)}function rR({to:r,replace:e,state:n,relative:a}){Ye(Fo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=Y.useContext(Or);kt(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=Y.useContext(ai),{pathname:f}=Ba(),m=wp(),p=Zh(r,Wh(u),f,a==="path"),g=JSON.stringify(p);return Y.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:a})},[m,g,a,e,n]),null}function iR({basename:r="/",children:e=null,location:n,navigationType:a="POP",navigator:o,static:u=!1}){Ye(!Fo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=Y.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=za(n));let{pathname:p="/",search:g="",hash:v="",state:S=null,key:w="default"}=n,D=Y.useMemo(()=>{let U=gr(p,f);return U==null?null:{location:{pathname:U,search:g,hash:v,state:S,key:w},navigationType:a}},[f,p,g,v,S,w,a]);return kt(D!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:Y.createElement(Or.Provider,{value:m},Y.createElement(Jh.Provider,{children:e,value:D}))}var mh="get",ph="application/x-www-form-urlencoded";function ef(r){return r!=null&&typeof r.tagName=="string"}function aR(r){return ef(r)&&r.tagName.toLowerCase()==="button"}function sR(r){return ef(r)&&r.tagName.toLowerCase()==="form"}function oR(r){return ef(r)&&r.tagName.toLowerCase()==="input"}function lR(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function uR(r,e){return r.button===0&&(!e||e==="_self")&&!lR(r)}var ah=null;function cR(){if(ah===null)try{new FormData(document.createElement("form"),0),ah=!1}catch{ah=!0}return ah}var hR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Dm(r){return r!=null&&!hR.has(r)?(kt(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ph}"`),null):r}function fR(r,e){let n,a,o,u,f;if(sR(r)){let m=r.getAttribute("action");a=m?gr(m,e):null,n=r.getAttribute("method")||mh,o=Dm(r.getAttribute("enctype"))||ph,u=new FormData(r)}else if(aR(r)||oR(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(a=p?gr(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||mh,o=Dm(r.getAttribute("formenctype"))||Dm(m.getAttribute("enctype"))||ph,u=new FormData(m,r),!cR()){let{name:g,type:v,value:S}=r;if(v==="image"){let w=g?`${g}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else g&&u.append(g,S)}}else{if(ef(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=mh,a=null,o=ph,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:a,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Rp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function dR(r,e,n){let a=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return a.pathname==="/"?a.pathname=`_root.${n}`:e&&gr(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function mR(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function pR(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function gR(r,e,n){let a=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await mR(u,n);return f.links?f.links():[]}return[]}));return ER(a.flat(1).filter(pR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function fE(r,e,n,a,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let v=a.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function yR(r,e,{includeHydrateFallback:n}={}){return _R(r.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function _R(r){return[...new Set(r)]}function vR(r){let e={},n=Object.keys(r).sort();for(let a of n)e[a]=r[a];return e}function ER(r,e){let n=new Set;return new Set(e),r.reduce((a,o)=>{let u=JSON.stringify(vR(o));return n.has(u)||(n.add(u),a.push({key:u,link:o})),a},[])}function m0(){let r=Y.useContext(Os);return Rp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function TR(){let r=Y.useContext(Nu);return Rp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Ip=Y.createContext(void 0);Ip.displayName="FrameworkContext";function p0(){let r=Y.useContext(Ip);return Rp(r,"You must render this element inside a <HydratedRouter> element"),r}function SR(r,e){let n=Y.useContext(Ip),[a,o]=Y.useState(!1),[u,f]=Y.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:S}=e,w=Y.useRef(null);Y.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let W=J=>{J.forEach(se=>{f(se.isIntersecting)})},q=new IntersectionObserver(W,{threshold:.5});return w.current&&q.observe(w.current),()=>{q.disconnect()}}},[r]),Y.useEffect(()=>{if(a){let W=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(W)}}},[a]);let D=()=>{o(!0)},U=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,w,{}]:[u,w,{onFocus:nu(m,D),onBlur:nu(p,U),onMouseEnter:nu(g,D),onMouseLeave:nu(v,U),onTouchStart:nu(S,D)}]:[!1,w,{}]}function nu(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function wR({page:r,...e}){let{router:n}=m0(),a=Y.useMemo(()=>_a(n.routes,r,n.basename),[n.routes,r,n.basename]);return a?Y.createElement(bR,{page:r,matches:a,...e}):null}function AR(r){let{manifest:e,routeModules:n}=p0(),[a,o]=Y.useState([]);return Y.useEffect(()=>{let u=!1;return gR(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),a}function bR({page:r,matches:e,...n}){let a=Ba(),{manifest:o,routeModules:u}=p0(),{basename:f}=m0(),{loaderData:m,matches:p}=TR(),g=Y.useMemo(()=>fE(r,e,p,o,a,"data"),[r,e,p,o,a]),v=Y.useMemo(()=>fE(r,e,p,o,a,"assets"),[r,e,p,o,a]),S=Y.useMemo(()=>{if(r===a.pathname+a.search+a.hash)return[];let U=new Set,W=!1;if(e.forEach(J=>{let se=o.routes[J.route.id];!se||!se.hasLoader||(!g.some(ue=>ue.route.id===J.route.id)&&J.route.id in m&&u[J.route.id]?.shouldRevalidate||se.hasClientLoader?W=!0:U.add(J.route.id))}),U.size===0)return[];let q=dR(r,f,"data");return W&&U.size>0&&q.searchParams.set("_routes",e.filter(J=>U.has(J.route.id)).map(J=>J.route.id).join(",")),[q.pathname+q.search]},[f,m,a,o,g,e,r,u]),w=Y.useMemo(()=>yR(v,o),[v,o]),D=AR(v);return Y.createElement(Y.Fragment,null,S.map(U=>Y.createElement("link",{key:U,rel:"prefetch",as:"fetch",href:U,...n})),w.map(U=>Y.createElement("link",{key:U,rel:"modulepreload",href:U,...n})),D.map(({key:U,link:W})=>Y.createElement("link",{key:U,nonce:n.nonce,...W})))}function RR(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var g0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{g0&&(window.__reactRouterVersion="7.8.2")}catch{}function IR(r,e){return d1({basename:e?.basename,unstable_getContext:e?.unstable_getContext,future:e?.future,history:Mb({window:e?.window}),hydrationData:CR(),routes:r,mapRouteProperties:W1,hydrationRouteProperties:Z1,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window}).initialize()}function CR(){let r=window?.__staticRouterHydrationData;return r&&r.errors&&(r={...r,errors:DR(r.errors)}),r}function DR(r){if(!r)return null;let e=Object.entries(r),n={};for(let[a,o]of e)if(o&&o.__type==="RouteErrorResponse")n[a]=new Ih(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let u=window[o.__subType];if(typeof u=="function")try{let f=new u(o.message);f.stack="",n[a]=f}catch{}}if(n[a]==null){let u=new Error(o.message);u.stack="",n[a]=u}}else n[a]=o;return n}var y0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ss=Y.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:v,viewTransition:S,...w},D){let{basename:U}=Y.useContext(Or),W=typeof g=="string"&&y0.test(g),q,J=!1;if(typeof g=="string"&&W&&(q=g,g0))try{let R=new URL(window.location.href),x=g.startsWith("//")?new URL(R.protocol+g):new URL(g),P=gr(x.pathname,U);x.origin===R.origin&&P!=null?g=P+x.search+x.hash:J=!0}catch{kt(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let se=k1(g,{relative:o}),[ue,Ce,me]=SR(a,w),H=xR(g,{replace:f,state:m,target:p,preventScrollReset:v,relative:o,viewTransition:S});function M(R){e&&e(R),R.defaultPrevented||H(R)}let b=Y.createElement("a",{...w,...me,href:q||se,onClick:J||u?e:M,ref:RR(D,Ce),target:p,"data-discover":!W&&n==="render"?"true":void 0});return ue&&!W?Y.createElement(Y.Fragment,null,b,Y.createElement(wR,{page:se})):b});Ss.displayName="Link";var NR=Y.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},v){let S=Ou(f,{relative:g.relative}),w=Ba(),D=Y.useContext(Nu),{navigator:U,basename:W}=Y.useContext(Or),q=D!=null&&UR(S)&&m===!0,J=U.encodeLocation?U.encodeLocation(S).pathname:S.pathname,se=w.pathname,ue=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;n||(se=se.toLowerCase(),ue=ue?ue.toLowerCase():null,J=J.toLowerCase()),ue&&W&&(ue=gr(ue,W)||ue);const Ce=J!=="/"&&J.endsWith("/")?J.length-1:J.length;let me=se===J||!o&&se.startsWith(J)&&se.charAt(Ce)==="/",H=ue!=null&&(ue===J||!o&&ue.startsWith(J)&&ue.charAt(J.length)==="/"),M={isActive:me,isPending:H,isTransitioning:q},b=me?e:void 0,R;typeof a=="function"?R=a(M):R=[a,me?"active":null,H?"pending":null,q?"transitioning":null].filter(Boolean).join(" ");let x=typeof u=="function"?u(M):u;return Y.createElement(Ss,{...g,"aria-current":b,className:R,ref:v,style:x,to:f,viewTransition:m},typeof p=="function"?p(M):p)});NR.displayName="NavLink";var OR=Y.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:o,state:u,method:f=mh,action:m,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:S,...w},D)=>{let U=LR(),W=kR(m,{relative:g}),q=f.toLowerCase()==="get"?"get":"post",J=typeof m=="string"&&y0.test(m),se=ue=>{if(p&&p(ue),ue.defaultPrevented)return;ue.preventDefault();let Ce=ue.nativeEvent.submitter,me=Ce?.getAttribute("formmethod")||f;U(Ce||ue.currentTarget,{fetcherKey:e,method:me,navigate:n,replace:o,state:u,relative:g,preventScrollReset:v,viewTransition:S})};return Y.createElement("form",{ref:D,method:q,action:W,onSubmit:a?p:se,...w,"data-discover":!J&&r==="render"?"true":void 0})});OR.displayName="Form";function MR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _0(r){let e=Y.useContext(Os);return Ye(e,MR(r)),e}function xR(r,{target:e,replace:n,state:a,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=wp(),p=Ba(),g=Ou(r,{relative:u});return Y.useCallback(v=>{if(uR(v,e)){v.preventDefault();let S=n!==void 0?n:Oa(p)===Oa(g);m(r,{replace:S,state:a,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,n,a,e,r,o,u,f])}var VR=0,PR=()=>`__${String(++VR)}__`;function LR(){let{router:r}=_0("useSubmit"),{basename:e}=Y.useContext(Or),n=Y1();return Y.useCallback(async(a,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=fR(a,e);if(o.navigate===!1){let v=o.fetcherKey||PR();await r.fetch(v,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function kR(r,{relative:e}={}){let{basename:n}=Y.useContext(Or),a=Y.useContext(ai);Ye(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...Ou(r||".",{relative:e})},f=Ba();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(v=>v==="")){m.delete("index"),p.filter(S=>S).forEach(S=>m.append("index",S));let v=m.toString();u.search=v?`?${v}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Wr([n,u.pathname])),Oa(u)}function UR(r,{relative:e}={}){let n=Y.useContext(Tp);Ye(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=_0("useViewTransitionState"),o=Ou(r,{relative:e});if(!n.isTransitioning)return!1;let u=gr(n.currentLocation.pathname,a)||n.currentLocation.pathname,f=gr(n.nextLocation.pathname,a)||n.nextLocation.pathname;return Rh(o.pathname,f)!=null||Rh(o.pathname,u)!=null}var zR=YT();function BR(r){return Y.createElement(eR,{flushSync:zR.flushSync,...r})}function dE({url:r,children:e}){return he.jsx(he.Fragment,{children:he.jsx("a",{href:r,rel:"noopener noreferrer",target:"_blank",children:e})})}var v0={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},mE=Ts.createContext&&Ts.createContext(v0),jR=["attr","size","title"];function HR(r,e){if(r==null)return{};var n=qR(r,e),a,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(r);for(o=0;o<u.length;o++)a=u[o],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function qR(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}function Dh(){return Dh=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},Dh.apply(this,arguments)}function pE(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),n.push.apply(n,a)}return n}function Nh(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pE(Object(n),!0).forEach(function(a){FR(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):pE(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function FR(r,e,n){return e=GR(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function GR(r){var e=KR(r,"string");return typeof e=="symbol"?e:e+""}function KR(r,e){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function E0(r){return r&&r.map((e,n)=>Ts.createElement(e.tag,Nh({key:n},e.attr),E0(e.child)))}function tf(r){return e=>Ts.createElement(QR,Dh({attr:Nh({},r.attr)},e),E0(r.child))}function QR(r){var e=n=>{var{attr:a,size:o,title:u}=r,f=HR(r,jR),m=o||n.size||"1em",p;return n.className&&(p=n.className),r.className&&(p=(p?p+" ":"")+r.className),Ts.createElement("svg",Dh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,a,f,{className:p,style:Nh(Nh({color:r.color||n.color},n.style),r.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),u&&Ts.createElement("title",null,u),r.children)};return mE!==void 0?Ts.createElement(mE.Consumer,null,n=>e(n)):e(v0)}function YR(r){return tf({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(r)}function $R(r){return tf({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(r)}const XR=()=>{};var gE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0=function(r){const e=[];let n=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},WR=function(r){const e=[];let n=0,a=0;for(;n<r.length;){const o=r[n++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},S0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,v=u>>2,S=(u&3)<<4|m>>4;let w=(m&15)<<2|g>>6,D=g&63;p||(D=64,f||(w=64)),a.push(n[v],n[S],n[w],n[D])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(T0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):WR(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const S=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||S==null)throw new ZR;const w=u<<2|m>>4;if(a.push(w),g!==64){const D=m<<4&240|g>>2;if(a.push(D),S!==64){const U=g<<6&192|S;a.push(U)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class ZR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JR=function(r){const e=T0(r);return S0.encodeByteArray(e,!0)},Oh=function(r){return JR(r).replace(/\./g,"")},w0=function(r){try{return S0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI=()=>eI().__FIREBASE_DEFAULTS__,nI=()=>{if(typeof process>"u"||typeof gE>"u")return;const r=gE.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},rI=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&w0(r[1]);return e&&JSON.parse(e)},nf=()=>{try{return XR()||tI()||nI()||rI()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},A0=r=>nf()?.emulatorHosts?.[r],iI=r=>{const e=A0(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},b0=()=>nf()?.config,R0=r=>nf()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Go(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function I0(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Oh(JSON.stringify(n)),Oh(JSON.stringify(f)),""].join(".")}const cu={};function oI(){const r={prod:[],emulator:[]};for(const e of Object.keys(cu))cu[e]?r.emulator.push(e):r.prod.push(e);return r}function lI(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let yE=!1;function C0(r,e){if(typeof window>"u"||typeof document>"u"||!Go(window.location.host)||cu[r]===e||cu[r]||yE)return;cu[r]=e;function n(w){return`__firebase__banner__${w}`}const a="__firebase__banner",u=oI().prod.length>0;function f(){const w=document.getElementById(a);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,D){w.setAttribute("width","24"),w.setAttribute("id",D),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{yE=!0,f()},w}function v(w,D){w.setAttribute("id",D),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function S(){const w=lI(a),D=n("text"),U=document.getElementById(D)||document.createElement("span"),W=n("learnmore"),q=document.getElementById(W)||document.createElement("a"),J=n("preprendIcon"),se=document.getElementById(J)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const ue=w.element;m(ue),v(q,W);const Ce=g();p(se,J),ue.append(se,U,q,Ce),document.body.appendChild(ue)}u?(U.innerText="Preview backend disconnected.",se.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(se.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tn())}function cI(){const r=nf()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fI(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function dI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mI(){const r=Tn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function pI(){return!cI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gI(){try{return typeof indexedDB=="object"}catch{return!1}}function yI(){return new Promise((r,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I="FirebaseError";class ki extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=_I,Object.setPrototypeOf(this,ki.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mu.prototype.create)}}class Mu{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?vI(u,a):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new ki(o,m,a)}}function vI(r,e){return r.replace(EI,(n,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const EI=/\{\$([^}]+)}/g;function TI(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Rs(r,e){if(r===e)return!0;const n=Object.keys(r),a=Object.keys(e);for(const o of n){if(!a.includes(o))return!1;const u=r[o],f=e[o];if(_E(u)&&_E(f)){if(!Rs(u,f))return!1}else if(u!==f)return!1}for(const o of a)if(!n.includes(o))return!1;return!0}function _E(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xu(r){const e=[];for(const[n,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function iu(r){const e={};return r.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,u]=a.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function au(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function SI(r,e){const n=new wI(r,e);return n.subscribe.bind(n)}class wI{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let o;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");AI(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:a},o.next===void 0&&(o.next=Nm),o.error===void 0&&(o.error=Nm),o.complete===void 0&&(o.complete=Nm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function AI(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Nm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(r){return r&&r._delegate?r._delegate:r}class Is{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new aI;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(II(e))try{this.getOrInitializeService({instanceIdentifier:_s})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(e=_s){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_s){return this.instances.has(e)}getOptions(e=_s){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);a===m&&f.resolve(o)}return o}onInit(e,n){const a=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const u=this.instances.get(a);return u&&e(u,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const o of a)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:RI(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=_s){return this.component?this.component.multipleInstances?e:_s:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function RI(r){return r===_s?void 0:r}function II(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new bI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var We;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(We||(We={}));const DI={debug:We.DEBUG,verbose:We.VERBOSE,info:We.INFO,warn:We.WARN,error:We.ERROR,silent:We.SILENT},NI=We.INFO,OI={[We.DEBUG]:"log",[We.VERBOSE]:"log",[We.INFO]:"info",[We.WARN]:"warn",[We.ERROR]:"error"},MI=(r,e,...n)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=OI[e];if(o)console[o](`[${a}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Cp{constructor(e){this.name=e,this._logLevel=NI,this._logHandler=MI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in We))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?DI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,We.DEBUG,...e),this._logHandler(this,We.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,We.VERBOSE,...e),this._logHandler(this,We.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,We.INFO,...e),this._logHandler(this,We.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,We.WARN,...e),this._logHandler(this,We.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,We.ERROR,...e),this._logHandler(this,We.ERROR,...e)}}const xI=(r,e)=>e.some(n=>r instanceof n);let vE,EE;function VI(){return vE||(vE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function PI(){return EE||(EE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const D0=new WeakMap,Km=new WeakMap,N0=new WeakMap,Om=new WeakMap,Dp=new WeakMap;function LI(r){const e=new Promise((n,a)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(ba(r.result)),o()},f=()=>{a(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&D0.set(n,r)}).catch(()=>{}),Dp.set(e,r),e}function kI(r){if(Km.has(r))return;const e=new Promise((n,a)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Km.set(r,e)}let Qm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Km.get(r);if(e==="objectStoreNames")return r.objectStoreNames||N0.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ba(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function UI(r){Qm=r(Qm)}function zI(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=r.call(Mm(this),e,...n);return N0.set(a,e.sort?e.sort():[e]),ba(a)}:PI().includes(r)?function(...e){return r.apply(Mm(this),e),ba(D0.get(this))}:function(...e){return ba(r.apply(Mm(this),e))}}function BI(r){return typeof r=="function"?zI(r):(r instanceof IDBTransaction&&kI(r),xI(r,VI())?new Proxy(r,Qm):r)}function ba(r){if(r instanceof IDBRequest)return LI(r);if(Om.has(r))return Om.get(r);const e=BI(r);return e!==r&&(Om.set(r,e),Dp.set(e,r)),e}const Mm=r=>Dp.get(r);function jI(r,e,{blocked:n,upgrade:a,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=ba(f);return a&&f.addEventListener("upgradeneeded",p=>{a(ba(f.result),p.oldVersion,p.newVersion,ba(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const HI=["get","getKey","getAll","getAllKeys","count"],qI=["put","add","delete","clear"],xm=new Map;function TE(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(xm.get(e))return xm.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,o=qI.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(o||HI.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return a&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return xm.set(e,u),u}UI(r=>({...r,get:(e,n,a)=>TE(e,n)||r.get(e,n,a),has:(e,n)=>!!TE(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(GI(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function GI(r){return r.getComponent()?.type==="VERSION"}const Ym="@firebase/app",SE="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi=new Cp("@firebase/app"),KI="@firebase/app-compat",QI="@firebase/analytics-compat",YI="@firebase/analytics",$I="@firebase/app-check-compat",XI="@firebase/app-check",WI="@firebase/auth",ZI="@firebase/auth-compat",JI="@firebase/database",eC="@firebase/data-connect",tC="@firebase/database-compat",nC="@firebase/functions",rC="@firebase/functions-compat",iC="@firebase/installations",aC="@firebase/installations-compat",sC="@firebase/messaging",oC="@firebase/messaging-compat",lC="@firebase/performance",uC="@firebase/performance-compat",cC="@firebase/remote-config",hC="@firebase/remote-config-compat",fC="@firebase/storage",dC="@firebase/storage-compat",mC="@firebase/firestore",pC="@firebase/ai",gC="@firebase/firestore-compat",yC="firebase",_C="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m="[DEFAULT]",vC={[Ym]:"fire-core",[KI]:"fire-core-compat",[YI]:"fire-analytics",[QI]:"fire-analytics-compat",[XI]:"fire-app-check",[$I]:"fire-app-check-compat",[WI]:"fire-auth",[ZI]:"fire-auth-compat",[JI]:"fire-rtdb",[eC]:"fire-data-connect",[tC]:"fire-rtdb-compat",[nC]:"fire-fn",[rC]:"fire-fn-compat",[iC]:"fire-iid",[aC]:"fire-iid-compat",[sC]:"fire-fcm",[oC]:"fire-fcm-compat",[lC]:"fire-perf",[uC]:"fire-perf-compat",[cC]:"fire-rc",[hC]:"fire-rc-compat",[fC]:"fire-gcs",[dC]:"fire-gcs-compat",[mC]:"fire-fst",[gC]:"fire-fst-compat",[pC]:"fire-vertex","fire-js":"fire-js",[yC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh=new Map,EC=new Map,Xm=new Map;function wE(r,e){try{r.container.addComponent(e)}catch(n){xi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Po(r){const e=r.name;if(Xm.has(e))return xi.debug(`There were multiple attempts to register component ${e}.`),!1;Xm.set(e,r);for(const n of Mh.values())wE(n,r);for(const n of EC.values())wE(n,r);return!0}function Np(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function br(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ra=new Mu("app","Firebase",TC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e,n,a){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Is("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ra.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko=_C;function O0(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const a={name:$m,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw Ra.create("bad-app-name",{appName:String(o)});if(n||(n=b0()),!n)throw Ra.create("no-options");const u=Mh.get(o);if(u){if(Rs(n,u.options)&&Rs(a,u.config))return u;throw Ra.create("duplicate-app",{appName:o})}const f=new CI(o);for(const p of Xm.values())f.addComponent(p);const m=new SC(n,a,f);return Mh.set(o,m),m}function M0(r=$m){const e=Mh.get(r);if(!e&&r===$m&&b0())return O0();if(!e)throw Ra.create("no-app",{appName:r});return e}function Ia(r,e,n){let a=vC[r]??r;n&&(a+=`-${n}`);const o=a.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${a}" with version "${e}":`];o&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xi.warn(f.join(" "));return}Po(new Is(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC="firebase-heartbeat-database",AC=1,vu="firebase-heartbeat-store";let Vm=null;function x0(){return Vm||(Vm=jI(wC,AC,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(vu)}catch(n){console.warn(n)}}}}).catch(r=>{throw Ra.create("idb-open",{originalErrorMessage:r.message})})),Vm}async function bC(r){try{const n=(await x0()).transaction(vu),a=await n.objectStore(vu).get(V0(r));return await n.done,a}catch(e){if(e instanceof ki)xi.warn(e.message);else{const n=Ra.create("idb-get",{originalErrorMessage:e?.message});xi.warn(n.message)}}}async function AE(r,e){try{const a=(await x0()).transaction(vu,"readwrite");await a.objectStore(vu).put(e,V0(r)),await a.done}catch(n){if(n instanceof ki)xi.warn(n.message);else{const a=Ra.create("idb-set",{originalErrorMessage:n?.message});xi.warn(a.message)}}}function V0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC=1024,IC=30;class CC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new NC(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=bE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:n}),this._heartbeatsCache.heartbeats.length>IC){const o=OC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){xi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=bE(),{heartbeatsToSend:n,unsentEntries:a}=DC(this._heartbeatsCache.heartbeats),o=Oh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return xi.warn(e),""}}}function bE(){return new Date().toISOString().substring(0,10)}function DC(r,e=RC){const n=[];let a=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),RE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),RE(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class NC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gI()?yI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await bC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return AE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return AE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function RE(r){return Oh(JSON.stringify({version:2,heartbeats:r})).length}function OC(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let a=1;a<r.length;a++)r[a].date<n&&(n=r[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MC(r){Po(new Is("platform-logger",e=>new FI(e),"PRIVATE")),Po(new Is("heartbeat",e=>new CC(e),"PRIVATE")),Ia(Ym,SE,r),Ia(Ym,SE,"esm2020"),Ia("fire-js","")}MC("");var xC="firebase",VC="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ia(xC,VC,"app");var IE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ca,P0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,b){function R(){}R.prototype=b.prototype,M.D=b.prototype,M.prototype=new R,M.prototype.constructor=M,M.C=function(x,P,L){for(var I=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)I[qe-2]=arguments[qe];return b.prototype[P].apply(x,I)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,n),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,b,R){R||(R=0);var x=Array(16);if(typeof b=="string")for(var P=0;16>P;++P)x[P]=b.charCodeAt(R++)|b.charCodeAt(R++)<<8|b.charCodeAt(R++)<<16|b.charCodeAt(R++)<<24;else for(P=0;16>P;++P)x[P]=b[R++]|b[R++]<<8|b[R++]<<16|b[R++]<<24;b=M.g[0],R=M.g[1],P=M.g[2];var L=M.g[3],I=b+(L^R&(P^L))+x[0]+3614090360&4294967295;b=R+(I<<7&4294967295|I>>>25),I=L+(P^b&(R^P))+x[1]+3905402710&4294967295,L=b+(I<<12&4294967295|I>>>20),I=P+(R^L&(b^R))+x[2]+606105819&4294967295,P=L+(I<<17&4294967295|I>>>15),I=R+(b^P&(L^b))+x[3]+3250441966&4294967295,R=P+(I<<22&4294967295|I>>>10),I=b+(L^R&(P^L))+x[4]+4118548399&4294967295,b=R+(I<<7&4294967295|I>>>25),I=L+(P^b&(R^P))+x[5]+1200080426&4294967295,L=b+(I<<12&4294967295|I>>>20),I=P+(R^L&(b^R))+x[6]+2821735955&4294967295,P=L+(I<<17&4294967295|I>>>15),I=R+(b^P&(L^b))+x[7]+4249261313&4294967295,R=P+(I<<22&4294967295|I>>>10),I=b+(L^R&(P^L))+x[8]+1770035416&4294967295,b=R+(I<<7&4294967295|I>>>25),I=L+(P^b&(R^P))+x[9]+2336552879&4294967295,L=b+(I<<12&4294967295|I>>>20),I=P+(R^L&(b^R))+x[10]+4294925233&4294967295,P=L+(I<<17&4294967295|I>>>15),I=R+(b^P&(L^b))+x[11]+2304563134&4294967295,R=P+(I<<22&4294967295|I>>>10),I=b+(L^R&(P^L))+x[12]+1804603682&4294967295,b=R+(I<<7&4294967295|I>>>25),I=L+(P^b&(R^P))+x[13]+4254626195&4294967295,L=b+(I<<12&4294967295|I>>>20),I=P+(R^L&(b^R))+x[14]+2792965006&4294967295,P=L+(I<<17&4294967295|I>>>15),I=R+(b^P&(L^b))+x[15]+1236535329&4294967295,R=P+(I<<22&4294967295|I>>>10),I=b+(P^L&(R^P))+x[1]+4129170786&4294967295,b=R+(I<<5&4294967295|I>>>27),I=L+(R^P&(b^R))+x[6]+3225465664&4294967295,L=b+(I<<9&4294967295|I>>>23),I=P+(b^R&(L^b))+x[11]+643717713&4294967295,P=L+(I<<14&4294967295|I>>>18),I=R+(L^b&(P^L))+x[0]+3921069994&4294967295,R=P+(I<<20&4294967295|I>>>12),I=b+(P^L&(R^P))+x[5]+3593408605&4294967295,b=R+(I<<5&4294967295|I>>>27),I=L+(R^P&(b^R))+x[10]+38016083&4294967295,L=b+(I<<9&4294967295|I>>>23),I=P+(b^R&(L^b))+x[15]+3634488961&4294967295,P=L+(I<<14&4294967295|I>>>18),I=R+(L^b&(P^L))+x[4]+3889429448&4294967295,R=P+(I<<20&4294967295|I>>>12),I=b+(P^L&(R^P))+x[9]+568446438&4294967295,b=R+(I<<5&4294967295|I>>>27),I=L+(R^P&(b^R))+x[14]+3275163606&4294967295,L=b+(I<<9&4294967295|I>>>23),I=P+(b^R&(L^b))+x[3]+4107603335&4294967295,P=L+(I<<14&4294967295|I>>>18),I=R+(L^b&(P^L))+x[8]+1163531501&4294967295,R=P+(I<<20&4294967295|I>>>12),I=b+(P^L&(R^P))+x[13]+2850285829&4294967295,b=R+(I<<5&4294967295|I>>>27),I=L+(R^P&(b^R))+x[2]+4243563512&4294967295,L=b+(I<<9&4294967295|I>>>23),I=P+(b^R&(L^b))+x[7]+1735328473&4294967295,P=L+(I<<14&4294967295|I>>>18),I=R+(L^b&(P^L))+x[12]+2368359562&4294967295,R=P+(I<<20&4294967295|I>>>12),I=b+(R^P^L)+x[5]+4294588738&4294967295,b=R+(I<<4&4294967295|I>>>28),I=L+(b^R^P)+x[8]+2272392833&4294967295,L=b+(I<<11&4294967295|I>>>21),I=P+(L^b^R)+x[11]+1839030562&4294967295,P=L+(I<<16&4294967295|I>>>16),I=R+(P^L^b)+x[14]+4259657740&4294967295,R=P+(I<<23&4294967295|I>>>9),I=b+(R^P^L)+x[1]+2763975236&4294967295,b=R+(I<<4&4294967295|I>>>28),I=L+(b^R^P)+x[4]+1272893353&4294967295,L=b+(I<<11&4294967295|I>>>21),I=P+(L^b^R)+x[7]+4139469664&4294967295,P=L+(I<<16&4294967295|I>>>16),I=R+(P^L^b)+x[10]+3200236656&4294967295,R=P+(I<<23&4294967295|I>>>9),I=b+(R^P^L)+x[13]+681279174&4294967295,b=R+(I<<4&4294967295|I>>>28),I=L+(b^R^P)+x[0]+3936430074&4294967295,L=b+(I<<11&4294967295|I>>>21),I=P+(L^b^R)+x[3]+3572445317&4294967295,P=L+(I<<16&4294967295|I>>>16),I=R+(P^L^b)+x[6]+76029189&4294967295,R=P+(I<<23&4294967295|I>>>9),I=b+(R^P^L)+x[9]+3654602809&4294967295,b=R+(I<<4&4294967295|I>>>28),I=L+(b^R^P)+x[12]+3873151461&4294967295,L=b+(I<<11&4294967295|I>>>21),I=P+(L^b^R)+x[15]+530742520&4294967295,P=L+(I<<16&4294967295|I>>>16),I=R+(P^L^b)+x[2]+3299628645&4294967295,R=P+(I<<23&4294967295|I>>>9),I=b+(P^(R|~L))+x[0]+4096336452&4294967295,b=R+(I<<6&4294967295|I>>>26),I=L+(R^(b|~P))+x[7]+1126891415&4294967295,L=b+(I<<10&4294967295|I>>>22),I=P+(b^(L|~R))+x[14]+2878612391&4294967295,P=L+(I<<15&4294967295|I>>>17),I=R+(L^(P|~b))+x[5]+4237533241&4294967295,R=P+(I<<21&4294967295|I>>>11),I=b+(P^(R|~L))+x[12]+1700485571&4294967295,b=R+(I<<6&4294967295|I>>>26),I=L+(R^(b|~P))+x[3]+2399980690&4294967295,L=b+(I<<10&4294967295|I>>>22),I=P+(b^(L|~R))+x[10]+4293915773&4294967295,P=L+(I<<15&4294967295|I>>>17),I=R+(L^(P|~b))+x[1]+2240044497&4294967295,R=P+(I<<21&4294967295|I>>>11),I=b+(P^(R|~L))+x[8]+1873313359&4294967295,b=R+(I<<6&4294967295|I>>>26),I=L+(R^(b|~P))+x[15]+4264355552&4294967295,L=b+(I<<10&4294967295|I>>>22),I=P+(b^(L|~R))+x[6]+2734768916&4294967295,P=L+(I<<15&4294967295|I>>>17),I=R+(L^(P|~b))+x[13]+1309151649&4294967295,R=P+(I<<21&4294967295|I>>>11),I=b+(P^(R|~L))+x[4]+4149444226&4294967295,b=R+(I<<6&4294967295|I>>>26),I=L+(R^(b|~P))+x[11]+3174756917&4294967295,L=b+(I<<10&4294967295|I>>>22),I=P+(b^(L|~R))+x[2]+718787259&4294967295,P=L+(I<<15&4294967295|I>>>17),I=R+(L^(P|~b))+x[9]+3951481745&4294967295,M.g[0]=M.g[0]+b&4294967295,M.g[1]=M.g[1]+(P+(I<<21&4294967295|I>>>11))&4294967295,M.g[2]=M.g[2]+P&4294967295,M.g[3]=M.g[3]+L&4294967295}a.prototype.u=function(M,b){b===void 0&&(b=M.length);for(var R=b-this.blockSize,x=this.B,P=this.h,L=0;L<b;){if(P==0)for(;L<=R;)o(this,M,L),L+=this.blockSize;if(typeof M=="string"){for(;L<b;)if(x[P++]=M.charCodeAt(L++),P==this.blockSize){o(this,x),P=0;break}}else for(;L<b;)if(x[P++]=M[L++],P==this.blockSize){o(this,x),P=0;break}}this.h=P,this.o+=b},a.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var b=1;b<M.length-8;++b)M[b]=0;var R=8*this.o;for(b=M.length-8;b<M.length;++b)M[b]=R&255,R/=256;for(this.u(M),M=Array(16),b=R=0;4>b;++b)for(var x=0;32>x;x+=8)M[R++]=this.g[b]>>>x&255;return M};function u(M,b){var R=m;return Object.prototype.hasOwnProperty.call(R,M)?R[M]:R[M]=b(M)}function f(M,b){this.h=b;for(var R=[],x=!0,P=M.length-1;0<=P;P--){var L=M[P]|0;x&&L==b||(R[P]=L,x=!1)}this.g=R}var m={};function p(M){return-128<=M&&128>M?u(M,function(b){return new f([b|0],0>b?-1:0)}):new f([M|0],0>M?-1:0)}function g(M){if(isNaN(M)||!isFinite(M))return S;if(0>M)return q(g(-M));for(var b=[],R=1,x=0;M>=R;x++)b[x]=M/R|0,R*=4294967296;return new f(b,0)}function v(M,b){if(M.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(M.charAt(0)=="-")return q(v(M.substring(1),b));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(b,8)),x=S,P=0;P<M.length;P+=8){var L=Math.min(8,M.length-P),I=parseInt(M.substring(P,P+L),b);8>L?(L=g(Math.pow(b,L)),x=x.j(L).add(g(I))):(x=x.j(R),x=x.add(g(I)))}return x}var S=p(0),w=p(1),D=p(16777216);r=f.prototype,r.m=function(){if(W(this))return-q(this).m();for(var M=0,b=1,R=0;R<this.g.length;R++){var x=this.i(R);M+=(0<=x?x:4294967296+x)*b,b*=4294967296}return M},r.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(U(this))return"0";if(W(this))return"-"+q(this).toString(M);for(var b=g(Math.pow(M,6)),R=this,x="";;){var P=Ce(R,b).g;R=J(R,P.j(b));var L=((0<R.g.length?R.g[0]:R.h)>>>0).toString(M);if(R=P,U(R))return L+x;for(;6>L.length;)L="0"+L;x=L+x}},r.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function U(M){if(M.h!=0)return!1;for(var b=0;b<M.g.length;b++)if(M.g[b]!=0)return!1;return!0}function W(M){return M.h==-1}r.l=function(M){return M=J(this,M),W(M)?-1:U(M)?0:1};function q(M){for(var b=M.g.length,R=[],x=0;x<b;x++)R[x]=~M.g[x];return new f(R,~M.h).add(w)}r.abs=function(){return W(this)?q(this):this},r.add=function(M){for(var b=Math.max(this.g.length,M.g.length),R=[],x=0,P=0;P<=b;P++){var L=x+(this.i(P)&65535)+(M.i(P)&65535),I=(L>>>16)+(this.i(P)>>>16)+(M.i(P)>>>16);x=I>>>16,L&=65535,I&=65535,R[P]=I<<16|L}return new f(R,R[R.length-1]&-2147483648?-1:0)};function J(M,b){return M.add(q(b))}r.j=function(M){if(U(this)||U(M))return S;if(W(this))return W(M)?q(this).j(q(M)):q(q(this).j(M));if(W(M))return q(this.j(q(M)));if(0>this.l(D)&&0>M.l(D))return g(this.m()*M.m());for(var b=this.g.length+M.g.length,R=[],x=0;x<2*b;x++)R[x]=0;for(x=0;x<this.g.length;x++)for(var P=0;P<M.g.length;P++){var L=this.i(x)>>>16,I=this.i(x)&65535,qe=M.i(P)>>>16,et=M.i(P)&65535;R[2*x+2*P]+=I*et,se(R,2*x+2*P),R[2*x+2*P+1]+=L*et,se(R,2*x+2*P+1),R[2*x+2*P+1]+=I*qe,se(R,2*x+2*P+1),R[2*x+2*P+2]+=L*qe,se(R,2*x+2*P+2)}for(x=0;x<b;x++)R[x]=R[2*x+1]<<16|R[2*x];for(x=b;x<2*b;x++)R[x]=0;return new f(R,0)};function se(M,b){for(;(M[b]&65535)!=M[b];)M[b+1]+=M[b]>>>16,M[b]&=65535,b++}function ue(M,b){this.g=M,this.h=b}function Ce(M,b){if(U(b))throw Error("division by zero");if(U(M))return new ue(S,S);if(W(M))return b=Ce(q(M),b),new ue(q(b.g),q(b.h));if(W(b))return b=Ce(M,q(b)),new ue(q(b.g),b.h);if(30<M.g.length){if(W(M)||W(b))throw Error("slowDivide_ only works with positive integers.");for(var R=w,x=b;0>=x.l(M);)R=me(R),x=me(x);var P=H(R,1),L=H(x,1);for(x=H(x,2),R=H(R,2);!U(x);){var I=L.add(x);0>=I.l(M)&&(P=P.add(R),L=I),x=H(x,1),R=H(R,1)}return b=J(M,P.j(b)),new ue(P,b)}for(P=S;0<=M.l(b);){for(R=Math.max(1,Math.floor(M.m()/b.m())),x=Math.ceil(Math.log(R)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),L=g(R),I=L.j(b);W(I)||0<I.l(M);)R-=x,L=g(R),I=L.j(b);U(L)&&(L=w),P=P.add(L),M=J(M,I)}return new ue(P,M)}r.A=function(M){return Ce(this,M).h},r.and=function(M){for(var b=Math.max(this.g.length,M.g.length),R=[],x=0;x<b;x++)R[x]=this.i(x)&M.i(x);return new f(R,this.h&M.h)},r.or=function(M){for(var b=Math.max(this.g.length,M.g.length),R=[],x=0;x<b;x++)R[x]=this.i(x)|M.i(x);return new f(R,this.h|M.h)},r.xor=function(M){for(var b=Math.max(this.g.length,M.g.length),R=[],x=0;x<b;x++)R[x]=this.i(x)^M.i(x);return new f(R,this.h^M.h)};function me(M){for(var b=M.g.length+1,R=[],x=0;x<b;x++)R[x]=M.i(x)<<1|M.i(x-1)>>>31;return new f(R,M.h)}function H(M,b){var R=b>>5;b%=32;for(var x=M.g.length-R,P=[],L=0;L<x;L++)P[L]=0<b?M.i(L+R)>>>b|M.i(L+R+1)<<32-b:M.i(L+R);return new f(P,M.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,P0=a,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=v,Ca=f}).apply(typeof IE<"u"?IE:typeof self<"u"?self:typeof window<"u"?window:{});var sh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var L0,su,k0,gh,Wm,U0,z0,B0;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof sh=="object"&&sh];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=n(this);function o(c,y){if(y)e:{var _=a;c=c.split(".");for(var A=0;A<c.length-1;A++){var B=c[A];if(!(B in _))break e;_=_[B]}c=c[c.length-1],A=_[c],y=y(A),y!=A&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,A=!1,B={next:function(){if(!A&&_<c.length){var X=_++;return{value:y(X,c[X]),done:!1}}return A=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function v(c,y,_){return c.call.apply(c.bind,arguments)}function S(c,y,_){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,A),c.apply(y,B)}}return function(){return c.apply(y,arguments)}}function w(c,y,_){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:S,w.apply(null,arguments)}function D(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function U(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(A,B,X){for(var de=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)de[nt-2]=arguments[nt];return y.prototype[B].apply(A,de)}}function W(c){const y=c.length;if(0<y){const _=Array(y);for(let A=0;A<y;A++)_[A]=c[A];return _}return[]}function q(c,y){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(p(A)){const B=c.length||0,X=A.length||0;c.length=B+X;for(let de=0;de<X;de++)c[B+de]=A[de]}else c.push(A)}}class J{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function se(c){return/^[\s\xa0]*$/.test(c)}function ue(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function Ce(c){return Ce[" "](c),c}Ce[" "]=function(){};var me=ue().indexOf("Gecko")!=-1&&!(ue().toLowerCase().indexOf("webkit")!=-1&&ue().indexOf("Edge")==-1)&&!(ue().indexOf("Trident")!=-1||ue().indexOf("MSIE")!=-1)&&ue().indexOf("Edge")==-1;function H(c,y,_){for(const A in c)y.call(_,c[A],A,c)}function M(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function b(c){const y={};for(const _ in c)y[_]=c[_];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(c,y){let _,A;for(let B=1;B<arguments.length;B++){A=arguments[B];for(_ in A)c[_]=A[_];for(let X=0;X<R.length;X++)_=R[X],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function P(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function L(c){m.setTimeout(()=>{throw c},0)}function I(){var c=Be;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class qe{constructor(){this.h=this.g=null}add(y,_){const A=et.get();A.set(y,_),this.h?this.h.next=A:this.g=A,this.h=A}}var et=new J(()=>new K,c=>c.reset());class K{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,ge=!1,Be=new qe,O=()=>{const c=m.Promise.resolve(void 0);ce=()=>{c.then(ee)}};var ee=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(_){L(_)}var y=et;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ge=!1};function fe(){this.s=this.s,this.C=this.C}fe.prototype.s=!1,fe.prototype.ma=function(){this.s||(this.s=!0,this.N())},fe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var Ae=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function je(c,y){if(oe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(me){e:{try{Ce(y.nodeName);var B=!0;break e}catch{}B=!1}B||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ne[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&je.aa.h.call(this)}}U(je,oe);var Ne={2:"touch",3:"pen",4:"mouse"};je.prototype.h=function(){je.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ut="closure_listenable_"+(1e6*Math.random()|0),gt=0;function $n(c,y,_,A,B){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!A,this.ha=B,this.key=++gt,this.da=this.fa=!1}function bt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function mn(c){this.src=c,this.g={},this.h=0}mn.prototype.add=function(c,y,_,A,B){var X=c.toString();c=this.g[X],c||(c=this.g[X]=[],this.h++);var de=si(c,y,A,B);return-1<de?(y=c[de],_||(y.fa=!1)):(y=new $n(y,this.src,X,!!A,B),y.fa=_,c.push(y)),y};function Mr(c,y){var _=y.type;if(_ in c.g){var A=c.g[_],B=Array.prototype.indexOf.call(A,y,void 0),X;(X=0<=B)&&Array.prototype.splice.call(A,B,1),X&&(bt(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function si(c,y,_,A){for(var B=0;B<c.length;++B){var X=c[B];if(!X.da&&X.listener==y&&X.capture==!!_&&X.ha==A)return B}return-1}var wn="closure_lm_"+(1e6*Math.random()|0),qa={};function ks(c,y,_,A,B){if(Array.isArray(y)){for(var X=0;X<y.length;X++)ks(c,y[X],_,A,B);return null}return _=Bi(_),c&&c[Ut]?c.K(y,_,g(A)?!!A.capture:!1,B):An(c,y,_,!1,A,B)}function An(c,y,_,A,B,X){if(!y)throw Error("Invalid event type");var de=g(B)?!!B.capture:!!B,nt=Xn(c);if(nt||(c[wn]=nt=new mn(c)),_=nt.add(y,_,A,de,X),_.proxy)return _;if(A=el(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)Ae||(B=de),B===void 0&&(B=!1),c.addEventListener(y.toString(),A,B);else if(c.attachEvent)c.attachEvent(oi(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function el(){function c(_){return y.call(c.src,c.listener,_)}const y=yr;return c}function Fa(c,y,_,A,B){if(Array.isArray(y))for(var X=0;X<y.length;X++)Fa(c,y[X],_,A,B);else A=g(A)?!!A.capture:!!A,_=Bi(_),c&&c[Ut]?(c=c.i,y=String(y).toString(),y in c.g&&(X=c.g[y],_=si(X,_,A,B),-1<_&&(bt(X[_]),Array.prototype.splice.call(X,_,1),X.length==0&&(delete c.g[y],c.h--)))):c&&(c=Xn(c))&&(y=c.g[y.toString()],c=-1,y&&(c=si(y,_,A,B)),(_=-1<c?y[c]:null)&&Ui(_))}function Ui(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Ut])Mr(y.i,c);else{var _=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(_,A,c.capture):y.detachEvent?y.detachEvent(oi(_),A):y.addListener&&y.removeListener&&y.removeListener(A),(_=Xn(y))?(Mr(_,c),_.h==0&&(_.src=null,y[wn]=null)):bt(c)}}}function oi(c){return c in qa?qa[c]:qa[c]="on"+c}function yr(c,y){if(c.da)c=!0;else{y=new je(y,this);var _=c.listener,A=c.ha||c.src;c.fa&&Ui(c),c=_.call(A,y)}return c}function Xn(c){return c=c[wn],c instanceof mn?c:null}var zi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bi(c){return typeof c=="function"?c:(c[zi]||(c[zi]=function(y){return c.handleEvent(y)}),c[zi])}function ot(){fe.call(this),this.i=new mn(this),this.M=this,this.F=null}U(ot,fe),ot.prototype[Ut]=!0,ot.prototype.removeEventListener=function(c,y,_,A){Fa(this,c,y,_,A)};function Ge(c,y){var _,A=c.F;if(A)for(_=[];A;A=A.F)_.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new oe(y,c);else if(y instanceof oe)y.target=y.target||c;else{var B=y;y=new oe(A,c),x(y,B)}if(B=!0,_)for(var X=_.length-1;0<=X;X--){var de=y.g=_[X];B=pn(de,A,!0,y)&&B}if(de=y.g=c,B=pn(de,A,!0,y)&&B,B=pn(de,A,!1,y)&&B,_)for(X=0;X<_.length;X++)de=y.g=_[X],B=pn(de,A,!1,y)&&B}ot.prototype.N=function(){if(ot.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],A=0;A<_.length;A++)bt(_[A]);delete c.g[y],c.h--}}this.F=null},ot.prototype.K=function(c,y,_,A){return this.i.add(String(c),y,!1,_,A)},ot.prototype.L=function(c,y,_,A){return this.i.add(String(c),y,!0,_,A)};function pn(c,y,_,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var B=!0,X=0;X<y.length;++X){var de=y[X];if(de&&!de.da&&de.capture==_){var nt=de.listener,Kt=de.ha||de.src;de.fa&&Mr(c.i,de),B=nt.call(Kt,A)!==!1&&B}}return B&&!A.defaultPrevented}function zt(c,y,_){if(typeof c=="function")_&&(c=w(c,_));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Us(c){c.g=zt(()=>{c.g=null,c.i&&(c.i=!1,Us(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Wn extends fe{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Us(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xr(c){fe.call(this),this.h=c,this.g={}}U(xr,fe);var Vr=[];function Pr(c){H(c.g,function(y,_){this.g.hasOwnProperty(_)&&Ui(y)},c),c.g={}}xr.prototype.N=function(){xr.aa.N.call(this),Pr(this)},xr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var kn=m.JSON.stringify,li=m.JSON.parse,Zn=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function ji(){}ji.prototype.h=null;function ui(c){return c.h||(c.h=c.i())}function Ga(){}var Jn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function _r(){oe.call(this,"d")}U(_r,oe);function Hi(){oe.call(this,"c")}U(Hi,oe);var bn={},Lr=null;function kr(){return Lr=Lr||new ot}bn.La="serverreachability";function qi(c){oe.call(this,bn.La,c)}U(qi,oe);function N(c){const y=kr();Ge(y,new qi(y))}bn.STAT_EVENT="statevent";function z(c,y){oe.call(this,bn.STAT_EVENT,c),this.stat=y}U(z,oe);function G(c){const y=kr();Ge(y,new z(y,c))}bn.Ma="timingevent";function ie(c,y){oe.call(this,bn.Ma,c),this.size=y}U(ie,oe);function le(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function ye(){this.g=!0}ye.prototype.xa=function(){this.g=!1};function be(c,y,_,A,B,X){c.info(function(){if(c.g)if(X)for(var de="",nt=X.split("&"),Kt=0;Kt<nt.length;Kt++){var rt=nt[Kt].split("=");if(1<rt.length){var Jt=rt[0];rt=rt[1];var Qt=Jt.split("_");de=2<=Qt.length&&Qt[1]=="type"?de+(Jt+"="+rt+"&"):de+(Jt+"=redacted&")}}else de=null;else de=X;return"XMLHTTP REQ ("+A+") [attempt "+B+"]: "+y+`
`+_+`
`+de})}function Te(c,y,_,A,B,X,de){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+B+"]: "+y+`
`+_+`
`+X+" "+de})}function Se(c,y,_,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+we(c,_)+(A?" "+A:"")})}function De(c,y){c.info(function(){return"TIMEOUT: "+y})}ye.prototype.info=function(){};function we(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var A=_[c];if(!(2>A.length)){var B=A[1];if(Array.isArray(B)&&!(1>B.length)){var X=B[0];if(X!="noop"&&X!="stop"&&X!="close")for(var de=1;de<B.length;de++)B[de]=""}}}}return kn(_)}catch{return y}}var ve={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},He={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},tt;function dt(){}U(dt,ji),dt.prototype.g=function(){return new XMLHttpRequest},dt.prototype.i=function(){return{}},tt=new dt;function lt(c,y,_,A){this.j=c,this.i=y,this.l=_,this.R=A||1,this.U=new xr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ke}function ke(){this.i=null,this.g="",this.h=!1}var ut={},On={};function an(c,y,_){c.L=1,c.v=Ya(Bn(y)),c.m=_,c.P=!0,Wt(c,null)}function Wt(c,y){c.F=Date.now(),Un(c),c.A=Bn(c.v);var _=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),al(_.i,"t",A),c.C=0,_=c.j.J,c.h=new ke,c.g=Ju(c.j,_?y:null,!c.m),0<c.O&&(c.M=new Wn(w(c.Y,c,c.g),c.O)),y=c.U,_=c.g,A=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(Vr[0]=B.toString()),B=Vr);for(var X=0;X<B.length;X++){var de=ks(_,B[X],A||y.handleEvent,!1,y.h||y);if(!de)break;y.g[de.key]=de}y=c.H?b(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),N(),be(c.i,c.u,c.A,c.l,c.R,c.m)}lt.prototype.ca=function(c){c=c.target;const y=this.M;y&&ir(c)==3?y.j():this.Y(c)},lt.prototype.Y=function(c){try{if(c==this.g)e:{const Qt=ir(this.g);var y=this.g.Ba();const gi=this.g.Z();if(!(3>Qt)&&(Qt!=3||this.g&&(this.h.h||this.g.oa()||Gu(this.g)))){this.J||Qt!=4||y==7||(y==8||0>=gi?N(3):N(2)),zn(this);var _=this.g.Z();this.X=_;t:if(Rn(this)){var A=Gu(this.g);c="";var B=A.length,X=ir(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Me(this),In(this);var de="";break t}this.h.i=new m.TextDecoder}for(y=0;y<B;y++)this.h.h=!0,c+=this.h.i.decode(A[y],{stream:!(X&&y==B-1)});A.length=0,this.h.g+=c,this.C=0,de=this.h.g}else de=this.g.oa();if(this.o=_==200,Te(this.i,this.u,this.A,this.l,this.R,Qt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var nt,Kt=this.g;if((nt=Kt.g?Kt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!se(nt)){var rt=nt;break t}}rt=null}if(_=rt)Se(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,It(this,_);else{this.o=!1,this.s=3,G(12),Me(this),In(this);break e}}if(this.P){_=!0;let on;for(;!this.J&&this.C<de.length;)if(on=Fi(this,de),on==On){Qt==4&&(this.s=4,G(14),_=!1),Se(this.i,this.l,null,"[Incomplete Response]");break}else if(on==ut){this.s=4,G(15),Se(this.i,this.l,de,"[Invalid Chunk]"),_=!1;break}else Se(this.i,this.l,on,null),It(this,on);if(Rn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Qt!=4||de.length!=0||this.h.h||(this.s=1,G(16),_=!1),this.o=this.o&&_,!_)Se(this.i,this.l,de,"[Invalid Chunked Response]"),Me(this),In(this);else if(0<de.length&&!this.W){this.W=!0;var Jt=this.j;Jt.g==this&&Jt.ba&&!Jt.M&&(Jt.j.info("Great, no buffering proxy detected. Bytes received: "+de.length),ns(Jt),Jt.M=!0,G(11))}}else Se(this.i,this.l,de,null),It(this,de);Qt==4&&Me(this),this.o&&!this.J&&(Qt==4?Xu(this.j,this):(this.o=!1,Un(this)))}else If(this.g),_==400&&0<de.indexOf("Unknown SID")?(this.s=3,G(12)):(this.s=0,G(13)),Me(this),In(this)}}}catch{}finally{}};function Rn(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Fi(c,y){var _=c.C,A=y.indexOf(`
`,_);return A==-1?On:(_=Number(y.substring(_,A)),isNaN(_)?ut:(A+=1,A+_>y.length?On:(y=y.slice(A,A+_),c.C=A+_,y)))}lt.prototype.cancel=function(){this.J=!0,Me(this)};function Un(c){c.S=Date.now()+c.I,er(c,c.I)}function er(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=le(w(c.ba,c),y)}function zn(c){c.B&&(m.clearTimeout(c.B),c.B=null)}lt.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(De(this.i,this.A),this.L!=2&&(N(),G(17)),Me(this),this.s=2,In(this)):er(this,this.S-c)};function In(c){c.j.G==0||c.J||Xu(c.j,c)}function Me(c){zn(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Pr(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function It(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||Gi(_.h,c))){if(!c.K&&Gi(_.h,c)&&_.G==3){try{var A=_.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var B=A;if(B[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Qs(_),Gs(_);else break e;cl(_),G(18)}}else _.za=B[1],0<_.za-_.T&&37500>B[2]&&_.F&&_.v==0&&!_.C&&(_.C=le(w(_.Za,_),6e3));if(1>=Er(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else pi(_,11)}else if((c.K||_.g==c)&&Qs(_),!se(y))for(B=_.Da.g.parse(y),y=0;y<B.length;y++){let rt=B[y];if(_.T=rt[0],rt=rt[1],_.G==2)if(rt[0]=="c"){_.K=rt[1],_.ia=rt[2];const Jt=rt[3];Jt!=null&&(_.la=Jt,_.j.info("VER="+_.la));const Qt=rt[4];Qt!=null&&(_.Aa=Qt,_.j.info("SVER="+_.Aa));const gi=rt[5];gi!=null&&typeof gi=="number"&&0<gi&&(A=1.5*gi,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const on=c.g;if(on){const Fr=on.g?on.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fr){var X=A.h;X.g||Fr.indexOf("spdy")==-1&&Fr.indexOf("quic")==-1&&Fr.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Ki(X,X.h),X.h=null))}if(A.D){const fl=on.g?on.g.getResponseHeader("X-HTTP-Session-Id"):null;fl&&(A.ya=fl,yt(A.I,A.D,fl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var de=c;if(A.qa=Zu(A,A.J?A.ia:null,A.W),de.K){Cn(A.h,de);var nt=de,Kt=A.L;Kt&&(nt.I=Kt),nt.B&&(zn(nt),Un(nt)),A.g=de}else Yu(A);0<_.i.length&&Ks(_)}else rt[0]!="stop"&&rt[0]!="close"||pi(_,7);else _.G==3&&(rt[0]=="stop"||rt[0]=="close"?rt[0]=="stop"?pi(_,7):ll(_):rt[0]!="noop"&&_.l&&_.l.ta(rt),_.v=0)}}N(4)}catch{}}var vr=class{constructor(c,y){this.g=c,this.map=y}};function sn(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function St(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Er(c){return c.h?1:c.g?c.g.size:0}function Gi(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Ki(c,y){c.g?c.g.add(y):c.h=y}function Cn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}sn.prototype.cancel=function(){if(this.i=tl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function tl(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return W(c.i)}function wf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,A=0;A<_;A++)y.push(c[A]);return y}y=[],_=0;for(A in c)y[_++]=c[A];return y}function zs(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const A in c)y[_++]=A;return y}}}function nl(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=zs(c),A=wf(c),B=A.length,X=0;X<B;X++)y.call(void 0,A[X],_&&_[X],c)}var Ka=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Af(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var A=c[_].indexOf("="),B=null;if(0<=A){var X=c[_].substring(0,A);B=c[_].substring(A+1)}else X=c[_];y(X,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Bt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Bt){this.h=c.h,Qa(this,c.j),this.o=c.o,this.g=c.g,Qi(this,c.s),this.l=c.l;var y=c.i,_=new hi;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),ci(this,_),this.m=c.m}else c&&(y=String(c).match(Ka))?(this.h=!1,Qa(this,y[1]||"",!0),this.o=tr(y[2]||""),this.g=tr(y[3]||"",!0),Qi(this,y[4]),this.l=tr(y[5]||"",!0),ci(this,y[6]||"",!0),this.m=tr(y[7]||"")):(this.h=!1,this.i=new hi(null,this.h))}Bt.prototype.toString=function(){var c=[],y=this.j;y&&c.push($a(y,rl,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push($a(y,rl,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push($a(_,_.charAt(0)=="/"?bf:il,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",$a(_,Bs)),c.join("")};function Bn(c){return new Bt(c)}function Qa(c,y,_){c.j=_?tr(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Qi(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function ci(c,y,_){y instanceof hi?(c.i=y,qu(c.i,c.h)):(_||(y=$a(y,Rf)),c.i=new hi(y,c.h))}function yt(c,y,_){c.i.set(y,_)}function Ya(c){return yt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function tr(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function $a(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Hu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Hu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var rl=/[#\/\?@]/g,il=/[#\?:]/g,bf=/[#\?]/g,Rf=/[#\?@]/g,Bs=/#/g;function hi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function nr(c){c.g||(c.g=new Map,c.h=0,c.i&&Af(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=hi.prototype,r.add=function(c,y){nr(this),this.i=null,c=Ur(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function fi(c,y){nr(c),y=Ur(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function di(c,y){return nr(c),y=Ur(c,y),c.g.has(y)}r.forEach=function(c,y){nr(this),this.g.forEach(function(_,A){_.forEach(function(B){c.call(y,B,A,this)},this)},this)},r.na=function(){nr(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let A=0;A<y.length;A++){const B=c[A];for(let X=0;X<B.length;X++)_.push(y[A])}return _},r.V=function(c){nr(this);let y=[];if(typeof c=="string")di(this,c)&&(y=y.concat(this.g.get(Ur(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},r.set=function(c,y){return nr(this),this.i=null,c=Ur(this,c),di(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function al(c,y,_){fi(c,y),0<_.length&&(c.i=null,c.g.set(Ur(c,y),W(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var A=y[_];const X=encodeURIComponent(String(A)),de=this.V(A);for(A=0;A<de.length;A++){var B=X;de[A]!==""&&(B+="="+encodeURIComponent(String(de[A]))),c.push(B)}}return this.i=c.join("&")};function Ur(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function qu(c,y){y&&!c.j&&(nr(c),c.i=null,c.g.forEach(function(_,A){var B=A.toLowerCase();A!=B&&(fi(this,A),al(this,B,_))},c)),c.j=y}function Xa(c,y){const _=new ye;if(m.Image){const A=new Image;A.onload=D(rr,_,"TestLoadImage: loaded",!0,y,A),A.onerror=D(rr,_,"TestLoadImage: error",!1,y,A),A.onabort=D(rr,_,"TestLoadImage: abort",!1,y,A),A.ontimeout=D(rr,_,"TestLoadImage: timeout",!1,y,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function Tr(c,y){const _=new ye,A=new AbortController,B=setTimeout(()=>{A.abort(),rr(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(X=>{clearTimeout(B),X.ok?rr(_,"TestPingServer: ok",!0,y):rr(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),rr(_,"TestPingServer: error",!1,y)})}function rr(c,y,_,A,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),A(_)}catch{}}function Wa(){this.g=new Zn}function zr(c,y,_){const A=_||"";try{nl(c,function(B,X){let de=B;g(B)&&(de=kn(B)),y.push(A+X+"="+encodeURIComponent(de))})}catch(B){throw y.push(A+"type="+encodeURIComponent("_badmap")),B}}function Yi(c){this.l=c.Ub||null,this.j=c.eb||!1}U(Yi,ji),Yi.prototype.g=function(){return new mi(this.l,this.j)},Yi.prototype.i=function(c){return function(){return c}}({});function mi(c,y){ot.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}U(mi,ot),r=mi.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,jr(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Br(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,jr(this)),this.g&&(this.readyState=3,jr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;sl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function sl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Br(this):jr(this),this.readyState==3&&sl(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Br(this))},r.Qa=function(c){this.g&&(this.response=c,Br(this))},r.ga=function(){this.g&&Br(this)};function Br(c){c.readyState=4,c.l=null,c.j=null,c.v=null,jr(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function jr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(mi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function ol(c){let y="";return H(c,function(_,A){y+=A,y+=":",y+=_,y+=`\r
`}),y}function Zt(c,y,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=ol(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):yt(c,y,_))}function ht(c){ot.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}U(ht,ot);var js=/^https?$/i,Za=["POST","PUT"];r=ht.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():tt.g(),this.v=this.o?ui(this.o):ui(tt),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(X){Fu(this,X);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var B in A)_.set(B,A[B]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const X of A.keys())_.set(X,A.get(X));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(X=>X.toLowerCase()=="content-type"),B=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Za,y,void 0))||A||B||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,de]of _)this.g.setRequestHeader(X,de);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ja(this),this.u=!0,this.g.send(c),this.u=!1}catch(X){Fu(this,X)}};function Fu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Hs(c),Hr(c)}function Hs(c){c.A||(c.A=!0,Ge(c,"complete"),Ge(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ge(this,"complete"),Ge(this,"abort"),Hr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hr(this,!0)),ht.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?qs(this):this.bb())},r.bb=function(){qs(this)};function qs(c){if(c.h&&typeof f<"u"&&(!c.v[1]||ir(c)!=4||c.Z()!=2)){if(c.u&&ir(c)==4)zt(c.Ea,0,c);else if(Ge(c,"readystatechange"),ir(c)==4){c.h=!1;try{const de=c.Z();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var A;if(A=de===0){var B=String(c.D).match(Ka)[1]||null;!B&&m.self&&m.self.location&&(B=m.self.location.protocol.slice(0,-1)),A=!js.test(B?B.toLowerCase():"")}_=A}if(_)Ge(c,"complete"),Ge(c,"success");else{c.m=6;try{var X=2<ir(c)?c.g.statusText:""}catch{X=""}c.l=X+" ["+c.Z()+"]",Hs(c)}}finally{Hr(c)}}}}function Hr(c,y){if(c.g){Ja(c);const _=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Ge(c,"ready");try{_.onreadystatechange=A}catch{}}}function Ja(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function ir(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<ir(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),li(y)}};function Gu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function If(c){const y={};c=(c.g&&2<=ir(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(se(c[A]))continue;var _=P(c[A]);const B=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const X=y[B]||[];y[B]=X,X.push(_)}M(y,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function es(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function Fs(c){this.Aa=0,this.i=[],this.j=new ye,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=es("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=es("baseRetryDelayMs",5e3,c),this.cb=es("retryDelaySeedMs",1e4,c),this.Wa=es("forwardChannelMaxRetries",2,c),this.wa=es("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new sn(c&&c.concurrentRequestLimit),this.Da=new Wa,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Fs.prototype,r.la=8,r.G=1,r.connect=function(c,y,_,A){G(0),this.W=c,this.H=y||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=Zu(this,null,this.W),Ks(this)};function ll(c){if(Ku(c),c.G==3){var y=c.U++,_=Bn(c.I);if(yt(_,"SID",c.K),yt(_,"RID",y),yt(_,"TYPE","terminate"),ts(c,_),y=new lt(c,c.j,y),y.L=2,y.v=Ya(Bn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=Ju(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Un(y)}Wu(c)}function Gs(c){c.g&&(ns(c),c.g.cancel(),c.g=null)}function Ku(c){Gs(c),c.u&&(m.clearTimeout(c.u),c.u=null),Qs(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Ks(c){if(!St(c.h)&&!c.s){c.s=!0;var y=c.Ga;ce||O(),ge||(ce(),ge=!0),Be.add(y,c),c.B=0}}function Cf(c,y){return Er(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=le(w(c.Ga,c,y),hl(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const B=new lt(this,this.j,c);let X=this.o;if(this.S&&(X?(X=b(X),x(X,this.S)):X=this.S),this.m!==null||this.O||(B.H=X,X=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Qu(this,B,y),_=Bn(this.I),yt(_,"RID",c),yt(_,"CVER",22),this.D&&yt(_,"X-HTTP-Session-Id",this.D),ts(this,_),X&&(this.O?y="headers="+encodeURIComponent(String(ol(X)))+"&"+y:this.m&&Zt(_,this.m,X)),Ki(this.h,B),this.Ua&&yt(_,"TYPE","init"),this.P?(yt(_,"$req",y),yt(_,"SID","null"),B.T=!0,an(B,_,null)):an(B,_,y),this.G=2}}else this.G==3&&(c?ul(this,c):this.i.length==0||St(this.h)||ul(this))};function ul(c,y){var _;y?_=y.l:_=c.U++;const A=Bn(c.I);yt(A,"SID",c.K),yt(A,"RID",_),yt(A,"AID",c.T),ts(c,A),c.m&&c.o&&Zt(A,c.m,c.o),_=new lt(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Qu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ki(c.h,_),an(_,A,y)}function ts(c,y){c.H&&H(c.H,function(_,A){yt(y,A,_)}),c.l&&nl({},function(_,A){yt(y,A,_)})}function Qu(c,y,_){_=Math.min(c.i.length,_);var A=c.l?w(c.l.Na,c.l,c):null;e:{var B=c.i;let X=-1;for(;;){const de=["count="+_];X==-1?0<_?(X=B[0].g,de.push("ofs="+X)):X=0:de.push("ofs="+X);let nt=!0;for(let Kt=0;Kt<_;Kt++){let rt=B[Kt].g;const Jt=B[Kt].map;if(rt-=X,0>rt)X=Math.max(0,B[Kt].g-100),nt=!1;else try{zr(Jt,de,"req"+rt+"_")}catch{A&&A(Jt)}}if(nt){A=de.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,A}function Yu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ce||O(),ge||(ce(),ge=!0),Be.add(y,c),c.v=0}}function cl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=le(w(c.Fa,c),hl(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,$u(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=le(w(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,G(10),Gs(this),$u(this))};function ns(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function $u(c){c.g=new lt(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Bn(c.qa);yt(y,"RID","rpc"),yt(y,"SID",c.K),yt(y,"AID",c.T),yt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&yt(y,"TO",c.ja),yt(y,"TYPE","xmlhttp"),ts(c,y),c.m&&c.o&&Zt(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Ya(Bn(y)),_.m=null,_.P=!0,Wt(_,c)}r.Za=function(){this.C!=null&&(this.C=null,Gs(this),cl(this),G(19))};function Qs(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Xu(c,y){var _=null;if(c.g==y){Qs(c),ns(c),c.g=null;var A=2}else if(Gi(c.h,y))_=y.D,Cn(c.h,y),A=1;else return;if(c.G!=0){if(y.o)if(A==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var B=c.B;A=kr(),Ge(A,new ie(A,_)),Ks(c)}else Yu(c);else if(B=y.s,B==3||B==0&&0<y.X||!(A==1&&Cf(c,y)||A==2&&cl(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),B){case 1:pi(c,5);break;case 4:pi(c,10);break;case 3:pi(c,6);break;default:pi(c,2)}}}function hl(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function pi(c,y){if(c.j.info("Error code "+y),y==2){var _=w(c.fb,c),A=c.Xa;const B=!A;A=new Bt(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Qa(A,"https"),Ya(A),B?Xa(A.toString(),_):Tr(A.toString(),_)}else G(2);c.G=0,c.l&&c.l.sa(y),Wu(c),Ku(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),G(2)):(this.j.info("Failed to ping google.com"),G(1))};function Wu(c){if(c.G=0,c.ka=[],c.l){const y=tl(c.h);(y.length!=0||c.i.length!=0)&&(q(c.ka,y),q(c.ka,c.i),c.h.i.length=0,W(c.i),c.i.length=0),c.l.ra()}}function Zu(c,y,_){var A=_ instanceof Bt?Bn(_):new Bt(_);if(A.g!="")y&&(A.g=y+"."+A.g),Qi(A,A.s);else{var B=m.location;A=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;var X=new Bt(null);A&&Qa(X,A),y&&(X.g=y),B&&Qi(X,B),_&&(X.l=_),A=X}return _=c.D,y=c.ya,_&&y&&yt(A,_,y),yt(A,"VER",c.la),ts(c,A),A}function Ju(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new ht(new Yi({eb:_})):new ht(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ec(){}r=ec.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ys(){}Ys.prototype.g=function(c,y){return new Dn(c,y)};function Dn(c,y){ot.call(this),this.g=new Fs(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!se(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!se(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new qr(this)}U(Dn,ot),Dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Dn.prototype.close=function(){ll(this.g)},Dn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=kn(c),c=_);y.i.push(new vr(y.Ya++,c)),y.G==3&&Ks(y)},Dn.prototype.N=function(){this.g.l=null,delete this.j,ll(this.g),delete this.g,Dn.aa.N.call(this)};function tc(c){_r.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}U(tc,_r);function nc(){Hi.call(this),this.status=1}U(nc,Hi);function qr(c){this.g=c}U(qr,ec),qr.prototype.ua=function(){Ge(this.g,"a")},qr.prototype.ta=function(c){Ge(this.g,new tc(c))},qr.prototype.sa=function(c){Ge(this.g,new nc)},qr.prototype.ra=function(){Ge(this.g,"b")},Ys.prototype.createWebChannel=Ys.prototype.g,Dn.prototype.send=Dn.prototype.o,Dn.prototype.open=Dn.prototype.m,Dn.prototype.close=Dn.prototype.close,B0=function(){return new Ys},z0=function(){return kr()},U0=bn,Wm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ve.NO_ERROR=0,ve.TIMEOUT=8,ve.HTTP_ERROR=6,gh=ve,He.COMPLETE="complete",k0=He,Ga.EventType=Jn,Jn.OPEN="a",Jn.CLOSE="b",Jn.ERROR="c",Jn.MESSAGE="d",ot.prototype.listen=ot.prototype.K,su=Ga,ht.prototype.listenOnce=ht.prototype.L,ht.prototype.getLastError=ht.prototype.Ka,ht.prototype.getLastErrorCode=ht.prototype.Ba,ht.prototype.getStatus=ht.prototype.Z,ht.prototype.getResponseJson=ht.prototype.Oa,ht.prototype.getResponseText=ht.prototype.oa,ht.prototype.send=ht.prototype.ea,ht.prototype.setWithCredentials=ht.prototype.Ha,L0=ht}).apply(typeof sh<"u"?sh:typeof self<"u"?self:typeof window<"u"?window:{});const CE="@firebase/firestore",DE="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vn.UNAUTHENTICATED=new vn(null),vn.GOOGLE_CREDENTIALS=new vn("google-credentials-uid"),vn.FIRST_PARTY=new vn("first-party-uid"),vn.MOCK_USER=new vn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qo="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs=new Cp("@firebase/firestore");function bo(){return Cs.logLevel}function _e(r,...e){if(Cs.logLevel<=We.DEBUG){const n=e.map(Op);Cs.debug(`Firestore (${Qo}): ${r}`,...n)}}function Vi(r,...e){if(Cs.logLevel<=We.ERROR){const n=e.map(Op);Cs.error(`Firestore (${Qo}): ${r}`,...n)}}function Lo(r,...e){if(Cs.logLevel<=We.WARN){const n=e.map(Op);Cs.warn(`Firestore (${Qo}): ${r}`,...n)}}function Op(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(r,e,n){let a="Unexpected state";typeof e=="string"?a=e:n=e,j0(r,a,n)}function j0(r,e,n){let a=`FIRESTORE (${Qo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw Vi(a),new Error(a)}function ft(r,e,n,a){let o="Unexpected state";typeof n=="string"?o=n:a=n,r||j0(e,o,a)}function ze(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends ki{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class PC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(vn.UNAUTHENTICATED))}shutdown(){}}class LC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class kC{constructor(e){this.t=e,this.currentUser=vn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ft(this.o===void 0,42304);let a=this.i;const o=p=>this.i!==a?(a=this.i,n(p)):Promise.resolve();let u=new Mi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Mi,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Mi)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(a=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(ft(typeof a.accessToken=="string",31837,{l:a}),new H0(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ft(e===null||typeof e=="string",2055,{h:e}),new vn(e)}}class UC{constructor(e,n,a){this.P=e,this.T=n,this.I=a,this.type="FirstParty",this.user=vn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class zC{constructor(e,n,a){this.P=e,this.T=n,this.I=a}getToken(){return Promise.resolve(new UC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(vn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class NE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,br(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ft(this.o===void 0,3512);const a=u=>{u.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,_e("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>a(u))};const o=u=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new NE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ft(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new NE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jC(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<r;a++)n[a]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=jC(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<n&&(a+=e.charAt(o[u]%62))}return a}}function Ze(r,e){return r<e?-1:r>e?1:0}function Zm(r,e){const n=Math.min(r.length,e.length);for(let a=0;a<n;a++){const o=r.charAt(a),u=e.charAt(a);if(o!==u)return Pm(o)===Pm(u)?Ze(o,u):Pm(o)?1:-1}return Ze(r.length,e.length)}const HC=55296,qC=57343;function Pm(r){const e=r.charCodeAt(0);return e>=HC&&e<=qC}function ko(r,e,n){return r.length===e.length&&r.every((a,o)=>n(a,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE="__name__";class Xr{constructor(e,n,a){n===void 0?n=0:n>e.length&&Pe(637,{offset:n,range:e.length}),a===void 0?a=e.length-n:a>e.length-n&&Pe(1746,{length:a,range:e.length-n}),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return Xr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Xr?e.forEach(a=>{n.push(a)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let o=0;o<a;o++){const u=Xr.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ze(e.length,n.length)}static compareSegments(e,n){const a=Xr.isNumericId(e),o=Xr.isNumericId(n);return a&&!o?-1:!a&&o?1:a&&o?Xr.extractNumericId(e).compare(Xr.extractNumericId(n)):Zm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ca.fromString(e.substring(4,e.length-2))}}class At extends Xr{construct(e,n,a){return new At(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new pe(ne.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter(o=>o.length>0))}return new At(n)}static emptyPath(){return new At([])}}const FC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fn extends Xr{construct(e,n,a){return new fn(e,n,a)}static isValidIdentifier(e){return FC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===OE}static keyField(){return new fn([OE])}static fromServerFormat(e){const n=[];let a="",o=0;const u=()=>{if(a.length===0)throw new pe(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new pe(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new pe(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(a+=m,o++):(u(),o++)}if(u(),f)throw new pe(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fn(n)}static emptyPath(){return new fn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(At.fromString(e))}static fromName(e){return new Ie(At.fromString(e).popFirst(5))}static empty(){return new Ie(At.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&At.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return At.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new At(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q0(r,e,n){if(!n)throw new pe(ne.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function GC(r,e,n,a){if(e===!0&&a===!0)throw new pe(ne.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function ME(r){if(!Ie.isDocumentKey(r))throw new pe(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function xE(r){if(Ie.isDocumentKey(r))throw new pe(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function F0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function rf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Pe(12329,{type:typeof r})}function pr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new pe(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=rf(r);throw new pe(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(r,e){const n={typeString:r};return e&&(n.value=e),n}function Vu(r,e){if(!F0(r))throw new pe(ne.INVALID_ARGUMENT,"JSON must be an object");let n;for(const a in e)if(e[a]){const o=e[a].typeString,u="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){n=`JSON missing required field: '${a}'`;break}const f=r[a];if(o&&typeof f!==o){n=`JSON field '${a}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${a}' field to equal '${u.value}'`;break}}if(n)throw new pe(ne.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE=-62135596800,PE=1e6;class Rt{static now(){return Rt.fromMillis(Date.now())}static fromDate(e){return Rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*PE);return new Rt(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<VE)throw new pe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/PE}_compareTo(e){return this.seconds===e.seconds?Ze(this.nanoseconds,e.nanoseconds):Ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Vu(e,Rt._jsonSchema))return new Rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-VE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Rt._jsonSchemaVersion="firestore/timestamp/1.0",Rt._jsonSchema={type:Gt("string",Rt._jsonSchemaVersion),seconds:Gt("number"),nanoseconds:Gt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{static fromTimestamp(e){return new Ue(e)}static min(){return new Ue(new Rt(0,0))}static max(){return new Ue(new Rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eu=-1;function KC(r,e){const n=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=Ue.fromTimestamp(a===1e9?new Rt(n+1,0):new Rt(n,a));return new Ma(o,Ie.empty(),e)}function QC(r){return new Ma(r.readTime,r.key,Eu)}class Ma{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new Ma(Ue.min(),Ie.empty(),Eu)}static max(){return new Ma(Ue.max(),Ie.empty(),Eu)}}function YC(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=Ie.comparator(r.documentKey,e.documentKey),n!==0?n:Ze(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class XC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yo(r){if(r.code!==ne.FAILED_PRECONDITION||r.message!==$C)throw r;_e("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Pe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ae((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(a,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ae?n:ae.resolve(n)}catch(n){return ae.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ae.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ae.reject(n)}static resolve(e){return new ae((n,a)=>{n(e)})}static reject(e){return new ae((n,a)=>{a(e)})}static waitFor(e){return new ae((n,a)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>a(p))}),f=!0,u===o&&n()})}static or(e){let n=ae.resolve(!1);for(const a of e)n=n.next(o=>o?ae.resolve(o):a());return n}static forEach(e,n){const a=[];return e.forEach((o,u)=>{a.push(n.call(this,o,u))}),this.waitFor(a)}static mapArray(e,n){return new ae((a,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next(v=>{f[g]=v,++m,m===u&&a(f)},v=>o(v))}})}static doWhile(e,n){return new ae((a,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):a()};u()})}}function WC(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function $o(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>n.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}af.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xp=-1;function sf(r){return r==null}function xh(r){return r===0&&1/r==-1/0}function ZC(r){return typeof r=="number"&&Number.isInteger(r)&&!xh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0="";function JC(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=LE(e)),e=e2(r.get(n),e);return LE(e)}function e2(r,e){let n=e;const a=r.length;for(let o=0;o<a;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case G0:n+="";break;default:n+=u}}return n}function LE(r){return r+G0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Ms(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function K0(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e,n){this.comparator=e,this.root=n||hn.EMPTY}insert(e,n){return new Nt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,hn.BLACK,null,null))}remove(e){return new Nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return n+a.left.size;o<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,a)=>(e(n,a),!1))}toString(){const e=[];return this.inorderTraversal((n,a)=>(e.push(`${n}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new oh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new oh(this.root,e,this.comparator,!1)}getReverseIterator(){return new oh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new oh(this.root,e,this.comparator,!0)}}class oh{constructor(e,n,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?a(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class hn{constructor(e,n,a,o,u){this.key=e,this.value=n,this.color=a??hn.RED,this.left=o??hn.EMPTY,this.right=u??hn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,o,u){return new hn(e??this.key,n??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let o=this;const u=a(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,a),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return hn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return hn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,hn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,hn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Pe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Pe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Pe(27949);return e+(this.isRed()?0:1)}}hn.EMPTY=null,hn.RED=!0,hn.BLACK=!1;hn.EMPTY=new class{constructor(){this.size=0}get key(){throw Pe(57766)}get value(){throw Pe(16141)}get color(){throw Pe(16727)}get left(){throw Pe(29726)}get right(){throw Pe(36894)}copy(e,n,a,o,u){return this}insert(e,n,a){return new hn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.comparator=e,this.data=new Nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,a)=>(e(n),!1))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new UE(this.data.getIterator())}getIteratorFrom(e){return new UE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(a=>{n=n.add(a)}),n}isEqual(e){if(!(e instanceof Xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Xt(this.comparator);return n.data=e,n}}class UE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e){this.fields=e,e.sort(fn.comparator)}static empty(){return new Rr([])}unionWith(e){let n=new Xt(fn.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new Rr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ko(this.fields,e.fields,(n,a)=>n.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Q0("Invalid base64 string: "+u):u}}(e);return new dn(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new dn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dn.EMPTY_BYTE_STRING=new dn("");const t2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xa(r){if(ft(!!r,39018),typeof r=="string"){let e=0;const n=t2.exec(r);if(ft(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Pt(r.seconds),nanos:Pt(r.nanos)}}function Pt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Va(r){return typeof r=="string"?dn.fromBase64String(r):dn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0="server_timestamp",$0="__type__",X0="__previous_value__",W0="__local_write_time__";function Vp(r){return(r?.mapValue?.fields||{})[$0]?.stringValue===Y0}function of(r){const e=r.mapValue.fields[X0];return Vp(e)?of(e):e}function Tu(r){const e=xa(r.mapValue.fields[W0].timestampValue);return new Rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e,n,a,o,u,f,m,p,g,v){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const Vh="(default)";class Su{constructor(e,n){this.projectId=e,this.database=n||Vh}static empty(){return new Su("","")}get isDefaultDatabase(){return this.database===Vh}isEqual(e){return e instanceof Su&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0="__type__",r2="__max__",lh={mapValue:{}},J0="__vector__",Ph="value";function Pa(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Vp(r)?4:a2(r)?9007199254740991:i2(r)?10:11:Pe(28295,{value:r})}function ii(r,e){if(r===e)return!0;const n=Pa(r);if(n!==Pa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Tu(r).isEqual(Tu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=xa(o.timestampValue),m=xa(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return Va(o.bytesValue).isEqual(Va(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return Pt(o.geoPointValue.latitude)===Pt(u.geoPointValue.latitude)&&Pt(o.geoPointValue.longitude)===Pt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Pt(o.integerValue)===Pt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Pt(o.doubleValue),m=Pt(u.doubleValue);return f===m?xh(f)===xh(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return ko(r.arrayValue.values||[],e.arrayValue.values||[],ii);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(kE(f)!==kE(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!ii(f[p],m[p])))return!1;return!0}(r,e);default:return Pe(52216,{left:r})}}function wu(r,e){return(r.values||[]).find(n=>ii(n,e))!==void 0}function Uo(r,e){if(r===e)return 0;const n=Pa(r),a=Pa(e);if(n!==a)return Ze(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ze(r.booleanValue,e.booleanValue);case 2:return function(u,f){const m=Pt(u.integerValue||u.doubleValue),p=Pt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return zE(r.timestampValue,e.timestampValue);case 4:return zE(Tu(r),Tu(e));case 5:return Zm(r.stringValue,e.stringValue);case 6:return function(u,f){const m=Va(u),p=Va(f);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const v=Ze(m[g],p[g]);if(v!==0)return v}return Ze(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Ze(Pt(u.latitude),Pt(f.latitude));return m!==0?m:Ze(Pt(u.longitude),Pt(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return BE(r.arrayValue,e.arrayValue);case 10:return function(u,f){const m=u.fields||{},p=f.fields||{},g=m[Ph]?.arrayValue,v=p[Ph]?.arrayValue,S=Ze(g?.values?.length||0,v?.values?.length||0);return S!==0?S:BE(g,v)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===lh.mapValue&&f===lh.mapValue)return 0;if(u===lh.mapValue)return 1;if(f===lh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let S=0;S<p.length&&S<v.length;++S){const w=Zm(p[S],v[S]);if(w!==0)return w;const D=Uo(m[p[S]],g[v[S]]);if(D!==0)return D}return Ze(p.length,v.length)}(r.mapValue,e.mapValue);default:throw Pe(23264,{he:n})}}function zE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ze(r,e);const n=xa(r),a=xa(e),o=Ze(n.seconds,a.seconds);return o!==0?o:Ze(n.nanos,a.nanos)}function BE(r,e){const n=r.values||[],a=e.values||[];for(let o=0;o<n.length&&o<a.length;++o){const u=Uo(n[o],a[o]);if(u)return u}return Ze(n.length,a.length)}function zo(r){return Jm(r)}function Jm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const a=xa(n);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Va(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return Ie.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let a="[",o=!0;for(const u of n.values||[])o?o=!1:a+=",",a+=Jm(u);return a+"]"}(r.arrayValue):"mapValue"in r?function(n){const a=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of a)u?u=!1:o+=",",o+=`${f}:${Jm(n.fields[f])}`;return o+"}"}(r.mapValue):Pe(61005,{value:r})}function yh(r){switch(Pa(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=of(r);return e?16+yh(e):16;case 5:return 2*r.stringValue.length;case 6:return Va(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,u)=>o+yh(u),0)}(r.arrayValue);case 10:case 11:return function(a){let o=0;return Ms(a.fields,(u,f)=>{o+=u.length+yh(f)}),o}(r.mapValue);default:throw Pe(13486,{value:r})}}function jE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function ep(r){return!!r&&"integerValue"in r}function Pp(r){return!!r&&"arrayValue"in r}function HE(r){return!!r&&"nullValue"in r}function qE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function _h(r){return!!r&&"mapValue"in r}function i2(r){return(r?.mapValue?.fields||{})[Z0]?.stringValue===J0}function hu(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Ms(r.mapValue.fields,(n,a)=>e.mapValue.fields[n]=hu(a)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=hu(r.arrayValue.values[n]);return e}return{...r}}function a2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===r2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e){this.value=e}static empty(){return new dr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!_h(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=hu(n)}setAll(e){let n=fn.emptyPath(),a={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,a,o),a={},o=[],n=m.popLast()}f?a[m.lastSegment()]=hu(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,a,o)}delete(e){const n=this.field(e.popLast());_h(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ii(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=n.mapValue.fields[e.get(a)];_h(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,a){Ms(n,(o,u)=>e[o]=u);for(const o of a)delete e[o]}clone(){return new dr(hu(this.value))}}function eS(r){const e=[];return Ms(r.fields,(n,a)=>{const o=new fn([n]);if(_h(a)){const u=eS(a.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new Rr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e,n,a,o,u,f,m){this.key=e,this.documentType=n,this.version=a,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new En(e,0,Ue.min(),Ue.min(),Ue.min(),dr.empty(),0)}static newFoundDocument(e,n,a,o){return new En(e,1,n,Ue.min(),a,o,0)}static newNoDocument(e,n){return new En(e,2,n,Ue.min(),Ue.min(),dr.empty(),0)}static newUnknownDocument(e,n){return new En(e,3,n,Ue.min(),Ue.min(),dr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof En&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new En(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,n){this.position=e,this.inclusive=n}}function FE(r,e,n){let a=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?a=Ie.comparator(Ie.fromName(f.referenceValue),n.key):a=Uo(f,n.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function GE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!ii(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e,n="asc"){this.field=e,this.dir=n}}function s2(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{}class Ft extends tS{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new l2(e,n,a):n==="array-contains"?new h2(e,a):n==="in"?new f2(e,a):n==="not-in"?new d2(e,a):n==="array-contains-any"?new m2(e,a):new Ft(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new u2(e,a):new c2(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Uo(n,this.value)):n!==null&&Pa(this.value)===Pa(n)&&this.matchesComparison(Uo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Pe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Dr extends tS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Dr(e,n)}matches(e){return nS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function nS(r){return r.op==="and"}function rS(r){return o2(r)&&nS(r)}function o2(r){for(const e of r.filters)if(e instanceof Dr)return!1;return!0}function tp(r){if(r instanceof Ft)return r.field.canonicalString()+r.op.toString()+zo(r.value);if(rS(r))return r.filters.map(e=>tp(e)).join(",");{const e=r.filters.map(n=>tp(n)).join(",");return`${r.op}(${e})`}}function iS(r,e){return r instanceof Ft?function(a,o){return o instanceof Ft&&a.op===o.op&&a.field.isEqual(o.field)&&ii(a.value,o.value)}(r,e):r instanceof Dr?function(a,o){return o instanceof Dr&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((u,f,m)=>u&&iS(f,o.filters[m]),!0):!1}(r,e):void Pe(19439)}function aS(r){return r instanceof Ft?function(n){return`${n.field.canonicalString()} ${n.op} ${zo(n.value)}`}(r):r instanceof Dr?function(n){return n.op.toString()+" {"+n.getFilters().map(aS).join(" ,")+"}"}(r):"Filter"}class l2 extends Ft{constructor(e,n,a){super(e,n,a),this.key=Ie.fromName(a.referenceValue)}matches(e){const n=Ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class u2 extends Ft{constructor(e,n){super(e,"in",n),this.keys=sS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class c2 extends Ft{constructor(e,n){super(e,"not-in",n),this.keys=sS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function sS(r,e){return(e.arrayValue?.values||[]).map(n=>Ie.fromName(n.referenceValue))}class h2 extends Ft{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Pp(n)&&wu(n.arrayValue,this.value)}}class f2 extends Ft{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&wu(this.value.arrayValue,n)}}class d2 extends Ft{constructor(e,n){super(e,"not-in",n)}matches(e){if(wu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!wu(this.value.arrayValue,n)}}class m2 extends Ft{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Pp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(a=>wu(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e,n=null,a=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function KE(r,e=null,n=[],a=[],o=null,u=null,f=null){return new p2(r,e,n,a,o,u,f)}function Lp(r){const e=ze(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(a=>tp(a)).join(","),n+="|ob:",n+=e.orderBy.map(a=>function(u){return u.field.canonicalString()+u.dir}(a)).join(","),sf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(a=>zo(a)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(a=>zo(a)).join(",")),e.Te=n}return e.Te}function kp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!s2(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!iS(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!GE(r.startAt,e.startAt)&&GE(r.endAt,e.endAt)}function np(r){return Ie.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e,n=null,a=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function g2(r,e,n,a,o,u,f,m){return new Xo(r,e,n,a,o,u,f,m)}function lf(r){return new Xo(r)}function QE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function oS(r){return r.collectionGroup!==null}function fu(r){const e=ze(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Xt(fn.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Au(u,a))}),n.has(fn.keyField().canonicalString())||e.Ie.push(new Au(fn.keyField(),a))}return e.Ie}function Zr(r){const e=ze(r);return e.Ee||(e.Ee=y2(e,fu(r))),e.Ee}function y2(r,e){if(r.limitType==="F")return KE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Au(o.field,u)});const n=r.endAt?new Lh(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Lh(r.startAt.position,r.startAt.inclusive):null;return KE(r.path,r.collectionGroup,e,r.filters,r.limit,n,a)}}function rp(r,e){const n=r.filters.concat([e]);return new Xo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function ip(r,e,n){return new Xo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function uf(r,e){return kp(Zr(r),Zr(e))&&r.limitType===e.limitType}function lS(r){return`${Lp(Zr(r))}|lt:${r.limitType}`}function Ro(r){return`Query(target=${function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map(o=>aS(o)).join(", ")}]`),sf(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map(o=>zo(o)).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map(o=>zo(o)).join(",")),`Target(${a})`}(Zr(r))}; limitType=${r.limitType})`}function cf(r,e){return e.isFoundDocument()&&function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):Ie.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)}(r,e)&&function(a,o){for(const u of fu(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(a,o){return!(a.startAt&&!function(f,m,p){const g=FE(f,m,p);return f.inclusive?g<=0:g<0}(a.startAt,fu(a),o)||a.endAt&&!function(f,m,p){const g=FE(f,m,p);return f.inclusive?g>=0:g>0}(a.endAt,fu(a),o))}(r,e)}function _2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function uS(r){return(e,n)=>{let a=!1;for(const o of fu(r)){const u=v2(o,e,n);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function v2(r,e,n){const a=r.field.isKeyField()?Ie.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?Uo(p,g):Pe(42886)}(r.field,e,n);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Pe(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[n]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ms(this.inner,(n,a)=>{for(const[o,u]of a)e(o,u)})}isEmpty(){return K0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2=new Nt(Ie.comparator);function Pi(){return E2}const cS=new Nt(Ie.comparator);function ou(...r){let e=cS;for(const n of r)e=e.insert(n.key,n);return e}function hS(r){let e=cS;return r.forEach((n,a)=>e=e.insert(n,a.overlayedDocument)),e}function Es(){return du()}function fS(){return du()}function du(){return new xs(r=>r.toString(),(r,e)=>r.isEqual(e))}const T2=new Nt(Ie.comparator),S2=new Xt(Ie.comparator);function Je(...r){let e=S2;for(const n of r)e=e.add(n);return e}const w2=new Xt(Ze);function A2(){return w2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Up(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xh(e)?"-0":e}}function dS(r){return{integerValue:""+r}}function b2(r,e){return ZC(e)?dS(e):Up(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(){this._=void 0}}function R2(r,e,n){return r instanceof kh?function(o,u){const f={fields:{[$0]:{stringValue:Y0},[W0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Vp(u)&&(u=of(u)),u&&(f.fields[X0]=u),{mapValue:f}}(n,e):r instanceof bu?pS(r,e):r instanceof Ru?gS(r,e):function(o,u){const f=mS(o,u),m=YE(f)+YE(o.Ae);return ep(f)&&ep(o.Ae)?dS(m):Up(o.serializer,m)}(r,e)}function I2(r,e,n){return r instanceof bu?pS(r,e):r instanceof Ru?gS(r,e):n}function mS(r,e){return r instanceof Uh?function(a){return ep(a)||function(u){return!!u&&"doubleValue"in u}(a)}(e)?e:{integerValue:0}:null}class kh extends hf{}class bu extends hf{constructor(e){super(),this.elements=e}}function pS(r,e){const n=yS(e);for(const a of r.elements)n.some(o=>ii(o,a))||n.push(a);return{arrayValue:{values:n}}}class Ru extends hf{constructor(e){super(),this.elements=e}}function gS(r,e){let n=yS(e);for(const a of r.elements)n=n.filter(o=>!ii(o,a));return{arrayValue:{values:n}}}class Uh extends hf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function YE(r){return Pt(r.integerValue||r.doubleValue)}function yS(r){return Pp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function C2(r,e){return r.field.isEqual(e.field)&&function(a,o){return a instanceof bu&&o instanceof bu||a instanceof Ru&&o instanceof Ru?ko(a.elements,o.elements,ii):a instanceof Uh&&o instanceof Uh?ii(a.Ae,o.Ae):a instanceof kh&&o instanceof kh}(r.transform,e.transform)}class D2{constructor(e,n){this.version=e,this.transformResults=n}}class Cr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Cr}static exists(e){return new Cr(void 0,e)}static updateTime(e){return new Cr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class ff{}function _S(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new zp(r.key,Cr.none()):new Pu(r.key,r.data,Cr.none());{const n=r.data,a=dr.empty();let o=new Xt(fn.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?a.delete(u):a.set(u,f),o=o.add(u)}return new Vs(r.key,a,new Rr(o.toArray()),Cr.none())}}function N2(r,e,n){r instanceof Pu?function(o,u,f){const m=o.value.clone(),p=XE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,n):r instanceof Vs?function(o,u,f){if(!vh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=XE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(vS(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function mu(r,e,n,a){return r instanceof Pu?function(u,f,m,p){if(!vh(u.precondition,f))return m;const g=u.value.clone(),v=WE(u.fieldTransforms,p,f);return g.setAll(v),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(r,e,n,a):r instanceof Vs?function(u,f,m,p){if(!vh(u.precondition,f))return m;const g=WE(u.fieldTransforms,p,f),v=f.data;return v.setAll(vS(u)),v.setAll(g),f.convertToFoundDocument(f.version,v).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(S=>S.field))}(r,e,n,a):function(u,f,m){return vh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,n)}function O2(r,e){let n=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),u=mS(a.transform,o||null);u!=null&&(n===null&&(n=dr.empty()),n.set(a.field,u))}return n||null}function $E(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&ko(a,o,(u,f)=>C2(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Pu extends ff{constructor(e,n,a,o=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Vs extends ff{constructor(e,n,a,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function vS(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const a=r.data.field(n);e.set(n,a)}}),e}function XE(r,e,n){const a=new Map;ft(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);a.set(u.field,I2(f,m,n[o]))}return a}function WE(r,e,n){const a=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);a.set(o.field,R2(u,f,e))}return a}class zp extends ff{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class M2 extends ff{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e,n,a,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&N2(u,e,a[o])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=mu(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=mu(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=fS();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=_S(f,m);p!==null&&a.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Ue.min())}),a}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Je())}isEqual(e){return this.batchId===e.batchId&&ko(this.mutations,e.mutations,(n,a)=>$E(n,a))&&ko(this.baseMutations,e.baseMutations,(n,a)=>$E(n,a))}}class Bp{constructor(e,n,a,o){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=o}static from(e,n,a){ft(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=function(){return T2}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,a[f].version);return new Bp(e,n,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt,at;function L2(r){switch(r){case ne.OK:return Pe(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Pe(15467,{code:r})}}function ES(r){if(r===void 0)return Vi("GRPC error has no .code"),ne.UNKNOWN;switch(r){case qt.OK:return ne.OK;case qt.CANCELLED:return ne.CANCELLED;case qt.UNKNOWN:return ne.UNKNOWN;case qt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case qt.INTERNAL:return ne.INTERNAL;case qt.UNAVAILABLE:return ne.UNAVAILABLE;case qt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case qt.NOT_FOUND:return ne.NOT_FOUND;case qt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case qt.ABORTED:return ne.ABORTED;case qt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case qt.DATA_LOSS:return ne.DATA_LOSS;default:return Pe(39323,{code:r})}}(at=qt||(qt={}))[at.OK=0]="OK",at[at.CANCELLED=1]="CANCELLED",at[at.UNKNOWN=2]="UNKNOWN",at[at.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",at[at.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",at[at.NOT_FOUND=5]="NOT_FOUND",at[at.ALREADY_EXISTS=6]="ALREADY_EXISTS",at[at.PERMISSION_DENIED=7]="PERMISSION_DENIED",at[at.UNAUTHENTICATED=16]="UNAUTHENTICATED",at[at.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",at[at.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",at[at.ABORTED=10]="ABORTED",at[at.OUT_OF_RANGE=11]="OUT_OF_RANGE",at[at.UNIMPLEMENTED=12]="UNIMPLEMENTED",at[at.INTERNAL=13]="INTERNAL",at[at.UNAVAILABLE=14]="UNAVAILABLE",at[at.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2=new Ca([4294967295,4294967295],0);function ZE(r){const e=k2().encode(r),n=new P0;return n.update(e),new Uint8Array(n.digest())}function JE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Ca([n,a],0),new Ca([o,u],0)]}class jp{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new lu(`Invalid padding: ${n}`);if(a<0)throw new lu(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new lu(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new lu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ca.fromNumber(this.ge)}ye(e,n,a){let o=e.add(n.multiply(Ca.fromNumber(a)));return o.compare(U2)===1&&(o=new Ca([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=ZE(e),[a,o]=JE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(a,o,u);if(!this.we(f))return!1}return!0}static create(e,n,a){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new jp(u,o,n);return a.forEach(m=>f.insert(m)),f}insert(e){if(this.ge===0)return;const n=ZE(e),[a,o]=JE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(a,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class lu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e,n,a,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const o=new Map;return o.set(e,Lu.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new df(Ue.min(),o,new Nt(Ze),Pi(),Je())}}class Lu{constructor(e,n,a,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new Lu(a,n,Je(),Je(),Je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,n,a,o){this.be=e,this.removedTargetIds=n,this.key=a,this.De=o}}class TS{constructor(e,n){this.targetId=e,this.Ce=n}}class SS{constructor(e,n,a=dn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=o}}class eT{constructor(){this.ve=0,this.Fe=tT(),this.Me=dn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Je(),n=Je(),a=Je();return this.Fe.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:a=a.add(o);break;default:Pe(38017,{changeType:u})}}),new Lu(this.Me,this.xe,e,n,a)}qe(){this.Oe=!1,this.Fe=tT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ft(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class z2{constructor(e){this.Ge=e,this.ze=new Map,this.je=Pi(),this.Je=uh(),this.He=uh(),this.Ye=new Nt(Ze)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const a=this.nt(n);switch(e.state){case 0:this.rt(n)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),a.Le(e.resumeToken));break;default:Pe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((a,o)=>{this.rt(o)&&n(o)})}st(e){const n=e.targetId,a=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(np(u))if(a===0){const f=new Ie(u.path);this.et(n,f,En.newNoDocument(f,Ue.min()))}else ft(a===1,20013,{expectedCount:a});else{const f=this._t(n);if(f!==a){const m=this.ut(e),p=m?this.ct(m,e,f):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Va(a).toUint8Array()}catch(p){if(p instanceof Q0)return Lo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new jp(f,o,u)}catch(p){return Lo(p instanceof lu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,a){return n.Ce.count===a-this.Pt(e,n.targetId)?0:2}Pt(e,n){const a=this.Ge.getRemoteKeysForTarget(n);let o=0;return a.forEach(u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)}),o}Tt(e){const n=new Map;this.ze.forEach((u,f)=>{const m=this.ot(f);if(m){if(u.current&&np(m.target)){const p=new Ie(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,En.newNoDocument(p,e))}u.Be&&(n.set(f,u.ke()),u.qe())}});let a=Je();this.He.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(a=a.add(u))}),this.je.forEach((u,f)=>f.setReadTime(e));const o=new df(e,n,this.Ye,this.je,a);return this.je=Pi(),this.Je=uh(),this.He=uh(),this.Ye=new Nt(Ze),o}Xe(e,n){if(!this.rt(e))return;const a=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,a),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),a&&(this.je=this.je.insert(n,a))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new eT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Xt(Ze),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Xt(Ze),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||_e("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new eT),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function uh(){return new Nt(Ie.comparator)}function tT(){return new Nt(Ie.comparator)}const B2={asc:"ASCENDING",desc:"DESCENDING"},j2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},H2={and:"AND",or:"OR"};class q2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ap(r,e){return r.useProto3Json||sf(e)?e:{value:e}}function zh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wS(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function F2(r,e){return zh(r,e.toTimestamp())}function Jr(r){return ft(!!r,49232),Ue.fromTimestamp(function(n){const a=xa(n);return new Rt(a.seconds,a.nanos)}(r))}function Hp(r,e){return sp(r,e).canonicalString()}function sp(r,e){const n=function(o){return new At(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function AS(r){const e=At.fromString(r);return ft(DS(e),10190,{key:e.toString()}),e}function op(r,e){return Hp(r.databaseId,e.path)}function Lm(r,e){const n=AS(e);if(n.get(1)!==r.databaseId.projectId)throw new pe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new pe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Ie(RS(n))}function bS(r,e){return Hp(r.databaseId,e)}function G2(r){const e=AS(r);return e.length===4?At.emptyPath():RS(e)}function lp(r){return new At(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function RS(r){return ft(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function nT(r,e,n){return{name:op(r,e),fields:n.value.mapValue.fields}}function K2(r,e){let n;if("targetChange"in e){e.targetChange;const a=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Pe(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,v){return g.useProto3Json?(ft(v===void 0||typeof v=="string",58123),dn.fromBase64String(v||"")):(ft(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),dn.fromUint8Array(v||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(g){const v=g.code===void 0?ne.UNKNOWN:ES(g.code);return new pe(v,g.message||"")}(f);n=new SS(a,o,u,m||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Lm(r,a.document.name),u=Jr(a.document.updateTime),f=a.document.createTime?Jr(a.document.createTime):Ue.min(),m=new dr({mapValue:{fields:a.document.fields}}),p=En.newFoundDocument(o,u,f,m),g=a.targetIds||[],v=a.removedTargetIds||[];n=new Eh(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Lm(r,a.document),u=a.readTime?Jr(a.readTime):Ue.min(),f=En.newNoDocument(o,u),m=a.removedTargetIds||[];n=new Eh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Lm(r,a.document),u=a.removedTargetIds||[];n=new Eh([],u,o,null)}else{if(!("filter"in e))return Pe(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,f=new P2(o,u),m=a.targetId;n=new TS(m,f)}}return n}function Q2(r,e){let n;if(e instanceof Pu)n={update:nT(r,e.key,e.value)};else if(e instanceof zp)n={delete:op(r,e.key)};else if(e instanceof Vs)n={update:nT(r,e.key,e.data),updateMask:nD(e.fieldMask)};else{if(!(e instanceof M2))return Pe(16599,{Vt:e.type});n={verify:op(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(a=>function(u,f){const m=f.transform;if(m instanceof kh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof bu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Ru)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Uh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Pe(20930,{transform:f.transform})}(0,a))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:F2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Pe(27497)}(r,e.precondition)),n}function Y2(r,e){return r&&r.length>0?(ft(e!==void 0,14353),r.map(n=>function(o,u){let f=o.updateTime?Jr(o.updateTime):Jr(u);return f.isEqual(Ue.min())&&(f=Jr(u)),new D2(f,o.transformResults||[])}(n,e))):[]}function $2(r,e){return{documents:[bS(r,e.path)]}}function X2(r,e){const n={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=bS(r,o);const u=function(g){if(g.length!==0)return CS(Dr.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(v=>function(w){return{field:Io(w.field),direction:J2(w.dir)}}(v))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=ap(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ft:n,parent:o}}function W2(r){let e=G2(r.parent);const n=r.structuredQuery,a=n.from?n.from.length:0;let o=null;if(a>0){ft(a===1,65062);const v=n.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let u=[];n.where&&(u=function(S){const w=IS(S);return w instanceof Dr&&rS(w)?w.getFilters():[w]}(n.where));let f=[];n.orderBy&&(f=function(S){return S.map(w=>function(U){return new Au(Co(U.field),function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(U.direction))}(w))}(n.orderBy));let m=null;n.limit&&(m=function(S){let w;return w=typeof S=="object"?S.value:S,sf(w)?null:w}(n.limit));let p=null;n.startAt&&(p=function(S){const w=!!S.before,D=S.values||[];return new Lh(D,w)}(n.startAt));let g=null;return n.endAt&&(g=function(S){const w=!S.before,D=S.values||[];return new Lh(D,w)}(n.endAt)),g2(e,o,f,u,m,"F",p,g)}function Z2(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pe(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function IS(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=Co(n.unaryFilter.field);return Ft.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Co(n.unaryFilter.field);return Ft.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Co(n.unaryFilter.field);return Ft.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Co(n.unaryFilter.field);return Ft.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Pe(61313);default:return Pe(60726)}}(r):r.fieldFilter!==void 0?function(n){return Ft.create(Co(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Pe(58110);default:return Pe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Dr.create(n.compositeFilter.filters.map(a=>IS(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Pe(1026)}}(n.compositeFilter.op))}(r):Pe(30097,{filter:r})}function J2(r){return B2[r]}function eD(r){return j2[r]}function tD(r){return H2[r]}function Io(r){return{fieldPath:r.canonicalString()}}function Co(r){return fn.fromServerFormat(r.fieldPath)}function CS(r){return r instanceof Ft?function(n){if(n.op==="=="){if(qE(n.value))return{unaryFilter:{field:Io(n.field),op:"IS_NAN"}};if(HE(n.value))return{unaryFilter:{field:Io(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(qE(n.value))return{unaryFilter:{field:Io(n.field),op:"IS_NOT_NAN"}};if(HE(n.value))return{unaryFilter:{field:Io(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Io(n.field),op:eD(n.op),value:n.value}}}(r):r instanceof Dr?function(n){const a=n.getFilters().map(o=>CS(o));return a.length===1?a[0]:{compositeFilter:{op:tD(n.op),filters:a}}}(r):Pe(54877,{filter:r})}function nD(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function DS(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,n,a,o,u=Ue.min(),f=Ue.min(),m=dn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Aa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Aa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Aa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Aa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(e){this.yt=e}}function iD(r){const e=W2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?ip(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(){this.Cn=new sD}addToCollectionParentIndex(e,n){return this.Cn.add(n),ae.resolve()}getCollectionParents(e,n){return ae.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ae.resolve()}deleteFieldIndex(e,n){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,n){return ae.resolve()}getDocumentsMatchingTarget(e,n){return ae.resolve(null)}getIndexType(e,n){return ae.resolve(0)}getFieldIndexes(e,n){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,n){return ae.resolve(Ma.min())}getMinOffsetFromCollectionGroup(e,n){return ae.resolve(Ma.min())}updateCollectionGroup(e,n,a){return ae.resolve()}updateIndexEntries(e,n){return ae.resolve()}}class sD{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n]||new Xt(At.comparator),u=!o.has(a);return this.index[n]=o.add(a),u}has(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Xt(At.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},NS=41943040;class Pn{static withCacheSize(e){return new Pn(e,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pn.DEFAULT_COLLECTION_PERCENTILE=10,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pn.DEFAULT=new Pn(NS,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pn.DISABLED=new Pn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Bo(0)}static cr(){return new Bo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT="LruGarbageCollector",oD=1048576;function aT([r,e],[n,a]){const o=Ze(r,n);return o===0?Ze(e,a):o}class lD{constructor(e){this.Ir=e,this.buffer=new Xt(aT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();aT(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class uD{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){_e(iT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){$o(n)?_e(iT,"Ignoring IndexedDB error during garbage collection: ",n):await Yo(n)}await this.Vr(3e5)})}}class cD{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(a=>Math.floor(n/100*a))}nthSequenceNumber(e,n){if(n===0)return ae.resolve(af.ce);const a=new lD(n);return this.mr.forEachTarget(e,o=>a.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>a.Ar(o))).next(()=>a.maxValue)}removeTargets(e,n,a){return this.mr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(_e("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(rT)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rT):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let a,o,u,f,m,p,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(_e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(a=S,m=Date.now(),this.removeTargets(e,a,n))).next(S=>(u=S,p=Date.now(),this.removeOrphanedDocuments(e,a))).next(S=>(g=Date.now(),bo()<=We.DEBUG&&_e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-v}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${S} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S})))}}function hD(r,e){return new cD(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(){this.changes=new xs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,En.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?ae.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e,n,a,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(a=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(a!==null&&mu(a.mutation,o,Rr.empty(),Rt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.getLocalViewOfDocuments(e,a,Je()).next(()=>a))}getLocalViewOfDocuments(e,n,a=Je()){const o=Es();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,a).next(u=>{let f=ou();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const a=Es();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,Je()))}populateOverlays(e,n,a){const o=[];return a.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,a,o){let u=Pi();const f=du(),m=function(){return du()}();return n.forEach((p,g)=>{const v=a.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof Vs)?u=u.insert(g.key,g):v!==void 0?(f.set(g.key,v.mutation.getFieldMask()),mu(v.mutation,g,v.mutation.getFieldMask(),Rt.now())):f.set(g.key,Rr.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,v)=>f.set(g,v)),n.forEach((g,v)=>m.set(g,new dD(v,f.get(g)??null))),m))}recalculateAndSaveOverlays(e,n){const a=du();let o=new Nt((f,m)=>f-m),u=Je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let v=a.get(p)||Rr.empty();v=m.applyToLocalView(g,v),a.set(p,v);const S=(o.get(m.batchId)||Je()).add(p);o=o.insert(m.batchId,S)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,v=p.value,S=fS();v.forEach(w=>{if(!u.has(w)){const D=_S(n.get(w),a.get(w));D!==null&&S.set(w,D),u=u.add(w)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,S))}return ae.waitFor(f)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,n,a,o){return function(f){return Ie.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):oS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,o):this.getDocumentsMatchingCollectionQuery(e,n,a,o)}getNextDocuments(e,n,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,o-u.size):ae.resolve(Es());let m=Eu,p=u;return f.next(g=>ae.forEach(g,(v,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(v)?ae.resolve():this.remoteDocumentCache.getEntry(e,v).next(w=>{p=p.insert(v,w)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Je())).next(v=>({batchId:m,changes:hS(v)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ie(n)).next(a=>{let o=ou();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,a,o){const u=n.collectionGroup;let f=ou();return this.indexManager.getCollectionParents(e,u).next(m=>ae.forEach(m,p=>{const g=function(S,w){return new Xo(w,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,a,o).next(v=>{v.forEach((S,w)=>{f=f.insert(S,w)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,u,o))).next(f=>{u.forEach((p,g)=>{const v=g.getKey();f.get(v)===null&&(f=f.insert(v,En.newInvalidDocument(v)))});let m=ou();return f.forEach((p,g)=>{const v=u.get(p);v!==void 0&&mu(v.mutation,g,Rr.empty(),Rt.now()),cf(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ae.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Jr(o.createTime)}}(n)),ae.resolve()}getNamedQuery(e,n){return ae.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(o){return{name:o.name,query:iD(o.bundledQuery),readTime:Jr(o.readTime)}}(n)),ae.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(){this.overlays=new Nt(Ie.comparator),this.qr=new Map}getOverlay(e,n){return ae.resolve(this.overlays.get(n))}getOverlays(e,n){const a=Es();return ae.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&a.set(o,u)})).next(()=>a)}saveOverlays(e,n,a){return a.forEach((o,u)=>{this.St(e,n,u)}),ae.resolve()}removeOverlaysForBatchId(e,n,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.qr.delete(a)),ae.resolve()}getOverlaysForCollection(e,n,a){const o=Es(),u=n.length+1,f=new Ie(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>a&&o.set(p.getKey(),p)}return ae.resolve(o)}getOverlaysForCollectionGroup(e,n,a,o){let u=new Nt((g,v)=>g-v);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>a){let v=u.get(g.largestBatchId);v===null&&(v=Es(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const m=Es(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,v)=>m.set(g,v)),!(m.size()>=o)););return ae.resolve(m)}St(e,n,a){const o=this.overlays.get(a.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(a.key,new V2(n,a));let u=this.qr.get(n);u===void 0&&(u=Je(),this.qr.set(n,u)),this.qr.set(n,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(){this.sessionToken=dn.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ae.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(){this.Qr=new Xt(rn.$r),this.Ur=new Xt(rn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const a=new rn(e,n);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,n){e.forEach(a=>this.addReference(a,n))}removeReference(e,n){this.Gr(new rn(e,n))}zr(e,n){e.forEach(a=>this.removeReference(a,n))}jr(e){const n=new Ie(new At([])),a=new rn(n,e),o=new rn(n,e+1),u=[];return this.Ur.forEachInRange([a,o],f=>{this.Gr(f),u.push(f.key)}),u}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ie(new At([])),a=new rn(n,e),o=new rn(n,e+1);let u=Je();return this.Ur.forEachInRange([a,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new rn(e,0),a=this.Qr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class rn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ie.comparator(e.key,n.key)||Ze(e.Yr,n.Yr)}static Kr(e,n){return Ze(e.Yr,n.Yr)||Ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Xt(rn.$r)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new x2(u,n,a,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new rn(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ae.resolve(f)}lookupMutationBatch(e,n){return ae.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,o=this.ei(a),u=o<0?0:o;return ae.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?xp:this.tr-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new rn(n,0),o=new rn(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([a,o],f=>{const m=this.Xr(f.Yr);u.push(m)}),ae.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new Xt(Ze);return n.forEach(o=>{const u=new rn(o,0),f=new rn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],m=>{a=a.add(m.Yr)})}),ae.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,o=a.length+1;let u=a;Ie.isDocumentKey(u)||(u=u.child(""));const f=new rn(new Ie(u),0);let m=new Xt(Ze);return this.Zr.forEachWhile(p=>{const g=p.key.path;return!!a.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)},f),ae.resolve(this.ti(m))}ti(e){const n=[];return e.forEach(a=>{const o=this.Xr(a);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){ft(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return ae.forEach(n.mutations,o=>{const u=new rn(o.key,n.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=a})}ir(e){}containsKey(e,n){const a=new rn(n,0),o=this.Zr.firstAfterOrEqual(a);return ae.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e){this.ri=e,this.docs=function(){return new Nt(Ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,o=this.docs.get(a),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return ae.resolve(a?a.document.mutableCopy():En.newInvalidDocument(n))}getEntries(e,n){let a=Pi();return n.forEach(o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():En.newInvalidDocument(o))}),ae.resolve(a)}getDocumentsMatchingQuery(e,n,a,o){let u=Pi();const f=n.path,m=new Ie(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||YC(QC(v),a)<=0||(o.has(v.key)||cf(n,v))&&(u=u.insert(v.key,v.mutableCopy()))}return ae.resolve(u)}getAllFromCollectionGroup(e,n,a,o){Pe(9500)}ii(e,n){return ae.forEach(this.docs,a=>n(a))}newChangeBuffer(e){return new ED(this)}getSize(e){return ae.resolve(this.size)}}class ED extends fD{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)}),ae.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e){this.persistence=e,this.si=new xs(n=>Lp(n),kp),this.lastRemoteSnapshotVersion=Ue.min(),this.highestTargetId=0,this.oi=0,this._i=new qp,this.targetCount=0,this.ai=Bo.ur()}forEachTarget(e,n){return this.si.forEach((a,o)=>n(o)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.oi&&(this.oi=n),ae.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Bo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ae.resolve()}updateTargetData(e,n){return this.Pr(n),ae.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,n,a){let o=0;const u=[];return this.si.forEach((f,m)=>{m.sequenceNumber<=n&&a.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ae.waitFor(u).next(()=>o)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,n){const a=this.si.get(n)||null;return ae.resolve(a)}addMatchingKeys(e,n,a){return this._i.Wr(n,a),ae.resolve()}removeMatchingKeys(e,n,a){this._i.zr(n,a);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),ae.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ae.resolve()}getMatchingKeysForTargetId(e,n){const a=this._i.Hr(n);return ae.resolve(a)}containsKey(e,n){return ae.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(e,n){this.ui={},this.overlays={},this.ci=new af(0),this.li=!1,this.li=!0,this.hi=new yD,this.referenceDelegate=e(this),this.Pi=new TD(this),this.indexManager=new aD,this.remoteDocumentCache=function(o){return new vD(o)}(a=>this.referenceDelegate.Ti(a)),this.serializer=new rD(n),this.Ii=new pD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new gD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.ui[e.toKey()];return a||(a=new _D(n,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,a){_e("MemoryPersistence","Starting transaction:",e);const o=new SD(this.ci.next());return this.referenceDelegate.Ei(),a(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ai(e,n){return ae.or(Object.values(this.ui).map(a=>()=>a.containsKey(e,n)))}}class SD extends XC{constructor(e){super(),this.currentSequenceNumber=e}}class Fp{constructor(e){this.persistence=e,this.Ri=new qp,this.Vi=null}static mi(e){return new Fp(e)}get fi(){if(this.Vi)return this.Vi;throw Pe(60996)}addReference(e,n,a){return this.Ri.addReference(a,n),this.fi.delete(a.toString()),ae.resolve()}removeReference(e,n,a){return this.Ri.removeReference(a,n),this.fi.add(a.toString()),ae.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ae.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(o=>this.fi.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.fi.add(u.toString()))}).next(()=>a.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.fi,a=>{const o=Ie.fromPath(a);return this.gi(e,o).next(u=>{u||n.removeEntry(o,Ue.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(a=>{a?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return ae.or([()=>ae.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Bh{constructor(e,n){this.persistence=e,this.pi=new xs(a=>JC(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=hD(this,n)}static mi(e,n){return new Bh(e,n)}Ei(){}di(e){return ae.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>n.next(o=>a+o))}wr(e){let n=0;return this.pr(e,a=>{n++}).next(()=>n)}pr(e,n){return ae.forEach(this.pi,(a,o)=>this.br(e,a,o).next(u=>u?ae.resolve():n(o)))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,f=>this.br(e,f,n).next(m=>{m||(a++,u.removeEntry(f,Ue.min()))})).next(()=>u.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ae.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.pi.set(a,e.currentSequenceNumber),ae.resolve()}removeReference(e,n,a){return this.pi.set(a,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ae.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=yh(e.data.value)),n}br(e,n,a){return ae.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ae.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e,n,a,o){this.targetId=e,this.fromCache=n,this.Es=a,this.ds=o}static As(e,n){let a=Je(),o=Je();for(const u of n.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Gp(e,n.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return pI()?8:WC(Tn())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,a,o){const u={result:null};return this.ys(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ws(e,n,o,a).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new wD;return this.Ss(e,n,f).next(m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)})}).next(()=>u.result)}bs(e,n,a,o){return a.documentReadCount<this.fs?(bo()<=We.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",Ro(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ae.resolve()):(bo()<=We.DEBUG&&_e("QueryEngine","Query:",Ro(n),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(bo()<=We.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",Ro(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zr(n))):ae.resolve())}ys(e,n){if(QE(n))return ae.resolve(null);let a=Zr(n);return this.indexManager.getIndexType(e,a).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=ip(n,null,"F"),a=Zr(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next(u=>{const f=Je(...u);return this.ps.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,a).next(p=>{const g=this.Ds(n,m);return this.Cs(n,g,f,p.readTime)?this.ys(e,ip(n,null,"F")):this.vs(e,g,n,p)}))})))}ws(e,n,a,o){return QE(n)||o.isEqual(Ue.min())?ae.resolve(null):this.ps.getDocuments(e,a).next(u=>{const f=this.Ds(n,u);return this.Cs(n,f,a,o)?ae.resolve(null):(bo()<=We.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ro(n)),this.vs(e,f,n,KC(o,Eu)).next(m=>m))})}Ds(e,n){let a=new Xt(uS(e));return n.forEach((o,u)=>{cf(e,u)&&(a=a.add(u))}),a}Cs(e,n,a,o){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,a){return bo()<=We.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",Ro(n)),this.ps.getDocumentsMatchingQuery(e,n,Ma.min(),a)}vs(e,n,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kp="LocalStore",bD=3e8;class RD{constructor(e,n,a,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new Nt(Ze),this.xs=new xs(u=>Lp(u),kp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function ID(r,e,n,a){return new RD(r,e,n,a)}async function MS(r,e){const n=ze(r);return await n.persistence.runTransaction("Handle user change","readonly",a=>{let o;return n.mutationQueue.getAllMutationBatches(a).next(u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(a))).next(u=>{const f=[],m=[];let p=Je();for(const g of o){f.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){m.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return n.localDocuments.getDocuments(a,p).next(g=>({Ls:g,removedBatchIds:f,addedBatchIds:m}))})})}function CD(r,e){const n=ze(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return function(m,p,g,v){const S=g.batch,w=S.keys();let D=ae.resolve();return w.forEach(U=>{D=D.next(()=>v.getEntry(p,U)).next(W=>{const q=g.docVersions.get(U);ft(q!==null,48541),W.version.compareTo(q)<0&&(S.applyToRemoteDocument(W,g),W.isValidDocument()&&(W.setReadTime(g.commitVersion),v.addEntry(W)))})}),D.next(()=>m.mutationQueue.removeMutationBatch(p,S))}(n,a,e,u).next(()=>u.apply(a)).next(()=>n.mutationQueue.performConsistencyCheck(a)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(m){let p=Je();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>n.localDocuments.getDocuments(a,o))})}function xS(r){const e=ze(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function DD(r,e){const n=ze(r),a=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach((v,S)=>{const w=o.get(S);if(!w)return;m.push(n.Pi.removeMatchingKeys(u,v.removedDocuments,S).next(()=>n.Pi.addMatchingKeys(u,v.addedDocuments,S)));let D=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?D=D.withResumeToken(dn.EMPTY_BYTE_STRING,Ue.min()).withLastLimboFreeSnapshotVersion(Ue.min()):v.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(v.resumeToken,a)),o=o.insert(S,D),function(W,q,J){return W.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=bD?!0:J.addedDocuments.size+J.modifiedDocuments.size+J.removedDocuments.size>0}(w,D,v)&&m.push(n.Pi.updateTargetData(u,D))});let p=Pi(),g=Je();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,v))}),m.push(ND(u,f,e.documentUpdates).next(v=>{p=v.ks,g=v.qs})),!a.isEqual(Ue.min())){const v=n.Pi.getLastRemoteSnapshotVersion(u).next(S=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,a));m.push(v)}return ae.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.Ms=o,u))}function ND(r,e,n){let a=Je(),o=Je();return n.forEach(u=>a=a.add(u)),e.getEntries(r,a).next(u=>{let f=Pi();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ue.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):_e(Kp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{ks:f,qs:o}})}function OD(r,e){const n=ze(r);return n.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=xp),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function MD(r,e){const n=ze(r);return n.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return n.Pi.getTargetData(a,e).next(u=>u?(o=u,ae.resolve(o)):n.Pi.allocateTargetId(a).next(f=>(o=new Aa(e,f,"TargetPurposeListen",a.currentSequenceNumber),n.Pi.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=n.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(a.targetId,a),n.xs.set(e,a.targetId)),a})}async function up(r,e,n){const a=ze(r),o=a.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",u,f=>a.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!$o(f))throw f;_e(Kp,`Failed to update sequence numbers for target ${e}: ${f}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function sT(r,e,n){const a=ze(r);let o=Ue.min(),u=Je();return a.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,v){const S=ze(p),w=S.xs.get(v);return w!==void 0?ae.resolve(S.Ms.get(w)):S.Pi.getTargetData(g,v)}(a,f,Zr(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>a.Fs.getDocumentsMatchingQuery(f,e,n?o:Ue.min(),n?u:Je())).next(m=>(xD(a,_2(e),m),{documents:m,Qs:u})))}function xD(r,e,n){let a=r.Os.get(e)||Ue.min();n.forEach((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)}),r.Os.set(e,a)}class oT{constructor(){this.activeTargetIds=A2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class VD{constructor(){this.Mo=new oT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,a){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new oT,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT="ConnectivityMonitor";class uT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){_e(lT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){_e(lT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ch=null;function cp(){return ch===null?ch=function(){return 268435456+Math.round(2147483648*Math.random())}():ch++,"0x"+ch.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km="RestConnection",LD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class kD{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===Vh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,n,a,o,u){const f=cp(),m=this.zo(e,n.toUriEncodedString());_e(km,`Sending RPC '${e}' ${f}:`,m,a);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),v=Go(g);return this.Jo(e,m,p,a,v).then(S=>(_e(km,`Received RPC '${e}' ${f}: `,S),S),S=>{throw Lo(km,`RPC '${e}' ${f} failed with error: `,S,"url: ",m,"request:",a),S})}Ho(e,n,a,o,u,f){return this.Go(e,n,a,o,u)}jo(e,n,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Qo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),a&&a.headers.forEach((o,u)=>e[u]=o)}zo(e,n){const a=LD[e];return`${this.Uo}/v1/${n}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _n="WebChannelConnection";class zD extends kD{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,a,o,u){const f=cp();return new Promise((m,p)=>{const g=new L0;g.setWithCredentials(!0),g.listenOnce(k0.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case gh.NO_ERROR:const S=g.getResponseJson();_e(_n,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(S)),m(S);break;case gh.TIMEOUT:_e(_n,`RPC '${e}' ${f} timed out`),p(new pe(ne.DEADLINE_EXCEEDED,"Request time out"));break;case gh.HTTP_ERROR:const w=g.getStatus();if(_e(_n,`RPC '${e}' ${f} failed with status:`,w,"response text:",g.getResponseText()),w>0){let D=g.getResponseJson();Array.isArray(D)&&(D=D[0]);const U=D?.error;if(U&&U.status&&U.message){const W=function(J){const se=J.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(se)>=0?se:ne.UNKNOWN}(U.status);p(new pe(W,U.message))}else p(new pe(ne.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new pe(ne.UNAVAILABLE,"Connection failed."));break;default:Pe(9055,{l_:e,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{_e(_n,`RPC '${e}' ${f} completed.`)}});const v=JSON.stringify(o);_e(_n,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",v,a,15)})}T_(e,n,a){const o=cp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=B0(),m=z0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,a),p.encodeInitMessageHeaders=!0;const v=u.join("");_e(_n,`Creating RPC '${e}' stream ${o}: ${v}`,p);const S=f.createWebChannel(v,p);this.I_(S);let w=!1,D=!1;const U=new UD({Yo:q=>{D?_e(_n,`Not sending because RPC '${e}' stream ${o} is closed:`,q):(w||(_e(_n,`Opening RPC '${e}' stream ${o} transport.`),S.open(),w=!0),_e(_n,`RPC '${e}' stream ${o} sending:`,q),S.send(q))},Zo:()=>S.close()}),W=(q,J,se)=>{q.listen(J,ue=>{try{se(ue)}catch(Ce){setTimeout(()=>{throw Ce},0)}})};return W(S,su.EventType.OPEN,()=>{D||(_e(_n,`RPC '${e}' stream ${o} transport opened.`),U.o_())}),W(S,su.EventType.CLOSE,()=>{D||(D=!0,_e(_n,`RPC '${e}' stream ${o} transport closed`),U.a_(),this.E_(S))}),W(S,su.EventType.ERROR,q=>{D||(D=!0,Lo(_n,`RPC '${e}' stream ${o} transport errored. Name:`,q.name,"Message:",q.message),U.a_(new pe(ne.UNAVAILABLE,"The operation could not be completed")))}),W(S,su.EventType.MESSAGE,q=>{if(!D){const J=q.data[0];ft(!!J,16349);const se=J,ue=se?.error||se[0]?.error;if(ue){_e(_n,`RPC '${e}' stream ${o} received error:`,ue);const Ce=ue.status;let me=function(b){const R=qt[b];if(R!==void 0)return ES(R)}(Ce),H=ue.message;me===void 0&&(me=ne.INTERNAL,H="Unknown error status: "+Ce+" with message "+ue.message),D=!0,U.a_(new pe(me,H)),S.close()}else _e(_n,`RPC '${e}' stream ${o} received:`,J),U.u_(J)}}),W(m,U0.STAT_EVENT,q=>{q.stat===Wm.PROXY?_e(_n,`RPC '${e}' stream ${o} detected buffering proxy`):q.stat===Wm.NOPROXY&&_e(_n,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{U.__()},0),U}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Um(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mf(r){return new q2(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e,n,a=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=a,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-a);o>0&&_e("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT="PersistentStream";class PS{constructor(e,n,a,o,u,f,m,p){this.Mi=e,this.S_=a,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new VS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(Vi(n.toString()),Vi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.D_===n&&this.G_(a,o)},a=>{e(()=>{const o=new pe(ne.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)})})}G_(e,n){const a=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{a(()=>this.listener.Xo())}),this.stream.t_(()=>{a(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{a(()=>this.z_(o))}),this.stream.onMessage(o=>{a(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return _e(cT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(_e(cT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class BD extends PS{constructor(e,n,a,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=K2(this.serializer,e),a=function(u){if(!("targetChange"in u))return Ue.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ue.min():f.readTime?Jr(f.readTime):Ue.min()}(e);return this.listener.H_(n,a)}Y_(e){const n={};n.database=lp(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=np(p)?{documents:$2(u,p)}:{query:X2(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=wS(u,f.resumeToken);const g=ap(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Ue.min())>0){m.readTime=zh(u,f.snapshotVersion.toTimestamp());const g=ap(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const a=Z2(this.serializer,e);a&&(n.labels=a),this.q_(n)}Z_(e){const n={};n.database=lp(this.serializer),n.removeTarget=e,this.q_(n)}}class jD extends PS{constructor(e,n,a,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ft(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ft(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ft(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Y2(e.writeResults,e.commitTime),a=Jr(e.commitTime);return this.listener.na(a,n)}ra(){const e={};e.database=lp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(a=>Q2(this.serializer,a))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{}class qD extends HD{constructor(e,n,a,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new pe(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Go(e,sp(n,a),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new pe(ne.UNKNOWN,u.toString())})}Ho(e,n,a,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Ho(e,sp(n,a),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new pe(ne.UNKNOWN,f.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class FD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Vi(n),this.aa=!1):_e("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds="RemoteStore";class GD{constructor(e,n,a,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo(f=>{a.enqueueAndForget(async()=>{Ps(this)&&(_e(Ds,"Restarting streams for network reachability change."),await async function(p){const g=ze(p);g.Ea.add(4),await ku(g),g.Ra.set("Unknown"),g.Ea.delete(4),await pf(g)}(this))})}),this.Ra=new FD(a,o)}}async function pf(r){if(Ps(r))for(const e of r.da)await e(!0)}async function ku(r){for(const e of r.da)await e(!1)}function LS(r,e){const n=ze(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Xp(n)?$p(n):Wo(n).O_()&&Yp(n,e))}function Qp(r,e){const n=ze(r),a=Wo(n);n.Ia.delete(e),a.O_()&&kS(n,e),n.Ia.size===0&&(a.O_()?a.L_():Ps(n)&&n.Ra.set("Unknown"))}function Yp(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ue.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Wo(r).Y_(e)}function kS(r,e){r.Va.Ue(e),Wo(r).Z_(e)}function $p(r){r.Va=new z2({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Wo(r).start(),r.Ra.ua()}function Xp(r){return Ps(r)&&!Wo(r).x_()&&r.Ia.size>0}function Ps(r){return ze(r).Ea.size===0}function US(r){r.Va=void 0}async function KD(r){r.Ra.set("Online")}async function QD(r){r.Ia.forEach((e,n)=>{Yp(r,e)})}async function YD(r,e){US(r),Xp(r)?(r.Ra.ha(e),$p(r)):r.Ra.set("Unknown")}async function $D(r,e,n){if(r.Ra.set("Online"),e instanceof SS&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))}(r,e)}catch(a){_e(Ds,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await jh(r,a)}else if(e instanceof Eh?r.Va.Ze(e):e instanceof TS?r.Va.st(e):r.Va.tt(e),!n.isEqual(Ue.min()))try{const a=await xS(r.localStore);n.compareTo(a)>=0&&await function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u.Ia.get(g);v&&u.Ia.set(g,v.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,g)=>{const v=u.Ia.get(p);if(!v)return;u.Ia.set(p,v.withResumeToken(dn.EMPTY_BYTE_STRING,v.snapshotVersion)),kS(u,p);const S=new Aa(v.target,p,g,v.sequenceNumber);Yp(u,S)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(a){_e(Ds,"Failed to raise snapshot:",a),await jh(r,a)}}async function jh(r,e,n){if(!$o(e))throw e;r.Ea.add(1),await ku(r),r.Ra.set("Offline"),n||(n=()=>xS(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{_e(Ds,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await pf(r)})}function zS(r,e){return e().catch(n=>jh(r,n,e))}async function gf(r){const e=ze(r),n=La(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:xp;for(;XD(e);)try{const o=await OD(e.localStore,a);if(o===null){e.Ta.length===0&&n.L_();break}a=o.batchId,WD(e,o)}catch(o){await jh(e,o)}BS(e)&&jS(e)}function XD(r){return Ps(r)&&r.Ta.length<10}function WD(r,e){r.Ta.push(e);const n=La(r);n.O_()&&n.X_&&n.ea(e.mutations)}function BS(r){return Ps(r)&&!La(r).x_()&&r.Ta.length>0}function jS(r){La(r).start()}async function ZD(r){La(r).ra()}async function JD(r){const e=La(r);for(const n of r.Ta)e.ea(n.mutations)}async function eN(r,e,n){const a=r.Ta.shift(),o=Bp.from(a,e,n);await zS(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await gf(r)}async function tN(r,e){e&&La(r).X_&&await async function(a,o){if(function(f){return L2(f)&&f!==ne.ABORTED}(o.code)){const u=a.Ta.shift();La(a).B_(),await zS(a,()=>a.remoteSyncer.rejectFailedWrite(u.batchId,o)),await gf(a)}}(r,e),BS(r)&&jS(r)}async function hT(r,e){const n=ze(r);n.asyncQueue.verifyOperationInProgress(),_e(Ds,"RemoteStore received new credentials");const a=Ps(n);n.Ea.add(3),await ku(n),a&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await pf(n)}async function nN(r,e){const n=ze(r);e?(n.Ea.delete(2),await pf(n)):e||(n.Ea.add(2),await ku(n),n.Ra.set("Unknown"))}function Wo(r){return r.ma||(r.ma=function(n,a,o){const u=ze(n);return u.sa(),new BD(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Xo:KD.bind(null,r),t_:QD.bind(null,r),r_:YD.bind(null,r),H_:$D.bind(null,r)}),r.da.push(async e=>{e?(r.ma.B_(),Xp(r)?$p(r):r.Ra.set("Unknown")):(await r.ma.stop(),US(r))})),r.ma}function La(r){return r.fa||(r.fa=function(n,a,o){const u=ze(n);return u.sa(),new jD(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:ZD.bind(null,r),r_:tN.bind(null,r),ta:JD.bind(null,r),na:eN.bind(null,r)}),r.da.push(async e=>{e?(r.fa.B_(),await gf(r)):(await r.fa.stop(),r.Ta.length>0&&(_e(Ds,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))})),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e,n,a,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new Mi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,o,u){const f=Date.now()+a,m=new Wp(e,n,f,o,u);return m.start(a),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zp(r,e){if(Vi("AsyncQueue",`${e}: ${r}`),$o(r))return new pe(ne.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{static emptySet(e){return new Oo(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||Ie.comparator(n.key,a.key):(n,a)=>Ie.comparator(n.key,a.key),this.keyedMap=ou(),this.sortedSet=new Nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,a)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Oo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new Oo;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(){this.ga=new Nt(Ie.comparator)}track(e){const n=e.doc.key,a=this.ga.get(n);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(n,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(n):e.type===1&&a.type===2?this.ga=this.ga.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Pe(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,a)=>{e.push(a)}),e}}class jo{constructor(e,n,a,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,a,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new jo(e,n,Oo.emptySet(n),f,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==a[o].type||!n[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class iN{constructor(){this.queries=dT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,a){const o=ze(n),u=o.queries;o.queries=dT(),u.forEach((f,m)=>{for(const p of m.Sa)p.onError(a)})})(this,new pe(ne.ABORTED,"Firestore shutting down"))}}function dT(){return new xs(r=>lS(r),uf)}async function Jp(r,e){const n=ze(r);let a=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(a=2):(u=new rN,a=e.Da()?0:1);try{switch(a){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Zp(f,`Initialization of query '${Ro(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&tg(n)}async function eg(r,e){const n=ze(r),a=e.query;let o=3;const u=n.queries.get(a);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function aN(r,e){const n=ze(r);let a=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(a=!0);f.wa=o}}a&&tg(n)}function sN(r,e,n){const a=ze(r),o=a.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);a.queries.delete(e)}function tg(r){r.Ca.forEach(e=>{e.next()})}var hp,mT;(mT=hp||(hp={})).Ma="default",mT.Cache="cache";class ng{constructor(e,n,a){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new jo(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const a=n!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=jo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==hp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e){this.key=e}}class qS{constructor(e){this.key=e}}class oN{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Je(),this.mutatedKeys=Je(),this.eu=uS(e),this.tu=new Oo(this.eu)}get nu(){return this.Ya}ru(e,n){const a=n?n.iu:new fT,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,S)=>{const w=o.get(v),D=cf(this.query,S)?S:null,U=!!w&&this.mutatedKeys.has(w.key),W=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let q=!1;w&&D?w.data.isEqual(D.data)?U!==W&&(a.track({type:3,doc:D}),q=!0):this.su(w,D)||(a.track({type:2,doc:D}),q=!0,(p&&this.eu(D,p)>0||g&&this.eu(D,g)<0)&&(m=!0)):!w&&D?(a.track({type:0,doc:D}),q=!0):w&&!D&&(a.track({type:1,doc:w}),q=!0,(p||g)&&(m=!0)),q&&(D?(f=f.add(D),u=W?u.add(v):u.delete(v)):(f=f.delete(v),u=u.delete(v)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const v=this.query.limitType==="F"?f.last():f.first();f=f.delete(v.key),u=u.delete(v.key),a.track({type:1,doc:v})}return{tu:f,iu:a,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort((v,S)=>function(D,U){const W=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pe(20277,{Rt:q})}};return W(D)-W(U)}(v.type,S.type)||this.eu(v.doc,S.doc)),this.ou(a),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,f.length!==0||g?{snapshot:new jo(this.query,e.tu,u,f,e.mutatedKeys,p===0,g,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new fT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Je(),this.tu.forEach(a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))});const n=[];return e.forEach(a=>{this.Xa.has(a)||n.push(new qS(a))}),this.Xa.forEach(a=>{e.has(a)||n.push(new HS(a))}),n}cu(e){this.Ya=e.Qs,this.Xa=Je();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return jo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const rg="SyncEngine";class lN{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class uN{constructor(e){this.key=e,this.hu=!1}}class cN{constructor(e,n,a,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new xs(m=>lS(m),uf),this.Iu=new Map,this.Eu=new Set,this.du=new Nt(Ie.comparator),this.Au=new Map,this.Ru=new qp,this.Vu={},this.mu=new Map,this.fu=Bo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function hN(r,e,n=!0){const a=$S(r);let o;const u=a.Tu.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await FS(a,e,n,!0),o}async function fN(r,e){const n=$S(r);await FS(n,e,!0,!1)}async function FS(r,e,n,a){const o=await MD(r.localStore,Zr(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return a&&(m=await dN(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&LS(r.remoteStore,o),m}async function dN(r,e,n,a,o){r.pu=(S,w,D)=>async function(W,q,J,se){let ue=q.view.ru(J);ue.Cs&&(ue=await sT(W.localStore,q.query,!1).then(({documents:M})=>q.view.ru(M,ue)));const Ce=se&&se.targetChanges.get(q.targetId),me=se&&se.targetMismatches.get(q.targetId)!=null,H=q.view.applyChanges(ue,W.isPrimaryClient,Ce,me);return gT(W,q.targetId,H.au),H.snapshot}(r,S,w,D);const u=await sT(r.localStore,e,!0),f=new oN(e,u.Qs),m=f.ru(u.documents),p=Lu.createSynthesizedTargetChangeForCurrentChange(n,a&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,p);gT(r,n,g.au);const v=new lN(e,n,f);return r.Tu.set(e,v),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),g.snapshot}async function mN(r,e,n){const a=ze(r),o=a.Tu.get(e),u=a.Iu.get(o.targetId);if(u.length>1)return a.Iu.set(o.targetId,u.filter(f=>!uf(f,e))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await up(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),n&&Qp(a.remoteStore,o.targetId),fp(a,o.targetId)}).catch(Yo)):(fp(a,o.targetId),await up(a.localStore,o.targetId,!0))}async function pN(r,e){const n=ze(r),a=n.Tu.get(e),o=n.Iu.get(a.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),Qp(n.remoteStore,a.targetId))}async function gN(r,e,n){const a=wN(r);try{const o=await function(f,m){const p=ze(f),g=Rt.now(),v=m.reduce((D,U)=>D.add(U.key),Je());let S,w;return p.persistence.runTransaction("Locally write mutations","readwrite",D=>{let U=Pi(),W=Je();return p.Ns.getEntries(D,v).next(q=>{U=q,U.forEach((J,se)=>{se.isValidDocument()||(W=W.add(J))})}).next(()=>p.localDocuments.getOverlayedDocuments(D,U)).next(q=>{S=q;const J=[];for(const se of m){const ue=O2(se,S.get(se.key).overlayedDocument);ue!=null&&J.push(new Vs(se.key,ue,eS(ue.value.mapValue),Cr.exists(!0)))}return p.mutationQueue.addMutationBatch(D,g,J,m)}).next(q=>{w=q;const J=q.applyToLocalDocumentSet(S,W);return p.documentOverlayCache.saveOverlays(D,q.batchId,J)})}).then(()=>({batchId:w.batchId,changes:hS(S)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let g=f.Vu[f.currentUser.toKey()];g||(g=new Nt(Ze)),g=g.insert(m,p),f.Vu[f.currentUser.toKey()]=g}(a,o.batchId,n),await Uu(a,o.changes),await gf(a.remoteStore)}catch(o){const u=Zp(o,"Failed to persist write");n.reject(u)}}async function GS(r,e){const n=ze(r);try{const a=await DD(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Au.get(u);f&&(ft(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?ft(f.hu,14607):o.removedDocuments.size>0&&(ft(f.hu,42227),f.hu=!1))}),await Uu(n,a,e)}catch(a){await Yo(a)}}function pT(r,e,n){const a=ze(r);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const o=[];a.Tu.forEach((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=ze(f);p.onlineState=m;let g=!1;p.queries.forEach((v,S)=>{for(const w of S.Sa)w.va(m)&&(g=!0)}),g&&tg(p)}(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function yN(r,e,n){const a=ze(r);a.sharedClientState.updateQueryState(e,"rejected",n);const o=a.Au.get(e),u=o&&o.key;if(u){let f=new Nt(Ie.comparator);f=f.insert(u,En.newNoDocument(u,Ue.min()));const m=Je().add(u),p=new df(Ue.min(),new Map,new Nt(Ze),f,m);await GS(a,p),a.du=a.du.remove(u),a.Au.delete(e),ig(a)}else await up(a.localStore,e,!1).then(()=>fp(a,e,n)).catch(Yo)}async function _N(r,e){const n=ze(r),a=e.batch.batchId;try{const o=await CD(n.localStore,e);QS(n,a,null),KS(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await Uu(n,o)}catch(o){await Yo(o)}}async function vN(r,e,n){const a=ze(r);try{const o=await function(f,m){const p=ze(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return p.mutationQueue.lookupMutationBatch(g,m).next(S=>(ft(S!==null,37113),v=S.keys(),p.mutationQueue.removeMutationBatch(g,S))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>p.localDocuments.getDocuments(g,v))})}(a.localStore,e);QS(a,e,n),KS(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await Uu(a,o)}catch(o){await Yo(o)}}function KS(r,e){(r.mu.get(e)||[]).forEach(n=>{n.resolve()}),r.mu.delete(e)}function QS(r,e,n){const a=ze(r);let o=a.Vu[a.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function fp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Iu.get(e))r.Tu.delete(a),n&&r.Pu.yu(a,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach(a=>{r.Ru.containsKey(a)||YS(r,a)})}function YS(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(Qp(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),ig(r))}function gT(r,e,n){for(const a of n)a instanceof HS?(r.Ru.addReference(a.key,e),EN(r,a)):a instanceof qS?(_e(rg,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,e),r.Ru.containsKey(a.key)||YS(r,a.key)):Pe(19791,{wu:a})}function EN(r,e){const n=e.key,a=n.path.canonicalString();r.du.get(n)||r.Eu.has(a)||(_e(rg,"New document in limbo: "+n),r.Eu.add(a),ig(r))}function ig(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new Ie(At.fromString(e)),a=r.fu.next();r.Au.set(a,new uN(n)),r.du=r.du.insert(n,a),LS(r.remoteStore,new Aa(Zr(lf(n.path)),a,"TargetPurposeLimboResolution",af.ce))}}async function Uu(r,e,n){const a=ze(r),o=[],u=[],f=[];a.Tu.isEmpty()||(a.Tu.forEach((m,p)=>{f.push(a.pu(p,e,n).then(g=>{if((g||n)&&a.isPrimaryClient){const v=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;a.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(g){o.push(g);const v=Gp.As(p.targetId,g);u.push(v)}}))}),await Promise.all(f),a.Pu.H_(o),await async function(p,g){const v=ze(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>ae.forEach(g,w=>ae.forEach(w.Es,D=>v.persistence.referenceDelegate.addReference(S,w.targetId,D)).next(()=>ae.forEach(w.ds,D=>v.persistence.referenceDelegate.removeReference(S,w.targetId,D)))))}catch(S){if(!$o(S))throw S;_e(Kp,"Failed to update sequence numbers: "+S)}for(const S of g){const w=S.targetId;if(!S.fromCache){const D=v.Ms.get(w),U=D.snapshotVersion,W=D.withLastLimboFreeSnapshotVersion(U);v.Ms=v.Ms.insert(w,W)}}}(a.localStore,u))}async function TN(r,e){const n=ze(r);if(!n.currentUser.isEqual(e)){_e(rg,"User change. New user:",e.toKey());const a=await MS(n.localStore,e);n.currentUser=e,function(u,f){u.mu.forEach(m=>{m.forEach(p=>{p.reject(new pe(ne.CANCELLED,f))})}),u.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Uu(n,a.Ls)}}function SN(r,e){const n=ze(r),a=n.Au.get(e);if(a&&a.hu)return Je().add(a.key);{let o=Je();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function $S(r){const e=ze(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=GS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=SN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yN.bind(null,e),e.Pu.H_=aN.bind(null,e.eventManager),e.Pu.yu=sN.bind(null,e.eventManager),e}function wN(r){const e=ze(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_N.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vN.bind(null,e),e}class Hh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=mf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return ID(this.persistence,new AD,e.initialUser,this.serializer)}Cu(e){return new OS(Fp.mi,this.serializer)}Du(e){return new VD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hh.provider={build:()=>new Hh};class AN extends Hh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ft(this.persistence.referenceDelegate instanceof Bh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new uD(a,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Pn.withCacheSize(this.cacheSizeBytes):Pn.DEFAULT;return new OS(a=>Bh.mi(a,n),this.serializer)}}class dp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>pT(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=TN.bind(null,this.syncEngine),await nN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new iN}()}createDatastore(e){const n=mf(e.databaseInfo.databaseId),a=function(u){return new zD(u)}(e.databaseInfo);return function(u,f,m,p){return new qD(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return function(a,o,u,f,m){return new GD(a,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>pT(this.syncEngine,n,0),function(){return uT.v()?new uT:new PD}())}createSyncEngine(e,n){return function(o,u,f,m,p,g,v){const S=new cN(o,u,f,m,p,g);return v&&(S.gu=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const a=ze(n);_e(Ds,"RemoteStore shutting down."),a.Ea.add(5),await ku(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}dp.provider={build:()=>new dp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Vi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka="FirestoreClient";class bN{constructor(e,n,a,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=o,this.user=vn.UNAUTHENTICATED,this.clientId=Mp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,async f=>{_e(ka,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(a,f=>(_e(ka,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Mi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=Zp(n,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function zm(r,e){r.asyncQueue.verifyOperationInProgress(),_e(ka,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let a=n.initialUser;r.setCredentialChangeListener(async o=>{a.isEqual(o)||(await MS(e.localStore,o),a=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function yT(r,e){r.asyncQueue.verifyOperationInProgress();const n=await RN(r);_e(ka,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(a=>hT(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,o)=>hT(e.remoteStore,o)),r._onlineComponents=e}async function RN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){_e(ka,"Using user provided OfflineComponentProvider");try{await zm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===ne.FAILED_PRECONDITION||o.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Lo("Error using user provided cache. Falling back to memory cache: "+n),await zm(r,new Hh)}}else _e(ka,"Using default OfflineComponentProvider"),await zm(r,new AN(void 0));return r._offlineComponents}async function XS(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(_e(ka,"Using user provided OnlineComponentProvider"),await yT(r,r._uninitializedComponentsProvider._online)):(_e(ka,"Using default OnlineComponentProvider"),await yT(r,new dp))),r._onlineComponents}function IN(r){return XS(r).then(e=>e.syncEngine)}async function qh(r){const e=await XS(r),n=e.eventManager;return n.onListen=hN.bind(null,e.syncEngine),n.onUnlisten=mN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=fN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=pN.bind(null,e.syncEngine),n}function CN(r,e,n={}){const a=new Mi;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const v=new ag({next:w=>{v.Nu(),f.enqueueAndForget(()=>eg(u,S));const D=w.docs.has(m);!D&&w.fromCache?g.reject(new pe(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&w.fromCache&&p&&p.source==="server"?g.reject(new pe(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),S=new ng(lf(m.path),v,{includeMetadataChanges:!0,qa:!0});return Jp(u,S)}(await qh(r),r.asyncQueue,e,n,a)),a.promise}function DN(r,e,n={}){const a=new Mi;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const v=new ag({next:w=>{v.Nu(),f.enqueueAndForget(()=>eg(u,S)),w.fromCache&&p.source==="server"?g.reject(new pe(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),S=new ng(m,v,{includeMetadataChanges:!0,qa:!0});return Jp(u,S)}(await qh(r),r.asyncQueue,e,n,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS="firestore.googleapis.com",vT=!0;class ET{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new pe(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ZS,this.ssl=vT}else this.host=e.host,this.ssl=e.ssl??vT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=NS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<oD)throw new pe(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}GC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=WS(e.experimentalLongPollingOptions??{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new pe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new pe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new pe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yf{constructor(e,n,a,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ET({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ET(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new PC;switch(a.type){case"firstParty":return new zC(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new pe(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const a=_T.get(n);a&&(_e("ComponentProvider","Removing Datastore"),_T.delete(n),a.terminate())}(this),Promise.resolve()}}function NN(r,e,n,a={}){r=pr(r,yf);const o=Go(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(I0(`https://${m}`),C0("Firestore",!0)),u.host!==ZS&&u.host!==m&&Lo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:a};if(!Rs(p,f)&&(r._setSettings(p),a.mockUserToken)){let g,v;if(typeof a.mockUserToken=="string")g=a.mockUserToken,v=vn.MOCK_USER;else{g=sI(a.mockUserToken,r._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new pe(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new vn(S)}r._authCredentials=new LC(new H0(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new ja(this.firestore,e,this._query)}}class Lt{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Da(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Lt(this.firestore,e,this._key)}toJSON(){return{type:Lt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,a){if(Vu(n,Lt._jsonSchema))return new Lt(e,a||null,new Ie(At.fromString(n.referencePath)))}}Lt._jsonSchemaVersion="firestore/documentReference/1.0",Lt._jsonSchema={type:Gt("string",Lt._jsonSchemaVersion),referencePath:Gt("string")};class Da extends ja{constructor(e,n,a){super(e,n,lf(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Lt(this.firestore,null,new Ie(e))}withConverter(e){return new Da(this.firestore,e,this._path)}}function mp(r,e,...n){if(r=Sn(r),q0("collection","path",e),r instanceof yf){const a=At.fromString(e,...n);return xE(a),new Da(r,null,a)}{if(!(r instanceof Lt||r instanceof Da))throw new pe(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(At.fromString(e,...n));return xE(a),new Da(r.firestore,null,a)}}function Iu(r,e,...n){if(r=Sn(r),arguments.length===1&&(e=Mp.newId()),q0("doc","path",e),r instanceof yf){const a=At.fromString(e,...n);return ME(a),new Lt(r,null,new Ie(a))}{if(!(r instanceof Lt||r instanceof Da))throw new pe(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(At.fromString(e,...n));return ME(a),new Lt(r.firestore,r instanceof Da?r.converter:null,new Ie(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT="AsyncQueue";class ST{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new VS(this,"async_queue_retry"),this._c=()=>{const a=Um();a&&_e(TT,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const n=Um();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Um();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Mi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!$o(e))throw e;_e(TT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(a=>{throw this.nc=a,this.rc=!1,Vi("INTERNAL UNHANDLED ERROR: ",wT(a)),a}).then(a=>(this.rc=!1,a))));return this.ac=n,n}enqueueAfterDelay(e,n,a){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Wp.createAndSchedule(this,e,n,a,u=>this.hc(u));return this.tc.push(o),o}uc(){this.nc&&Pe(47125,{Pc:wT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,a)=>n.targetTimeMs-a.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function wT(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(r){return function(n,a){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of a)if(u in o&&typeof o[u]=="function")return!0;return!1}(r,["next","error","complete"])}class Ua extends yf{constructor(e,n,a,o){super(e,n,a,o),this.type="firestore",this._queue=new ST,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ST(e),this._firestoreClient=void 0,await e}}}function ON(r,e){const n=typeof r=="object"?r:M0(),a=typeof r=="string"?r:Vh,o=Np(n,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=iI("firestore");u&&NN(o,...u)}return o}function _f(r){if(r._terminated)throw new pe(ne.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||MN(r),r._firestoreClient}function MN(r){const e=r._freezeSettings(),n=function(o,u,f,m){return new n2(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,WS(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new bN(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new mr(dn.fromBase64String(e))}catch(n){throw new pe(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new mr(dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:mr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Vu(e,mr._jsonSchema))return mr.fromBase64String(e.bytes)}}mr._jsonSchemaVersion="firestore/bytes/1.0",mr._jsonSchema={type:Gt("string",mr._jsonSchemaVersion),bytes:Gt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ze(this._lat,e._lat)||Ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ei._jsonSchemaVersion}}static fromJSON(e){if(Vu(e,ei._jsonSchema))return new ei(e.latitude,e.longitude)}}ei._jsonSchemaVersion="firestore/geoPoint/1.0",ei._jsonSchema={type:Gt("string",ei._jsonSchemaVersion),latitude:Gt("number"),longitude:Gt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ti._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Vu(e,ti._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new ti(e.vectorValues);throw new pe(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ti._jsonSchemaVersion="firestore/vectorValue/1.0",ti._jsonSchema={type:Gt("string",ti._jsonSchemaVersion),vectorValues:Gt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN=/^__.*__$/;class VN{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new Vs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Pu(e,this.data,n,this.fieldTransforms)}}function ew(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pe(40011,{Ac:r})}}class og{constructor(e,n,a,o,u,f){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new og({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),a=this.Vc({path:n,fc:!1});return a.gc(e),a}yc(e){const n=this.path?.child(e),a=this.Vc({path:n,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Fh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(ew(this.Ac)&&xN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class PN{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||mf(e)}Cc(e,n,a,o=!1){return new og({Ac:e,methodName:n,Dc:a,path:fn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lg(r){const e=r._freezeSettings(),n=mf(r._databaseId);return new PN(r._databaseId,!!e.ignoreUndefinedProperties,n)}function tw(r,e,n,a,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);iw("Data must be an object, but it was:",f,a);const m=nw(a,f);let p,g;if(u.merge)p=new Rr(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const v=[];for(const S of u.mergeFields){const w=kN(e,S,n);if(!f.contains(w))throw new pe(ne.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);zN(v,w)||v.push(w)}p=new Rr(v),g=f.fieldTransforms.filter(S=>p.covers(S.field))}else p=null,g=f.fieldTransforms;return new VN(new dr(m),p,g)}function LN(r,e,n,a=!1){return ug(n,r.Cc(a?4:3,e))}function ug(r,e){if(rw(r=Sn(r)))return iw("Unsupported field value:",e,r),nw(r,e);if(r instanceof JS)return function(a,o){if(!ew(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(a,o){const u=[];let f=0;for(const m of a){let p=ug(m,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,e)}return function(a,o){if((a=Sn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return b2(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=Rt.fromDate(a);return{timestampValue:zh(o.serializer,u)}}if(a instanceof Rt){const u=new Rt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:zh(o.serializer,u)}}if(a instanceof ei)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof mr)return{bytesValue:wS(o.serializer,a._byteString)};if(a instanceof Lt){const u=o.databaseId,f=a.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Hp(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof ti)return function(f,m){return{mapValue:{fields:{[Z0]:{stringValue:J0},[Ph]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return Up(m.serializer,g)})}}}}}}(a,o);throw o.Sc(`Unsupported field value: ${rf(a)}`)}(r,e)}function nw(r,e){const n={};return K0(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ms(r,(a,o)=>{const u=ug(o,e.mc(a));u!=null&&(n[a]=u)}),{mapValue:{fields:n}}}function rw(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Rt||r instanceof ei||r instanceof mr||r instanceof Lt||r instanceof JS||r instanceof ti)}function iw(r,e,n){if(!rw(n)||!F0(n)){const a=rf(n);throw a==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+a)}}function kN(r,e,n){if((e=Sn(e))instanceof sg)return e._internalPath;if(typeof e=="string")return aw(r,e);throw Fh("Field path arguments must be of type string or ",r,!1,void 0,n)}const UN=new RegExp("[~\\*/\\[\\]]");function aw(r,e,n){if(e.search(UN)>=0)throw Fh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new sg(...e.split("."))._internalPath}catch{throw Fh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Fh(r,e,n,a,o){const u=a&&!a.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${a}`),f&&(p+=` in document ${o}`),p+=")"),new pe(ne.INVALID_ARGUMENT,m+r+p)}function zN(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e,n,a,o,u){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Lt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new BN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(cg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class BN extends sw{data(){return super.data()}}function cg(r,e){return typeof e=="string"?aw(r,e):e instanceof sg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ow(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new pe(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hg{}class lw extends hg{}function uw(r,e,...n){let a=[];e instanceof hg&&a.push(e),a=a.concat(n),function(u){const f=u.filter(p=>p instanceof dg).length,m=u.filter(p=>p instanceof fg).length;if(f>1||f>0&&m>0)throw new pe(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const o of a)r=o._apply(r);return r}class fg extends lw{constructor(e,n,a){super(),this._field=e,this._op=n,this._value=a,this.type="where"}static _create(e,n,a){return new fg(e,n,a)}_apply(e){const n=this._parse(e);return hw(e._query,n),new ja(e.firestore,e.converter,rp(e._query,n))}_parse(e){const n=lg(e.firestore);return function(u,f,m,p,g,v,S){let w;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new pe(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){RT(S,v);const U=[];for(const W of S)U.push(bT(p,u,W));w={arrayValue:{values:U}}}else w=bT(p,u,S)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||RT(S,v),w=LN(m,f,S,v==="in"||v==="not-in");return Ft.create(g,v,w)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class dg extends hg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new dg(e,n)}_parse(e){const n=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return n.length===1?n[0]:Dr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)hw(f,p),f=rp(f,p)}(e._query,n),new ja(e.firestore,e.converter,rp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class mg extends lw{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new mg(e,n)}_apply(e){const n=function(o,u,f){if(o.startAt!==null)throw new pe(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new pe(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Au(u,f)}(e._query,this._field,this._direction);return new ja(e.firestore,e.converter,function(o,u){const f=o.explicitOrderBy.concat([u]);return new Xo(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function cw(r,e="asc"){const n=e,a=cg("orderBy",r);return mg._create(a,n)}function bT(r,e,n){if(typeof(n=Sn(n))=="string"){if(n==="")throw new pe(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!oS(e)&&n.indexOf("/")!==-1)throw new pe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=e.path.child(At.fromString(n));if(!Ie.isDocumentKey(a))throw new pe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return jE(r,new Ie(a))}if(n instanceof Lt)return jE(r,n._key);throw new pe(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rf(n)}.`)}function RT(r,e){if(!Array.isArray(r)||r.length===0)throw new pe(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function hw(r,e){const n=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new pe(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class jN{convertValue(e,n="none"){switch(Pa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Va(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Pe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return Ms(e,(o,u)=>{a[o]=this.convertValue(u,n)}),a}convertVectorValue(e){const n=e.fields?.[Ph].arrayValue?.values?.map(a=>Pt(a.doubleValue));return new ti(n)}convertGeoPoint(e){return new ei(Pt(e.latitude),Pt(e.longitude))}convertArray(e,n){return(e.values||[]).map(a=>this.convertValue(a,n))}convertServerTimestamp(e,n){switch(n){case"previous":const a=of(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(Tu(e));default:return null}}convertTimestamp(e){const n=xa(e);return new Rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=At.fromString(e);ft(DS(a),9688,{name:e});const o=new Su(a.get(1),a.get(3)),u=new Ie(a.popFirst(5));return o.isEqual(n)||Vi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(r,e,n){let a;return a=r?r.toFirestore(e):e,a}class uu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ws extends sw{constructor(e,n,a,o,u,f){super(e,n,a,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Th(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(cg("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ws._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ws._jsonSchemaVersion="firestore/documentSnapshot/1.0",ws._jsonSchema={type:Gt("string",ws._jsonSchemaVersion),bundleSource:Gt("string","DocumentSnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class Th extends ws{data(e={}){return super.data(e)}}class As{constructor(e,n,a,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new uu(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(a=>{e.call(n,new Th(this._firestore,this._userDataWriter,a.key,a,new uu(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pe(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new Th(o._firestore,o._userDataWriter,m.doc.key,m.doc,new uu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new Th(o._firestore,o._userDataWriter,m.doc.key,m.doc,new uu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),v=f.indexOf(m.doc.key)),{type:HN(m.type),doc:p,oldIndex:g,newIndex:v}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=As._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Mp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],a=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(n.push(u._document),a.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function HN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pe(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dw(r){r=pr(r,Lt);const e=pr(r.firestore,Ua);return CN(_f(e),r._key).then(n=>mw(e,r,n))}As._jsonSchemaVersion="firestore/querySnapshot/1.0",As._jsonSchema={type:Gt("string",As._jsonSchemaVersion),bundleSource:Gt("string","QuerySnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class pg extends jN{constructor(e){super(),this.firestore=e}convertBytes(e){return new mr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Lt(this.firestore,null,n)}}function qN(r){r=pr(r,ja);const e=pr(r.firestore,Ua),n=_f(e),a=new pg(e);return ow(r._query),DN(n,r._query).then(o=>new As(e,a,r,o))}function FN(r,e,n){r=pr(r,Lt);const a=pr(r.firestore,Ua),o=fw(r.converter,e);return gg(a,[tw(lg(a),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Cr.none())])}function GN(r){return gg(pr(r.firestore,Ua),[new zp(r._key,Cr.none())])}function KN(r,e){const n=pr(r.firestore,Ua),a=Iu(r),o=fw(r.converter,e);return gg(n,[tw(lg(r.firestore),"addDoc",a._key,o,r.converter!==null,{}).toMutation(a._key,Cr.exists(!1))]).then(()=>a)}function QN(r,...e){r=Sn(r);let n={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||AT(e[a])||(n=e[a++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(AT(e[a])){const p=e[a];e[a]=p.next?.bind(p),e[a+1]=p.error?.bind(p),e[a+2]=p.complete?.bind(p)}let u,f,m;if(r instanceof Lt)f=pr(r.firestore,Ua),m=lf(r._key.path),u={next:p=>{e[a]&&e[a](mw(f,r,p))},error:e[a+1],complete:e[a+2]};else{const p=pr(r,ja);f=pr(p.firestore,Ua),m=p._query;const g=new pg(f);u={next:v=>{e[a]&&e[a](new As(f,g,p,v))},error:e[a+1],complete:e[a+2]},ow(r._query)}return function(g,v,S,w){const D=new ag(w),U=new ng(v,D,S);return g.asyncQueue.enqueueAndForget(async()=>Jp(await qh(g),U)),()=>{D.Nu(),g.asyncQueue.enqueueAndForget(async()=>eg(await qh(g),U))}}(_f(f),m,o,u)}function gg(r,e){return function(a,o){const u=new Mi;return a.asyncQueue.enqueueAndForget(async()=>gN(await IN(a),o,u)),u.promise}(_f(r),e)}function mw(r,e,n){const a=n.docs.get(e._key),o=new pg(r);return new ws(r,o,e._key,a,new uu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){Qo=o})(Ko),Po(new Is("firestore",(a,{instanceIdentifier:o,options:u})=>{const f=a.getProvider("app").getImmediate(),m=new Ua(new kC(a.getProvider("auth-internal")),new BC(f,a.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new pe(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Su(g.options.projectId,v)}(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Ia(CE,DE,e),Ia(CE,DE,"esm2020")})();function pw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const YN=pw,gw=new Mu("auth","Firebase",pw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gh=new Cp("@firebase/auth");function $N(r,...e){Gh.logLevel<=We.WARN&&Gh.warn(`Auth (${Ko}): ${r}`,...e)}function Sh(r,...e){Gh.logLevel<=We.ERROR&&Gh.error(`Auth (${Ko}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nr(r,...e){throw yg(r,...e)}function ni(r,...e){return yg(r,...e)}function yw(r,e,n){const a={...YN(),[e]:n};return new Mu("auth","Firebase",a).create(e,{appName:r.name})}function Na(r){return yw(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yg(r,...e){if(typeof r!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(n,...a)}return gw.create(r,...e)}function Ve(r,e,...n){if(!r)throw yg(e,...n)}function Ni(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Sh(e),new Error(e)}function Li(r,e){r||Ni(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pp(){return typeof self<"u"&&self.location?.href||""}function XN(){return IT()==="http:"||IT()==="https:"}function IT(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(XN()||fI()||"connection"in navigator)?navigator.onLine:!0}function ZN(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Li(n>e,"Short delay should be less than long delay!"),this.isMobile=uI()||dI()}get(){return WN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _g(r,e){Li(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],tO=new zu(3e4,6e4);function Ls(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Ha(r,e,n,a,o={}){return vw(r,o,async()=>{let u={},f={};a&&(e==="GET"?f=a:u={body:JSON.stringify(a)});const m=xu({key:r.config.apiKey,...f}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...u};return hI()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&Go(r.emulatorConfig.host)&&(g.credentials="include"),_w.fetch()(await Ew(r,r.config.apiHost,n,m),g)})}async function vw(r,e,n){r._canInitEmulator=!1;const a={...JN,...e};try{const o=new rO(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw hh(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw hh(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw hh(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw hh(r,"user-disabled",f);const v=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw yw(r,v,g);Nr(r,v)}}catch(o){if(o instanceof ki)throw o;Nr(r,"network-request-failed",{message:String(o)})}}async function vf(r,e,n,a,o={}){const u=await Ha(r,e,n,a,o);return"mfaPendingCredential"in u&&Nr(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function Ew(r,e,n,a){const o=`${e}${n}?${a}`,u=r,f=u.config.emulator?_g(r.config,o):`${r.config.apiScheme}://${o}`;return eO.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function nO(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class rO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(ni(this.auth,"network-request-failed")),tO.get())})}}function hh(r,e,n){const a={appName:r.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const o=ni(r,e,a);return o.customData._tokenResponse=n,o}function CT(r){return r!==void 0&&r.enterprise!==void 0}class iO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return nO(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function aO(r,e){return Ha(r,"GET","/v2/recaptchaConfig",Ls(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sO(r,e){return Ha(r,"POST","/v1/accounts:delete",e)}async function Kh(r,e){return Ha(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function oO(r,e=!1){const n=Sn(r),a=await n.getIdToken(e),o=vg(a);Ve(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:a,authTime:pu(Bm(o.auth_time)),issuedAtTime:pu(Bm(o.iat)),expirationTime:pu(Bm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Bm(r){return Number(r)*1e3}function vg(r){const[e,n,a]=r.split(".");if(e===void 0||n===void 0||a===void 0)return Sh("JWT malformed, contained fewer than 3 sections"),null;try{const o=w0(n);return o?JSON.parse(o):(Sh("Failed to decode base64 JWT payload"),null)}catch(o){return Sh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function DT(r){const e=vg(r);return Ve(e,"internal-error"),Ve(typeof e.exp<"u","internal-error"),Ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cu(r,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof ki&&lO(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function lO({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=pu(this.lastLoginAt),this.creationTime=pu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qh(r){const e=r.auth,n=await r.getIdToken(),a=await Cu(r,Kh(e,{idToken:n}));Ve(a?.users.length,e,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?Tw(o.providerUserInfo):[],f=hO(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!f?.length,g=m?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new gp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,v)}async function cO(r){const e=Sn(r);await Qh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function hO(r,e){return[...r.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function Tw(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fO(r,e){const n=await vw(r,{},async()=>{const a=xu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await Ew(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:a};return r.emulatorConfig&&Go(r.emulatorConfig.host)&&(p.credentials="include"),_w.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function dO(r,e){return Ha(r,"POST","/v2/accounts:revokeToken",Ls(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ve(e.idToken,"internal-error"),Ve(typeof e.idToken<"u","internal-error"),Ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):DT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ve(e.length!==0,"internal-error");const n=DT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:o,expiresIn:u}=await fO(e,n);this.updateTokensAndExpiration(a,o,Number(u))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:o,expirationTime:u}=n,f=new Mo;return a&&(Ve(typeof a=="string","internal-error",{appName:e}),f.refreshToken=a),o&&(Ve(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Ve(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Mo,this.toJSON())}_performRefresh(){return Ni("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ga(r,e){Ve(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Ir{constructor({uid:e,auth:n,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new uO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new gp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Cu(this,this.stsTokenManager.getToken(this.auth,e));return Ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return oO(this,e)}reload(){return cO(this)}_assign(e){this!==e&&(Ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ir({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await Qh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(br(this.auth.app))return Promise.reject(Na(this.auth));const e=await this.getIdToken();return await Cu(this,sO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const a=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:S,emailVerified:w,isAnonymous:D,providerData:U,stsTokenManager:W}=n;Ve(S&&W,e,"internal-error");const q=Mo.fromJSON(this.name,W);Ve(typeof S=="string",e,"internal-error"),ga(a,e.name),ga(o,e.name),Ve(typeof w=="boolean",e,"internal-error"),Ve(typeof D=="boolean",e,"internal-error"),ga(u,e.name),ga(f,e.name),ga(m,e.name),ga(p,e.name),ga(g,e.name),ga(v,e.name);const J=new Ir({uid:S,auth:e,email:o,emailVerified:w,displayName:a,isAnonymous:D,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:q,createdAt:g,lastLoginAt:v});return U&&Array.isArray(U)&&(J.providerData=U.map(se=>({...se}))),p&&(J._redirectEventId=p),J}static async _fromIdTokenResponse(e,n,a=!1){const o=new Mo;o.updateFromServerResponse(n);const u=new Ir({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await Qh(u),u}static async _fromGetAccountInfoResponse(e,n,a){const o=n.users[0];Ve(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?Tw(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new Mo;m.updateFromIdToken(a);const p=new Ir({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new gp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT=new Map;function Oi(r){Li(r instanceof Function,"Expected a class definition");let e=NT.get(r);return e?(Li(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,NT.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Sw.type="NONE";const OT=Sw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wh(r,e,n){return`firebase:${r}:${e}:${n}`}class xo{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:o,name:u}=this.auth;this.fullUserKey=wh(this.userKey,o.apiKey,u),this.fullPersistenceKey=wh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Kh(this.auth,{idToken:e}).catch(()=>{});return n?Ir._fromGetAccountInfoResponse(this.auth,n,e):null}return Ir._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new xo(Oi(OT),e,a);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Oi(OT);const f=wh(a,e.config.apiKey,e.name);let m=null;for(const g of n)try{const v=await g._get(f);if(v){let S;if(typeof v=="string"){const w=await Kh(e,{idToken:v}).catch(()=>{});if(!w)break;S=await Ir._fromGetAccountInfoResponse(e,w,v)}else S=Ir._fromJSON(e,v);g!==u&&(m=S),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new xo(u,e,a):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new xo(u,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MT(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Rw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ww(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Cw(e))return"Blackberry";if(Dw(e))return"Webos";if(Aw(e))return"Safari";if((e.includes("chrome/")||bw(e))&&!e.includes("edge/"))return"Chrome";if(Iw(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(n);if(a?.length===2)return a[1]}return"Other"}function ww(r=Tn()){return/firefox\//i.test(r)}function Aw(r=Tn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function bw(r=Tn()){return/crios\//i.test(r)}function Rw(r=Tn()){return/iemobile/i.test(r)}function Iw(r=Tn()){return/android/i.test(r)}function Cw(r=Tn()){return/blackberry/i.test(r)}function Dw(r=Tn()){return/webos/i.test(r)}function Eg(r=Tn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function mO(r=Tn()){return Eg(r)&&!!window.navigator?.standalone}function pO(){return mI()&&document.documentMode===10}function Nw(r=Tn()){return Eg(r)||Iw(r)||Dw(r)||Cw(r)||/windows phone/i.test(r)||Rw(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(r,e=[]){let n;switch(r){case"Browser":n=MT(Tn());break;case"Worker":n=`${MT(Tn())}-${r}`;break;default:n=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ko}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});a.onAbort=n,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yO(r,e={}){return Ha(r,"GET","/v2/passwordPolicy",Ls(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O=6;class vO{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??_O,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e,n,a,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xT(this),this.idTokenSubscription=new xT(this),this.beforeStateQueue=new gO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Oi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await xo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Kh(this,{idToken:e}),a=await Ir._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(br(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=a?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(a=m.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Qh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ZN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(br(this.app))return Promise.reject(Na(this));const n=e?Sn(e):null;return n&&Ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return br(this.app)?Promise.reject(Na(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return br(this.app)?Promise.reject(Na(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Oi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await yO(this),n=new vO(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Mu("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await dO(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Oi(e)||this._popupRedirectResolver;Ve(n,this,"argument-error"),this.redirectPersistenceManager=await xo.create(this,[Oi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ve(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,a,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ow(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(br(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&$N(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Zo(r){return Sn(r)}class xT{constructor(e){this.auth=e,this.observer=null,this.addObserver=SI(n=>this.observer=n)}get next(){return Ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ef={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function TO(r){Ef=r}function Mw(r){return Ef.loadJS(r)}function SO(){return Ef.recaptchaEnterpriseScript}function wO(){return Ef.gapiScript}function AO(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class bO{constructor(){this.enterprise=new RO}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class RO{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const IO="recaptcha-enterprise",xw="NO_RECAPTCHA";class CO{constructor(e){this.type=IO,this.auth=Zo(e)}async verify(e="verify",n=!1){async function a(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{aO(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new iO(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;CT(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(xw)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new bO().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{a(this.auth).then(m=>{if(!n&&CT(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=SO();p.length!==0&&(p+=m),Mw(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function VT(r,e,n,a=!1,o=!1){const u=new CO(r);let f;if(o)f=xw;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return a?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function PT(r,e,n,a,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await VT(r,e,n,n==="getOobCode");return a(r,u)}else return a(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await VT(r,e,n,n==="getOobCode");return a(r,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DO(r,e){const n=Np(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Rs(u,e??{}))return o;Nr(o,"already-initialized")}return n.initialize({options:e})}function NO(r,e){const n=e?.persistence||[],a=(Array.isArray(n)?n:[n]).map(Oi);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e?.popupRedirectResolver)}function OO(r,e,n){const a=Zo(r);Ve(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,u=Vw(e),{host:f,port:m}=MO(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},v=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Ve(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Ve(Rs(g,a.config.emulator)&&Rs(v,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=g,a.emulatorConfig=v,a.settings.appVerificationDisabledForTesting=!0,Go(f)?(I0(`${u}//${f}${p}`),C0("Auth",!0)):xO()}function Vw(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function MO(r){const e=Vw(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const u=o[1];return{host:u,port:LT(a.substr(u.length+1))}}else{const[u,f]=a.split(":");return{host:u,port:LT(f)}}}function LT(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function xO(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ni("not implemented")}_getIdTokenResponse(e){return Ni("not implemented")}_linkToIdToken(e,n){return Ni("not implemented")}_getReauthenticationResolver(e){return Ni("not implemented")}}async function VO(r,e){return Ha(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PO(r,e){return vf(r,"POST","/v1/accounts:signInWithPassword",Ls(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LO(r,e){return vf(r,"POST","/v1/accounts:signInWithEmailLink",Ls(r,e))}async function kO(r,e){return vf(r,"POST","/v1/accounts:signInWithEmailLink",Ls(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du extends Tg{constructor(e,n,a,o=null){super("password",a),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Du(e,n,"password")}static _fromEmailAndCode(e,n,a=null){return new Du(e,n,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return PT(e,n,"signInWithPassword",PO);case"emailLink":return LO(e,{email:this._email,oobCode:this._password});default:Nr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const a={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return PT(e,a,"signUpPassword",VO);case"emailLink":return kO(e,{idToken:n,email:this._email,oobCode:this._password});default:Nr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vo(r,e){return vf(r,"POST","/v1/accounts:signInWithIdp",Ls(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO="http://localhost";class Ns extends Tg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ns(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Nr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...u}=n;if(!a||!o)return null;const f=new Ns(a,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Vo(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,Vo(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Vo(e,n)}buildRequest(){const e={requestUri:UO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=xu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zO(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function BO(r){const e=iu(au(r)).link,n=e?iu(au(e)).deep_link_id:null,a=iu(au(r)).deep_link_id;return(a?iu(au(a)).link:null)||a||n||e||r}class Sg{constructor(e){const n=iu(au(e)),a=n.apiKey??null,o=n.oobCode??null,u=zO(n.mode??null);Ve(a&&o&&u,"argument-error"),this.apiKey=a,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=BO(e);try{return new Sg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(){this.providerId=Jo.PROVIDER_ID}static credential(e,n){return Du._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const a=Sg.parseLink(n);return Ve(a,"argument-error"),Du._fromEmailAndCode(e,a.code,a.tenantId)}}Jo.PROVIDER_ID="password";Jo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Jo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu extends Pw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea extends Bu{constructor(){super("facebook.com")}static credential(e){return Ns._fromParams({providerId:Ea.PROVIDER_ID,signInMethod:Ea.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ea.credentialFromTaggedObject(e)}static credentialFromError(e){return Ea.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ea.credential(e.oauthAccessToken)}catch{return null}}}Ea.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ea.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta extends Bu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ns._fromParams({providerId:Ta.PROVIDER_ID,signInMethod:Ta.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ta.credentialFromTaggedObject(e)}static credentialFromError(e){return Ta.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return Ta.credential(n,a)}catch{return null}}}Ta.GOOGLE_SIGN_IN_METHOD="google.com";Ta.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa extends Bu{constructor(){super("github.com")}static credential(e){return Ns._fromParams({providerId:Sa.PROVIDER_ID,signInMethod:Sa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Sa.credentialFromTaggedObject(e)}static credentialFromError(e){return Sa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Sa.credential(e.oauthAccessToken)}catch{return null}}}Sa.GITHUB_SIGN_IN_METHOD="github.com";Sa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa extends Bu{constructor(){super("twitter.com")}static credential(e,n){return Ns._fromParams({providerId:wa.PROVIDER_ID,signInMethod:wa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return wa.credentialFromTaggedObject(e)}static credentialFromError(e){return wa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return wa.credential(n,a)}catch{return null}}}wa.TWITTER_SIGN_IN_METHOD="twitter.com";wa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,o=!1){const u=await Ir._fromIdTokenResponse(e,a,o),f=kT(a);return new Ho({user:u,providerId:f,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const o=kT(a);return new Ho({user:e,providerId:o,_tokenResponse:a,operationType:n})}}function kT(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh extends ki{constructor(e,n,a,o){super(n.code,n.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Yh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,o){return new Yh(e,n,a,o)}}function Lw(r,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Yh._fromErrorAndOperation(r,u,e,a):u})}async function jO(r,e,n=!1){const a=await Cu(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Ho._forOperation(r,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HO(r,e,n=!1){const{auth:a}=r;if(br(a.app))return Promise.reject(Na(a));const o="reauthenticate";try{const u=await Cu(r,Lw(a,o,e,r),n);Ve(u.idToken,a,"internal-error");const f=vg(u.idToken);Ve(f,a,"internal-error");const{sub:m}=f;return Ve(r.uid===m,a,"user-mismatch"),Ho._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Nr(a,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kw(r,e,n=!1){if(br(r.app))return Promise.reject(Na(r));const a="signIn",o=await Lw(r,a,e),u=await Ho._fromIdTokenResponse(r,a,o);return n||await r._updateCurrentUser(u.user),u}async function qO(r,e){return kw(Zo(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FO(r){const e=Zo(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function GO(r,e,n){return br(r.app)?Promise.reject(Na(r)):qO(Sn(r),Jo.credential(e,n)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&FO(r),a})}function KO(r,e,n,a){return Sn(r).onIdTokenChanged(e,n,a)}function QO(r,e,n){return Sn(r).beforeAuthStateChanged(e,n)}function YO(r,e,n,a){return Sn(r).onAuthStateChanged(e,n,a)}function $O(r){return Sn(r).signOut()}const $h="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem($h,"1"),this.storage.removeItem($h),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XO=1e3,WO=10;class zw extends Uw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Nw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),o=this.localCache[n];a!==o&&e(n,o,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const a=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(a);!n&&this.localCache[a]===f||this.notifyListeners(a,f)},u=this.storage.getItem(a);pO()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,WO):o()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},XO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}zw.type="LOCAL";const ZO=zw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw extends Uw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Bw.type="SESSION";const jw=Bw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JO(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const a=new Tf(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await JO(m);n.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Tf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wg(r="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=wg("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},a);f={messageChannel:o,onMessage(S){const w=S;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(v),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(){return window}function tM(r){ri().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(){return typeof ri().WorkerGlobalScope<"u"&&typeof ri().importScripts=="function"}async function nM(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rM(){return navigator?.serviceWorker?.controller||null}function iM(){return Hw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw="firebaseLocalStorageDb",aM=1,Xh="firebaseLocalStorage",Fw="fbase_key";class ju{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Sf(r,e){return r.transaction([Xh],e?"readwrite":"readonly").objectStore(Xh)}function sM(){const r=indexedDB.deleteDatabase(qw);return new ju(r).toPromise()}function yp(){const r=indexedDB.open(qw,aM);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Xh,{keyPath:Fw})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Xh)?e(a):(a.close(),await sM(),e(await yp()))})})}async function UT(r,e,n){const a=Sf(r,!0).put({[Fw]:e,value:n});return new ju(a).toPromise()}async function oM(r,e){const n=Sf(r,!1).get(e),a=await new ju(n).toPromise();return a===void 0?null:a.value}function zT(r,e){const n=Sf(r,!0).delete(e);return new ju(n).toPromise()}const lM=800,uM=3;class Gw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await yp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>uM)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Hw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Tf._getInstance(iM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await nM(),!this.activeServiceWorker)return;this.sender=new eM(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||rM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await yp();return await UT(e,$h,"1"),await zT(e,$h),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>UT(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>oM(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>zT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Sf(o,!1).getAll();return new ju(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Gw.type="LOCAL";const cM=Gw;new zu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hM(r,e){return e?Oi(e):(Ve(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag extends Tg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Vo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Vo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function fM(r){return kw(r.auth,new Ag(r),r.bypassAuthState)}function dM(r){const{auth:e,user:n}=r;return Ve(n,e,"internal-error"),HO(n,new Ag(r),r.bypassAuthState)}async function mM(r){const{auth:e,user:n}=r;return Ve(n,e,"internal-error"),jO(n,new Ag(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(e,n,a,o,u=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:a,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fM;case"linkViaPopup":case"linkViaRedirect":return mM;case"reauthViaPopup":case"reauthViaRedirect":return dM;default:Nr(this.auth,"internal-error")}}resolve(e){Li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM=new zu(2e3,1e4);class Do extends Kw{constructor(e,n,a,o,u){super(e,n,o,u),this.provider=a,this.authWindow=null,this.pollId=null,Do.currentPopupAction&&Do.currentPopupAction.cancel(),Do.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ve(e,this.auth,"internal-error"),e}async onExecution(){Li(this.filter.length===1,"Popup operations only handle one event");const e=wg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ni(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ni(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Do.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ni(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,pM.get())};e()}}Do.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gM="pendingRedirect",Ah=new Map;class yM extends Kw{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=Ah.get(this.auth._key());if(!e){try{const a=await _M(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}Ah.set(this.auth._key(),e)}return this.bypassAuthState||Ah.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _M(r,e){const n=TM(e),a=EM(r);if(!await a._isAvailable())return!1;const o=await a._get(n)==="true";return await a._remove(n),o}function vM(r,e){Ah.set(r._key(),e)}function EM(r){return Oi(r._redirectPersistence)}function TM(r){return wh(gM,r.config.apiKey,r.name)}async function SM(r,e,n=!1){if(br(r.app))return Promise.reject(Na(r));const a=Zo(r),o=hM(a,e),f=await new yM(a,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await a._persistUserIfCurrent(f.user),await a._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wM=600*1e3;class AM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!bM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Qw(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ni(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=wM&&this.cachedEventUids.clear(),this.cachedEventUids.has(BT(e))}saveEventToCache(e){this.cachedEventUids.add(BT(e)),this.lastProcessedEventTime=Date.now()}}function BT(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Qw({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function bM(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Qw(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RM(r,e={}){return Ha(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,CM=/^https?/;async function DM(r){if(r.config.emulator)return;const{authorizedDomains:e}=await RM(r);for(const n of e)try{if(NM(n))return}catch{}Nr(r,"unauthorized-domain")}function NM(r){const e=pp(),{protocol:n,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&a===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===a}if(!CM.test(n))return!1;if(IM.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM=new zu(3e4,6e4);function jT(){const r=ri().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function MM(r){return new Promise((e,n)=>{function a(){jT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{jT(),n(ni(r,"network-request-failed"))},timeout:OM.get()})}if(ri().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ri().gapi?.load)a();else{const o=AO("iframefcb");return ri()[o]=()=>{gapi.load?a():n(ni(r,"network-request-failed"))},Mw(`${wO()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw bh=null,e})}let bh=null;function xM(r){return bh=bh||MM(r),bh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VM=new zu(5e3,15e3),PM="__/auth/iframe",LM="emulator/auth/iframe",kM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},UM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zM(r){const e=r.config;Ve(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?_g(e,LM):`https://${r.config.authDomain}/${PM}`,a={apiKey:e.apiKey,appName:r.name,v:Ko},o=UM.get(r.config.apiHost);o&&(a.eid=o);const u=r._getFrameworks();return u.length&&(a.fw=u.join(",")),`${n}?${xu(a).slice(1)}`}async function BM(r){const e=await xM(r),n=ri().gapi;return Ve(n,r,"internal-error"),e.open({where:document.body,url:zM(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kM,dontclear:!0},a=>new Promise(async(o,u)=>{await a.restyle({setHideOnLeave:!1});const f=ni(r,"network-request-failed"),m=ri().setTimeout(()=>{u(f)},VM.get());function p(){ri().clearTimeout(m),o(a)}a.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},HM=500,qM=600,FM="_blank",GM="http://localhost";class HT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function KM(r,e,n,a=HM,o=qM){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-a)/2,0).toString();let m="";const p={...jM,width:a.toString(),height:o.toString(),top:u,left:f},g=Tn().toLowerCase();n&&(m=bw(g)?FM:n),ww(g)&&(e=e||GM,p.scrollbars="yes");const v=Object.entries(p).reduce((w,[D,U])=>`${w}${D}=${U},`,"");if(mO(g)&&m!=="_self")return QM(e||"",m),new HT(null);const S=window.open(e||"",m,v);Ve(S,r,"popup-blocked");try{S.focus()}catch{}return new HT(S)}function QM(r,e){const n=document.createElement("a");n.href=r,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YM="__/auth/handler",$M="emulator/auth/handler",XM=encodeURIComponent("fac");async function qT(r,e,n,a,o,u){Ve(r.config.authDomain,r,"auth-domain-config-required"),Ve(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:a,v:Ko,eventId:o};if(e instanceof Pw){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",TI(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,S]of Object.entries({}))f[v]=S}if(e instanceof Bu){const v=e.getScopes().filter(S=>S!=="");v.length>0&&(f.scopes=v.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const p=await r._getAppCheckToken(),g=p?`#${XM}=${encodeURIComponent(p)}`:"";return`${WM(r)}?${xu(m).slice(1)}${g}`}function WM({config:r}){return r.emulator?_g(r,$M):`https://${r.authDomain}/${YM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jm="webStorageSupport";class ZM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jw,this._completeRedirectFn=SM,this._overrideRedirectResult=vM}async _openPopup(e,n,a,o){Li(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await qT(e,n,a,pp(),o);return KM(e,u,wg())}async _openRedirect(e,n,a,o){await this._originValidation(e);const u=await qT(e,n,a,pp(),o);return tM(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Li(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await BM(e),a=new AM(e);return n.register("authEvent",o=>(Ve(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(jm,{type:jm},o=>{const u=o?.[0]?.[jm];u!==void 0&&n(!!u),Nr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=DM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Nw()||Aw()||Eg()}}const JM=ZM;var FT="@firebase/auth",GT="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t4(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function n4(r){Po(new Is("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=a.options;Ve(f&&!f.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ow(r)},g=new EO(a,o,u,p);return NO(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),Po(new Is("auth-internal",e=>{const n=Zo(e.getProvider("auth").getImmediate());return(a=>new e4(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ia(FT,GT,t4(r)),Ia(FT,GT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4=300,i4=R0("authIdTokenMaxAge")||r4;let KT=null;const a4=r=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>i4)return;const o=n?.token;KT!==o&&(KT=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function s4(r=M0()){const e=Np(r,"auth");if(e.isInitialized())return e.getImmediate();const n=DO(r,{popupRedirectResolver:JM,persistence:[cM,ZO,jw]}),a=R0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const f=a4(u.toString());QO(n,f,()=>f(n.currentUser)),KO(n,m=>f(m))}}const o=A0("auth");return o&&OO(n,`http://${o}`),n}function o4(){return document.getElementsByTagName("head")?.[0]??document}TO({loadJS(r){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=o=>{const u=ni("internal-error");u.customData=o,n(u)},a.type="text/javascript",a.charset="UTF-8",o4().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});n4("Browser");const l4={apiKey:"AIzaSyC32udZU3sDmHC2d-dm1f7uim34TBemcck",authDomain:"devlink-3b609.firebaseapp.com",projectId:"devlink-3b609",storageBucket:"devlink-3b609.firebasestorage.app",messagingSenderId:"774475294247",appId:"1:774475294247:web:eea2206562a3e7f04fd002"},Yw=O0(l4),bg=s4(Yw),bs=ON(Yw);function u4(){const[r,e]=Y.useState([]),[n,a]=Y.useState();return Y.useEffect(()=>{function o(){const u=mp(bs,"links"),f=uw(u,cw("created","asc"));qN(f).then(m=>{let p=[];m.forEach(g=>{p.push({id:g.id,name:g.data().name,url:g.data().url,bg:g.data().bg,color:g.data().color})}),e(p)})}o()},[]),Y.useEffect(()=>{function o(){const u=Iu(bs,"social","links");dw(u).then(f=>{f.data()!==void 0&&a({linkedin:f.data()?.linkedin,github:f.data()?.github})})}o()},[]),he.jsx(he.Fragment,{children:he.jsxs("div",{className:"w-full flex flex-col justify-center items-center py-4",children:[he.jsx("h1",{className:"md:text-4xl text-white text-3xl font-bold mt-20",children:"My Links App"}),he.jsx("span",{className:"text-green-50 mb-5 mt-4",children:"👇 See all my links 👇"}),he.jsxs("main",{className:"flex flex-col w-11/12 max-w-xl text-center",children:[r.map(o=>he.jsx("section",{style:{backgroundColor:o.bg},className:"bg-white mb-4 w-full py-2 rounded-lg select-none transition-transform hover:scale-x-105 cursor-pointer",children:he.jsx("a",{href:o.url,target:"_blank",children:he.jsx("p",{style:{color:o.color},className:"md:text-lg text-base",children:o.name})})},o.id)),n&&Object.keys(n).length>0&&he.jsxs("footer",{className:"flex justify-center gap-3 my-4",children:[he.jsx(dE,{url:n?.linkedin,children:he.jsx($R,{size:35,color:"#fff",className:"transition-transform hover:scale-y-105"})}),he.jsx(dE,{url:n?.github,children:he.jsx(YR,{size:35,color:"#fff",className:"transition-transform hover:scale-y-105"})})]})]})]})})}function c4(r){return tf({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m2 12 5 4v-3h9v-2H7V8z"},child:[]},{tag:"path",attr:{d:"M13.001 2.999a8.938 8.938 0 0 0-6.364 2.637L8.051 7.05c1.322-1.322 3.08-2.051 4.95-2.051s3.628.729 4.95 2.051 2.051 3.08 2.051 4.95-.729 3.628-2.051 4.95-3.08 2.051-4.95 2.051-3.628-.729-4.95-2.051l-1.414 1.414c1.699 1.7 3.959 2.637 6.364 2.637s4.665-.937 6.364-2.637c1.7-1.699 2.637-3.959 2.637-6.364s-.937-4.665-2.637-6.364a8.938 8.938 0 0 0-6.364-2.637z"},child:[]}]})(r)}function $w(){async function r(){await $O(bg)}return he.jsx("header",{className:"w-full max-w-2xl mt-4 px-1",children:he.jsxs("nav",{className:"w-full bg-white h-12 flex items-center justify-between rounded-md px-3",children:[he.jsxs("div",{className:"flex gap-4 font-bold",children:[he.jsx(Ss,{to:"/",children:"Home"}),he.jsx(Ss,{to:"/admin",children:"Links"}),he.jsx(Ss,{to:"/admin/socialmedia",children:"Social Media"})]}),he.jsx("button",{onClick:r,className:"transition-transform hover:scale-x-105 cursor-pointer",children:he.jsx(c4,{size:28,color:"#db2629"})})]})})}function qo(r){return he.jsx("input",{className:"border-0 h-9 rounded-md outline-none px-2 mb-3 bg-white",type:"text",placeholder:"teste input",...r})}function h4(r){return tf({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]}]})(r)}function f4(){const[r,e]=Y.useState(""),[n,a]=Y.useState(""),[o,u]=Y.useState("#f1f1f1"),[f,m]=Y.useState("#121212"),[p,g]=Y.useState([]);Y.useEffect(()=>{const w=mp(bs,"links"),D=uw(w,cw("created","asc")),U=QN(D,W=>{let q=[];W.forEach(J=>{q.push({id:J.id,name:J.data().name,url:J.data().url,bg:J.data().bg,color:J.data().color})}),g(q)});return()=>{U()}},[]);function v(w){if(w.preventDefault(),r===""||n===""){alert("Empty fields");return}KN(mp(bs,"links"),{name:r,url:n,bg:f,color:o,created:new Date}).then(()=>{e(""),a(""),console.log("Registration sucessed")}).catch(D=>{console.log("Registration ERROR"+D)})}async function S(w){const D=Iu(bs,"links",w);await GN(D)}return he.jsx(he.Fragment,{children:he.jsxs("div",{className:"flex items-center flex-col min-h-screen pb-7 px-2",children:[he.jsx($w,{}),he.jsxs("form",{onSubmit:v,className:"flex flex-col mt-8 mb-3 w-full max-w-xl",children:[he.jsx("label",{className:"text-white font-medium mt-2 mb-2",children:"Link name"}),he.jsx(qo,{placeholder:"Link",value:r,onChange:w=>e(w.target.value)}),he.jsx("label",{className:"text-white font-medium mt-2 mb-2",children:"Url"}),he.jsx(qo,{type:"url",placeholder:"URL",value:n,onChange:w=>a(w.target.value)}),he.jsxs("section",{className:"flex my-4 gap-5",children:[he.jsxs("div",{className:"flex items-center gap-2",children:[he.jsx("label",{className:"text-white font-medium mt-2 mb-2 gap-3",children:"Text color"}),he.jsx("input",{type:"color",value:o,onChange:w=>u(w.target.value)})]}),he.jsxs("div",{className:"flex items-center gap-2",children:[he.jsx("label",{className:"text-white font-medium mt-2 mb-2",children:"Background color"}),he.jsx("input",{type:"color",value:f,onChange:w=>m(w.target.value)})]})]}),r!==""&&he.jsxs("div",{className:"flex items-center justify-center flex-col mt-7 p-1 border-gray-100/25 border rounded-md",children:[he.jsx("label",{className:"text-white font-medium mt-2 mb-3",children:"Preview"}),he.jsx("article",{className:"w-11/12 max-w-lg flex flex-col items-center justify-between bg-zinc-900 rounded px-1 py-3",style:{marginBottom:8,marginTop:8,backgroundColor:f},children:he.jsx("p",{className:"font-medium",style:{color:o},children:r})})]}),he.jsx("button",{type:"submit",className:"bg-blue-600 h-9 rounded-md text-white font-medium gap-4 flex justify-center items-center mt-7 mb-7 cursor-pointer",children:"Register"})]}),he.jsx("h2",{className:"font-bold text-white mb-4 text-2xl",children:"My Links"}),p.map(w=>he.jsxs("article",{className:"flex items-center justify-between w-11/12 max-w-xl rounded py-3 px-2 mb-2 select-none",style:{backgroundColor:w.bg,color:w.color},children:[he.jsx("p",{children:w.name}),he.jsx("div",{children:he.jsx("button",{className:"border border-dashed p-1 rounded cursor-pointer",onClick:()=>S(w.id),children:he.jsx(h4,{size:18,color:"#fff"})})})]},w.id))]})})}function d4(){const[r,e]=Y.useState(""),[n,a]=Y.useState(""),o=wp();function u(f){if(f.preventDefault(),r===""||n===""){alert("Write your email and password");return}GO(bg,r,n).then(()=>{console.log("Logged sucess"),o("/admin",{replace:!0})}).catch(m=>{console.log(m)})}return he.jsx(he.Fragment,{children:he.jsx("div",{className:"w-full h-screen flex flex-col justify-center items-center",children:he.jsxs("h1",{children:[he.jsx(Ss,{to:"/",children:he.jsxs("h1",{className:"mt-11 text-white mb-7 font-bold text-5xl",children:["My",he.jsx("span",{className:"bg-gradient-to-r from-yellow-500 to-orange-400 bg-clip-text text-transparent",children:" Links App"})]})}),he.jsxs("form",{onSubmit:u,className:"w-full max-w-xl flex flex-col px-2",children:[he.jsx(qo,{placeholder:"Email",type:"email",value:r,onChange:f=>e(f.target.value)}),he.jsx(qo,{placeholder:"Password",type:"password",value:n,onChange:f=>a(f.target.value)}),he.jsx("button",{type:"submit",className:"h-9 bg-blue-600 rounded border-0 text-lg font-medium text-white cursor-pointer",children:"Login"})]})]})})})}function m4(){const[r,e]=Y.useState(""),[n,a]=Y.useState("");Y.useEffect(()=>{function u(){const f=Iu(bs,"social","links");dw(f).then(m=>{m.data()!==void 0&&(e(m.data()?.linkedin),a(m.data()?.github))})}u()},[]);function o(u){u.preventDefault(),FN(Iu(bs,"social","links"),{linkedin:r,github:n}).then(()=>{console.log("Success")}).catch(f=>{console.log("ERROR"+f)})}return he.jsx(he.Fragment,{children:he.jsxs("div",{className:"flex items-center flex-col min-h-screen pb-7 px-2",children:[he.jsx($w,{}),he.jsx("h1",{className:"text-white text-2xl font-medium mt-8 mb-4",children:"Social Media Page"}),he.jsxs("form",{className:"flex flex-col max-w-xl w-full",onSubmit:o,children:[he.jsx("label",{className:"text-white font-medium mt-2 mb-2",children:"Linkedin Link"}),he.jsx(qo,{placeholder:"Linkedin Url",type:"url",value:r,onChange:u=>e(u.target.value)}),he.jsx("label",{className:"text-white font-medium mt-2 mb-2",children:"GitHub Link"}),he.jsx(qo,{placeholder:"GitHub Url",type:"url",value:n,onChange:u=>a(u.target.value)}),he.jsx("button",{type:"submit",className:"text-white bg-blue-600 h-9 rounded-md items-center justify-center flex mb-7 font-bold cursor-pointer",children:"Save"})]})]})})}function QT({children:r}){const[e,n]=Y.useState(!0),[a,o]=Y.useState(!1);return Y.useEffect(()=>{const u=YO(bg,f=>{if(f){const m={uid:f?.uid,email:f?.email};localStorage.setItem("@reactMyLinks",JSON.stringify(m)),n(!1),o(!0)}else n(!1),o(!1)});return()=>{u()}},[]),e?he.jsx("div",{}):a?r:he.jsx(rR,{to:"/"})}function p4(){return he.jsxs("div",{className:"flex w-full justify-center items-center flex-col text-white min-h-screen",children:[he.jsx("h1",{className:"font-bold text-4xl mb-4",children:"Page Not Found"}),he.jsx(Ss,{className:" bg-gray-50/20 py-1 px-4 rounded-md",to:"/",children:"Return to homepage"})]})}const g4=IR([{path:"/",element:he.jsx(u4,{})},{path:"/login",element:he.jsx(d4,{})},{path:"/admin",element:he.jsx(QT,{children:he.jsx(f4,{})})},{path:"/admin/socialmedia",element:he.jsx(QT,{children:he.jsx(m4,{})})},{path:"*",element:he.jsx(p4,{})}]);Db.createRoot(document.getElementById("root")).render(he.jsx(Y.StrictMode,{children:he.jsx(BR,{router:g4})}));
